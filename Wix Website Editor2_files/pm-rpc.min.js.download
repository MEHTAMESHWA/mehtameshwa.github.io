!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pmrpc",[],e):"object"==typeof exports?exports.pmrpc=e():t.pmrpc=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.api2=e.api=void 0;var i=n(1),u=o(i),a=n(59),c=o(a),s=n(146),f=r(s);f.default.polyfill();var l={set:u.set,sendTo:u.sendTo,get:u.get,sendToWindow:u.sendToWindow};e.api=l,e.api2=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.get=e.sendTo=e.sendToWindow=e.set=void 0;var u=n(2),a=n(3),c=o(a),s=n(5),f=r(s),l=n(6),p=r(l),v=n(4),d=o(v),h=n(58),y=r(h),_={},g=function(t,e){try{return Promise.resolve(t.apply(void 0,i(e)))}catch(t){return Promise.reject("string"==typeof t?t:t.message)}},b=function(t,e){var n=e.targetName,r=e.appId,o=e.promiseId;return"worker"===t?function(t){return function(e){return self.postMessage({intent:t,promiseId:o,result:e})}}:function(t){return function(e){var i=n?c.getTargetFromName(r,n):c.getTarget(r);i&&i.postMessage({intent:t,promiseId:o,result:e},"*")}}},m=function(t,e){switch(e.data.intent){case p.default.INVOKE:if(e.data.args&&e.data.call){var n=_[e.data.appId][e.data.call];if(n)if(e.data.promiseId){var r=b(t,e.data);g(n,e.data.args).then(r(p.default.RPC_RESOLVE),r(p.default.RPC_REJECT))}else n.apply(void 0,i(e.data.args));else console.warn("bad message w/ data: "+JSON.stringify(e.data))}break;case p.default.API_DESCRIPTION:f.default.buildAPI(e.data,"frame")}},x=function(t,e,n,r){switch(r.data.intent){case p.default.RPC_RESOLVE:var o=(0,u.getPromiseById)(r.data.promiseId),i=o.resolve;i(r.data.result);break;case p.default.RPC_REJECT:var a=(0,u.getPromiseById)(r.data.promiseId),c=a.reject;c(r.data.result);break;case p.default.API_DESCRIPTION:if(r.data.appId===e){f.default.buildAPI(r.data,n);var s=f.default.getAPI();s&&t(s)}break;default:f.default.clear()}},w=function(t){return Object.keys(t).reduce(function(t,e){return t[e]={},t},{})},j=(e.set=function(t,e){if(_[t]=e,d.isWorker()){var n=w(e);d.get().postMessage({appId:t,description:n,intent:p.default.API_DESCRIPTION}),(0,y.default)(d.get(),t,"message",function(t){return m("worker",t)})}},e.sendToWindow=function(t,e){var n=_[t];if(n){var r=w(n);c.setTarget(e),e.postMessage({appId:t,description:r,intent:p.default.API_DESCRIPTION},"*"),(0,y.default)(d.get(),t,"message",function(t){return m("frame",t)})}else console.warn("No api to send, please call rpc.set w/ proper API")});e.sendTo=function(t,e){if(e===parent)return void j(t,e);var n=_[t];n?(c.setTarget(e.contentWindow),e.contentWindow.postMessage({appId:t,description:w(n),intent:p.default.API_DESCRIPTION},e.src),(0,y.default)(d.get(),t,"message",m.bind(this,"frame"))):console.warn("No api to send, please call rpc.set w/ proper API")},e.get=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.appId,n=t.targetId,r=t.target,o=t.initiator,i="worker";return d.isWorker()||(c.addInitiator(e,o),c.setTargetId(n),c.setTarget(r),i="frame"),new Promise(function(t){(0,y.default)(d.get(),e,"message",function(n){return x(t,e,i,n)})})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={},r=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},o=function(){return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()};e.addRemoteCall=function(t,e){var r=o();return n[r]={resolve:t,reject:e},r},e.getPromiseById=function(t){return n[t]}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.getTargetFromName=e.addInitiator=e.setTargetId=e.setTarget=e.getTarget=void 0;var o=n(4),i=r(o),u=void 0,a=void 0,c=new Map,s=function(t){var e=v(t);return e?i.getContentWindow(e):"parent"===a?parent:u},f=function(t,e){var n=i.getDocument().getElementsByName(e)[0];if(n)return n.contentWindow},l=function(t){u=t},p=function(t,e){c.set(t,e)},v=function(t){return c.get(t)},d=function(t){a=t};e.getTarget=s,e.setTarget=l,e.setTargetId=d,e.addInitiator=p,e.getTargetFromName=f},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return self},r=function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope},o=function(t){return document.getElementById(t)},i=function(t){return o(t).contentWindow},u=function(){return document};e.get=n,e.isWorker=r,e.getContentWindow=i,e.getDocument=u,e.getChildFrameById=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(2),s=n(3),f=o(s),l=n(4),p=o(l),v=n(6),d=r(v),h=n(7),y=r(h),_=function(){function t(){u(this,t)}return a(t,null,[{key:"buildAPI",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.description,r=e.appId,o=arguments[1];if(!n)return void t.clear();var u=void 0;u="frame"===o?function(t){return f.getTarget(r).postMessage((0,y.default)({targetName:window.name},t),"*")}:function(t){return p.get().postMessage(t)};var a=function(t){return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return new Promise(function(e,o){var i=(0,c.addRemoteCall)(e,o);u({appId:r,call:t,args:n,promiseId:i,intent:d.default.INVOKE})})}};t._api=Object.keys(n).reduce(function(t,e){return(0,y.default)(t,i({},e,a(e)))},{})}},{key:"clear",value:function(){t._api=void 0}},{key:"getAPI",value:function(){return t._api}}]),t}();e.default=_},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={INVOKE:"invoke",RPC_RESOLVE:"rpc-resolve",RPC_REJECT:"rpc-reject",API_DESCRIPTION:"api-desc",INVOKE_FUNCTION:"invoke-func",RESOLVE:"resolve",REJECT:"reject",REQUEST_API:"request-api"}},function(t,e,n){var r=n(8),o=n(26),i=n(27),u=n(37),a=n(40),c=n(41),s=Object.prototype,f=s.hasOwnProperty,l=i(function(t,e){if(a(e)||u(e))return void o(e,c(e),t);for(var n in e)f.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e,n){function r(t,e,n){var r=t[e];a.call(t,e)&&i(r,n)&&(void 0!==n||e in t)||o(t,e,n)}var o=n(9),i=n(25),u=Object.prototype,a=u.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var o=n(10);t.exports=r},function(t,e,n){var r=n(11),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){function r(t,e){var n=i(t,e);return o(n)?n:void 0}var o=n(12),i=n(24);t.exports=r},function(t,e,n){function r(t){if(!u(t)||i(t))return!1;var e=o(t)?d:s;return e.test(a(t))}var o=n(13),i=n(21),u=n(20),a=n(23),c=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,f=Function.prototype,l=Object.prototype,p=f.toString,v=l.hasOwnProperty,d=RegExp("^"+p.call(v).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){if(!i(t))return!1;var e=o(t);return e==a||e==c||e==u||e==s}var o=n(14),i=n(20),u="[object AsyncFunction]",a="[object Function]",c="[object GeneratorFunction]",s="[object Proxy]";t.exports=r},function(t,e,n){function r(t){return null==t?void 0===t?c:a:s&&s in Object(t)?i(t):u(t)}var o=n(15),i=n(18),u=n(19),a="[object Null]",c="[object Undefined]",s=o?o.toStringTag:void 0;t.exports=r},function(t,e,n){var r=n(16),o=r.Symbol;t.exports=o},function(t,e,n){var r=n(17),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=u.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[c]=n:delete t[c]),o}var o=n(15),i=Object.prototype,u=i.hasOwnProperty,a=i.toString,c=o?o.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){function r(t){return!!i&&i in t}var o=n(22),i=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(16),o=r["__core-js_shared__"];t.exports=o},function(t,e){function n(t){if(null!=t){try{return o.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,o=r.toString;t.exports=n},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t,e,n,r){var u=!n;n||(n={});for(var a=-1,c=e.length;++a<c;){var s=e[a],f=r?r(n[s],t[s],s,n,t):void 0;void 0===f&&(f=t[s]),u?i(n,s,f):o(n,s,f)}return n}var o=n(8),i=n(9);t.exports=r},function(t,e,n){function r(t){return o(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(u=t.length>3&&"function"==typeof u?(o--,u):void 0,a&&i(n[0],n[1],a)&&(u=o<3?void 0:u,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,u)}return e})}var o=n(28),i=n(36);t.exports=r},function(t,e,n){function r(t,e){return u(i(t,e,o),t+"")}var o=n(29),i=n(30),u=n(32);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var r=arguments,u=-1,a=i(r.length-e,0),c=Array(a);++u<a;)c[u]=r[e+u];u=-1;for(var s=Array(e+1);++u<e;)s[u]=r[u];return s[e]=n(c),o(t,this,s)}}var o=n(31),i=Math.max;t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){var r=n(33),o=n(35),i=o(r);t.exports=i},function(t,e,n){var r=n(34),o=n(10),i=n(29),u=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=u},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e){function n(t){var e=0,n=0;return function(){var u=i(),a=o-(u-n);if(n=u,a>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,o=16,i=Date.now;t.exports=n},function(t,e,n){function r(t,e,n){if(!a(n))return!1;var r=typeof e;return!!("number"==r?i(n)&&u(e,n.length):"string"==r&&e in n)&&o(n[e],t)}var o=n(25),i=n(37),u=n(39),a=n(20);t.exports=r},function(t,e,n){function r(t){return null!=t&&i(t.length)&&!o(t)}var o=n(13),i=n(38);t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e){function n(t,e){return e=null==e?r:e,!!e&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}var r=Object.prototype;t.exports=n},function(t,e,n){function r(t){return u(t)?o(t):i(t)}var o=n(42),i=n(55),u=n(37);t.exports=r},function(t,e,n){function r(t,e){var n=u(t),r=!n&&i(t),f=!n&&!r&&a(t),p=!n&&!r&&!f&&s(t),v=n||r||f||p,d=v?o(t.length,String):[],h=d.length;for(var y in t)!e&&!l.call(t,y)||v&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||c(y,h))||d.push(y);return d}var o=n(43),i=n(44),u=n(47),a=n(48),c=n(39),s=n(51),f=Object.prototype,l=f.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){var r=n(45),o=n(46),i=Object.prototype,u=i.hasOwnProperty,a=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&u.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,e,n){function r(t){return i(t)&&o(t)==u}var o=n(14),i=n(46),u="[object Arguments]";t.exports=r},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){(function(t){var r=n(16),o=n(50),i="object"==typeof e&&e&&!e.nodeType&&e,u=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=u&&u.exports===i,c=a?r.Buffer:void 0,s=c?c.isBuffer:void 0,f=s||o;t.exports=f}).call(e,n(49)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){var r=n(52),o=n(53),i=n(54),u=i&&i.isTypedArray,a=u?o(u):r;t.exports=a},function(t,e,n){function r(t){return u(t)&&i(t.length)&&!!S[o(t)]}var o=n(14),i=n(38),u=n(46),a="[object Arguments]",c="[object Array]",s="[object Boolean]",f="[object Date]",l="[object Error]",p="[object Function]",v="[object Map]",d="[object Number]",h="[object Object]",y="[object RegExp]",_="[object Set]",g="[object String]",b="[object WeakMap]",m="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",O="[object Int8Array]",A="[object Int16Array]",P="[object Int32Array]",I="[object Uint8Array]",E="[object Uint8ClampedArray]",T="[object Uint16Array]",M="[object Uint32Array]",S={};S[w]=S[j]=S[O]=S[A]=S[P]=S[I]=S[E]=S[T]=S[M]=!0,S[a]=S[c]=S[m]=S[s]=S[x]=S[f]=S[l]=S[p]=S[v]=S[d]=S[h]=S[y]=S[_]=S[g]=S[b]=!1,t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){(function(t){var r=n(17),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===o,a=u&&r.process,c=function(){try{return a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=c}).call(e,n(49)(t))},function(t,e,n){function r(t){if(!o(t))return i(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}var o=n(40),i=n(56),u=Object.prototype,a=u.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(57),o=r(Object.keys,Object);t.exports=o},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){"use strict";function n(t,e,n,i){r(e),t.addEventListener(n,i),o.push({element:t,scope:e,event:n,handler:i})}function r(t){o.map(function(e){e.scope===t&&e.element.removeEventListener(e.event,e.handler)}),o=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var o=[]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.request=e.set=void 0;var i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(60),a=o(u),c=n(4),s=n(6),f=r(s),l=n(96),p=n(97),v=function(t){var e=t.target,n=t.initiator;switch(!0){case(0,c.isWorker)():return{target:self,targetOrigin:"*"};case Boolean(e):return e.contentWindow?{target:e.contentWindow,targetOrigin:e.src}:{target:e,targetOrigin:"*"};case Boolean(n):var r=(0,c.getChildFrameById)(n);return{target:r.contentWindow,targetOrigin:r.src};default:throw new Error("Invalid target")}},d=function(t,e){return function(n){return t.postMessage({intent:e,result:n})}},h=function(t){var e=t.data,n=e.appId,r=e.intent,o=e.call,u=e.args,c=i(t.ports,1),s=c[0];switch(r){case f.default.REQUEST_API:var p=a.getAppById(n),v=p?(0,l.getDescription)(p):null;return void s.postMessage(v);case f.default.INVOKE_FUNCTION:var h=a.getAppData(n);h.onApiCall&&h.onApiCall({appId:n,call:o,args:u});var y=h.app[o];return(0,l.invokeApiFunction)(y,u).then(d(s,f.default.RESOLVE),d(s,f.default.REJECT))}};e.set=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.onApiCall;a.hasApp(t)||(a.registerApp(t,e,r),self.addEventListener("message",h))},e.request=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v(e);return(0,p.send)({intent:f.default.REQUEST_API,appId:t},n).then(function(e){return e?(0,l.buildApiFromDescription)(t,e,n):Promise.reject(new Error("App with ID "+t+" not found"))})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.hasApp=e.getAppData=e.getAppById=e.registerApp=void 0;var o=n(61),i=r(o),u={};e.registerApp=function(t,e,n){u[t]={app:e,onApiCall:n}},e.getAppById=function(t){return(0,i.default)(u,[t,"app"])},e.getAppData=function(t){return u[t]},e.hasApp=function(t){return Boolean(u[t])}},function(t,e,n){function r(t,e,n){var r=null==t?void 0:o(t,e);return void 0===r?n:r}var o=n(62);t.exports=r},function(t,e,n){function r(t,e){e=o(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[i(e[n++])];return n&&n==r?t:void 0}var o=n(63),i=n(95);t.exports=r},function(t,e,n){function r(t,e){return o(t)?t:i(t,e)?[t]:u(a(t))}var o=n(47),i=n(64),u=n(66),a=n(92);t.exports=r},function(t,e,n){function r(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!u.test(t)||null!=e&&t in Object(e)}var o=n(47),i=n(65),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=r},function(t,e,n){function r(t){return"symbol"==typeof t||i(t)&&o(t)==u}var o=n(14),i=n(46),u="[object Symbol]";t.exports=r},function(t,e,n){var r=n(67),o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,a=r(function(t){var e=[];return o.test(t)&&e.push(""),t.replace(i,function(t,n,r,o){e.push(r?o.replace(u,"$1"):n||t)}),e});t.exports=a},function(t,e,n){function r(t){var e=o(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}var o=n(68),i=500;t.exports=r},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(r.Cache||o),n}var o=n(69),i="Expected a function";r.Cache=o,t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(70),i=n(86),u=n(89),a=n(90),c=n(91);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=u,r.prototype.has=a,r.prototype.set=c,t.exports=r},function(t,e,n){function r(){this.size=0,this.__data__={hash:new o,map:new(u||i),string:new o}}var o=n(71),i=n(78),u=n(85);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(72),i=n(74),u=n(75),a=n(76),c=n(77);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=u,r.prototype.has=a,r.prototype.set=c,t.exports=r},function(t,e,n){function r(){this.__data__=o?o(null):{},this.size=0}var o=n(73);t.exports=r},function(t,e,n){var r=n(11),o=r(Object,"create");t.exports=o},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(o){var n=e[t];return n===i?void 0:n}return a.call(e,t)?e[t]:void 0}var o=n(73),i="__lodash_hash_undefined__",u=Object.prototype,a=u.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return o?void 0!==e[t]:u.call(e,t)}var o=n(73),i=Object.prototype,u=i.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?i:e,this}var o=n(73),i="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(79),i=n(80),u=n(82),a=n(83),c=n(84);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=u,r.prototype.has=a,r.prototype.set=c,t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():u.call(e,n,1),--this.size,!0}var o=n(81),i=Array.prototype,u=i.splice;t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}var o=n(25);t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}var o=n(81);t.exports=r},function(t,e,n){function r(t){return o(this.__data__,t)>-1}var o=n(81);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var o=n(81);t.exports=r},function(t,e,n){var r=n(11),o=n(16),i=r(o,"Map");t.exports=i},function(t,e,n){function r(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}var o=n(87);t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}var o=n(88);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return o(this,t).get(t)}var o=n(87);t.exports=r},function(t,e,n){function r(t){return o(this,t).has(t)}var o=n(87);t.exports=r},function(t,e,n){function r(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var o=n(87);t.exports=r},function(t,e,n){function r(t){return null==t?"":o(t)}var o=n(93);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(u(t))return i(t,r)+"";if(a(t))return f?f.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}var o=n(15),i=n(94),u=n(47),a=n(65),c=1/0,s=o?o.prototype:void 0,f=s?s.toString:void 0;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},function(t,e,n){function r(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}var o=n(65),i=1/0;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.invokeApiFunction=e.getDescription=e.buildApiFromDescription=void 0;var i=n(6),u=r(i),a=n(97),c=n(99),s=r(c),f=!0,l=function(t){var e=t.intent,n=t.result;switch(e){case u.default.RESOLVE:return n;case u.default.REJECT:return Promise.reject(n)}},p=function(t,e,n){return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return(0,a.send)({appId:t,call:n,args:o,intent:u.default.INVOKE_FUNCTION},e).then(l)}};e.buildApiFromDescription=function(t,e,n){return(0,s.default)(e,function(e,r){return p(t,n,r)})},e.getDescription=function(t){return(0,s.default)(t,function(){return f})},e.invokeApiFunction=function(t,e){try{return Promise.resolve(t.apply(void 0,o(e)))}catch(t){return Promise.reject("string"==typeof t?t:t.message)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.send=void 0;var o=n(98),i=r(o);e.send=function(t,e){var n=e.target,r=e.targetOrigin;return(0,i.default)(t,n,r)}},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;return new Promise(function(o,i){r&&(e=self),e&&e.postMessage||i(new Error("Invalid target"));var u=new MessageChannel,a=u.port1,c=u.port2;e===self||e instanceof Worker?e.postMessage(t,[c]):e.postMessage(t,n,[c]),a.onmessage=function(t){var e=t.data;return o(e)}})}}])})},function(t,e,n){function r(t,e){var n={};return e=u(e,3),i(t,function(t,r,i){o(n,r,e(t,r,i))}),n}var o=n(9),i=n(100),u=n(103);t.exports=r},function(t,e,n){function r(t,e){return t&&o(t,e,i)}var o=n(101),i=n(41);t.exports=r},function(t,e,n){var r=n(102),o=r();t.exports=o},function(t,e){function n(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(n(i[c],c,i)===!1)break}return e}}t.exports=n},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?u:"object"==typeof t?a(t)?i(t[0],t[1]):o(t):c(t)}var o=n(104),i=n(139),u=n(29),a=n(47),c=n(143);t.exports=r},function(t,e,n){function r(t){var e=i(t);return 1==e.length&&e[0][2]?u(e[0][0],e[0][1]):function(n){return n===t||o(n,t,e)}}var o=n(105),i=n(136),u=n(138);t.exports=r},function(t,e,n){function r(t,e,n,r){var c=n.length,s=c,f=!r;if(null==t)return!s;for(t=Object(t);c--;){var l=n[c];if(f&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++c<s;){l=n[c];var p=l[0],v=t[p],d=l[1];if(f&&l[2]){if(void 0===v&&!(p in t))return!1}else{var h=new o;if(r)var y=r(v,d,p,t,e,h);if(!(void 0===y?i(d,v,u|a,r,h):y))return!1}}return!0}var o=n(106),i=n(112),u=1,a=2;t.exports=r},function(t,e,n){function r(t){var e=this.__data__=new o(t);this.size=e.size}var o=n(78),i=n(107),u=n(108),a=n(109),c=n(110),s=n(111);r.prototype.clear=i,r.prototype.delete=u,r.prototype.get=a,r.prototype.has=c,r.prototype.set=s,t.exports=r},function(t,e,n){function r(){this.__data__=new o,this.size=0}var o=n(78);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!i||r.length<a-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new u(r)}return n.set(t,e),this.size=n.size,this}var o=n(78),i=n(85),u=n(69),a=200;t.exports=r},function(t,e,n){function r(t,e,n,u,a){return t===e||(null==t||null==e||!i(t)&&!i(e)?t!==t&&e!==e:o(t,e,n,u,r,a))}var o=n(113),i=n(46);t.exports=r},function(t,e,n){function r(t,e,n,r,y,g){var b=s(t),m=s(e),x=b?d:c(t),w=m?d:c(e);x=x==v?h:x,w=w==v?h:w;var j=x==h,O=w==h,A=x==w;if(A&&f(t)){if(!f(e))return!1;b=!0,j=!1}if(A&&!j)return g||(g=new o),b||l(t)?i(t,e,n,r,y,g):u(t,e,x,n,r,y,g);if(!(n&p)){var P=j&&_.call(t,"__wrapped__"),I=O&&_.call(e,"__wrapped__");if(P||I){var E=P?t.value():t,T=I?e.value():e;return g||(g=new o),y(E,T,n,r,g)}}return!!A&&(g||(g=new o),a(t,e,n,r,y,g))}var o=n(106),i=n(114),u=n(120),a=n(124),c=n(131),s=n(47),f=n(48),l=n(51),p=1,v="[object Arguments]",d="[object Array]",h="[object Object]",y=Object.prototype,_=y.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,r,s,f){var l=n&a,p=t.length,v=e.length;if(p!=v&&!(l&&v>p))return!1;var d=f.get(t);if(d&&f.get(e))return d==e;var h=-1,y=!0,_=n&c?new o:void 0;for(f.set(t,e),f.set(e,t);++h<p;){var g=t[h],b=e[h];if(r)var m=l?r(b,g,h,e,t,f):r(g,b,h,t,e,f);if(void 0!==m){if(m)continue;y=!1;break}if(_){if(!i(e,function(t,e){if(!u(_,e)&&(g===t||s(g,t,n,r,f)))return _.push(e)})){y=!1;break}}else if(g!==b&&!s(g,b,n,r,f)){y=!1;break}}return f.delete(t),f.delete(e),y}var o=n(115),i=n(118),u=n(119),a=1,c=2;t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new o;++e<n;)this.add(t[e])}var o=n(69),i=n(116),u=n(117);r.prototype.add=r.prototype.push=i,r.prototype.has=u,t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){function r(t,e,n,r,o,j,A){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!j(new i(t),new i(e)));case p:case v:case y:return u(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case b:return t==e+"";case h:var P=c;case g:var I=r&f;if(P||(P=s),t.size!=e.size&&!I)return!1;var E=A.get(t);if(E)return E==e;r|=l,A.set(t,e);var T=a(P(t),P(e),r,o,j,A);return A.delete(t),T;case m:if(O)return O.call(t)==O.call(e)}return!1}var o=n(15),i=n(121),u=n(25),a=n(114),c=n(122),s=n(123),f=1,l=2,p="[object Boolean]",v="[object Date]",d="[object Error]",h="[object Map]",y="[object Number]",_="[object RegExp]",g="[object Set]",b="[object String]",m="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",j=o?o.prototype:void 0,O=j?j.valueOf:void 0;t.exports=r},function(t,e,n){var r=n(16),o=r.Uint8Array;t.exports=o},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(t,e,n,r,u,c){var s=n&i,f=o(t),l=f.length,p=o(e),v=p.length;if(l!=v&&!s)return!1;for(var d=l;d--;){var h=f[d];if(!(s?h in e:a.call(e,h)))return!1}var y=c.get(t);if(y&&c.get(e))return y==e;var _=!0;c.set(t,e),c.set(e,t);for(var g=s;++d<l;){h=f[d];var b=t[h],m=e[h];if(r)var x=s?r(m,b,h,e,t,c):r(b,m,h,t,e,c);if(!(void 0===x?b===m||u(b,m,n,r,c):x)){_=!1;break}g||(g="constructor"==h)}if(_&&!g){var w=t.constructor,j=e.constructor;w!=j&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof j&&j instanceof j)&&(_=!1)}return c.delete(t),c.delete(e),_}var o=n(125),i=1,u=Object.prototype,a=u.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return o(t,u,i)}var o=n(126),i=n(128),u=n(41);t.exports=r},function(t,e,n){function r(t,e,n){var r=e(t);return i(t)?r:o(r,n(t))}var o=n(127),i=n(47);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}t.exports=n},function(t,e,n){var r=n(129),o=n(130),i=Object.prototype,u=i.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return u.call(t,e)}))}:o;t.exports=c},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}t.exports=n},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var r=n(132),o=n(85),i=n(133),u=n(134),a=n(135),c=n(14),s=n(23),f="[object Map]",l="[object Object]",p="[object Promise]",v="[object Set]",d="[object WeakMap]",h="[object DataView]",y=s(r),_=s(o),g=s(i),b=s(u),m=s(a),x=c;
(r&&x(new r(new ArrayBuffer(1)))!=h||o&&x(new o)!=f||i&&x(i.resolve())!=p||u&&x(new u)!=v||a&&x(new a)!=d)&&(x=function(t){var e=c(t),n=e==l?t.constructor:void 0,r=n?s(n):"";if(r)switch(r){case y:return h;case _:return f;case g:return p;case b:return v;case m:return d}return e}),t.exports=x},function(t,e,n){var r=n(11),o=n(16),i=r(o,"DataView");t.exports=i},function(t,e,n){var r=n(11),o=n(16),i=r(o,"Promise");t.exports=i},function(t,e,n){var r=n(11),o=n(16),i=r(o,"Set");t.exports=i},function(t,e,n){var r=n(11),o=n(16),i=r(o,"WeakMap");t.exports=i},function(t,e,n){function r(t){for(var e=i(t),n=e.length;n--;){var r=e[n],u=t[r];e[n]=[r,u,o(u)]}return e}var o=n(137),i=n(41);t.exports=r},function(t,e,n){function r(t){return t===t&&!o(t)}var o=n(20);t.exports=r},function(t,e){function n(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}t.exports=n},function(t,e,n){function r(t,e){return a(t)&&c(e)?s(f(t),e):function(n){var r=i(n,t);return void 0===r&&r===e?u(n,t):o(e,r,l|p)}}var o=n(112),i=n(61),u=n(140),a=n(64),c=n(137),s=n(138),f=n(95),l=1,p=2;t.exports=r},function(t,e,n){function r(t,e){return null!=t&&i(t,e,o)}var o=n(141),i=n(142);t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t,e,n){e=o(e,t);for(var r=-1,f=e.length,l=!1;++r<f;){var p=s(e[r]);if(!(l=null!=t&&n(t,p)))break;t=t[p]}return l||++r!=f?l:(f=null==t?0:t.length,!!f&&c(f)&&a(p,f)&&(u(t)||i(t)))}var o=n(63),i=n(44),u=n(47),a=n(39),c=n(38),s=n(95);t.exports=r},function(t,e,n){function r(t){return u(t)?o(a(t)):i(t)}var o=n(144),i=n(145),u=n(64),a=n(95);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return function(e){return o(e,t)}}var o=n(62);t.exports=r},function(t,e,n){(function(e,r){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function o(t){return"function"==typeof t}function i(t){Q=t}function u(t){Y=t}function a(){return function(){return e.nextTick(p)}}function c(){return function(){q(p)}}function s(){var t=0,e=new Z(p),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function f(){var t=new MessageChannel;return t.port1.onmessage=p,function(){return t.port2.postMessage(0)}}function l(){var t=setTimeout;return function(){return t(p,1)}}function p(){for(var t=0;t<G;t+=2){var e=nt[t],n=nt[t+1];e(n),nt[t]=void 0,nt[t+1]=void 0}G=0}function v(){try{var t=n(148);return q=t.runOnLoop||t.runOnContext,c()}catch(t){return l()}}function d(t,e){var n=arguments,r=this,o=new this.constructor(y);void 0===o[ot]&&N(o);var i=r._state;return i?!function(){var t=n[i-1];Y(function(){return k(i,o,t,r._result)})}():E(r,o,t,e),o}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(y);return O(n,t),n}function y(){}function _(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function b(t){try{return t.then}catch(t){return ct.error=t,ct}}function m(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function x(t,e,n){Y(function(t){var r=!1,o=m(n,e,function(n){r||(r=!0,e!==n?O(t,n):P(t,n))},function(e){r||(r=!0,I(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,I(t,o))},t)}function w(t,e){e._state===ut?P(t,e._result):e._state===at?I(t,e._result):E(e,void 0,function(e){return O(t,e)},function(e){return I(t,e)})}function j(t,e,n){e.constructor===t.constructor&&n===d&&e.constructor.resolve===h?w(t,e):n===ct?I(t,ct.error):void 0===n?P(t,e):o(n)?x(t,e,n):P(t,e)}function O(e,n){e===n?I(e,_()):t(n)?j(e,n,b(n)):P(e,n)}function A(t){t._onerror&&t._onerror(t._result),T(t)}function P(t,e){t._state===it&&(t._result=e,t._state=ut,0!==t._subscribers.length&&Y(T,t))}function I(t,e){t._state===it&&(t._state=at,t._result=e,Y(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+ut]=n,o[i+at]=r,0===i&&t._state&&Y(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,u=0;u<e.length;u+=3)r=e[u],o=e[u+n],r?k(n,r,o,i):o(i);t._subscribers.length=0}}function M(){this.error=null}function S(t,e){try{return t(e)}catch(t){return st.error=t,st}}function k(t,e,n,r){var i=o(n),u=void 0,a=void 0,c=void 0,s=void 0;if(i){if(u=S(n,r),u===st?(s=!0,a=u.error,u=null):c=!0,e===u)return void I(e,g())}else u=r,c=!0;e._state!==it||(i&&c?O(e,u):s?I(e,a):t===ut?P(e,u):t===at&&I(e,u))}function C(t,e){try{e(function(e){O(t,e)},function(e){I(t,e)})}catch(e){I(t,e)}}function R(){return ft++}function N(t){t[ot]=ft++,t._state=void 0,t._result=void 0,t._subscribers=[]}function D(t,e){this._instanceConstructor=t,this.promise=new t(y),this.promise[ot]||N(this.promise),K(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&P(this.promise,this._result))):I(this.promise,W())}function W(){return new Error("Array Methods must be provided an Array")}function z(t){return new D(this,t).promise}function F(t){var e=this;return new e(K(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function B(t){var e=this,n=new e(y);return I(n,t),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function V(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(t){this[ot]=R(),this._result=this._state=void 0,this._subscribers=[],y!==t&&("function"!=typeof t&&L(),this instanceof U?C(this,t):V())}function $(){var t=void 0;if("undefined"!=typeof r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=U}var J=void 0;J=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var K=J,G=0,q=void 0,Q=void 0,Y=function(t,e){nt[G]=t,nt[G+1]=e,G+=2,2===G&&(Q?Q(p):rt())},H="undefined"!=typeof window?window:void 0,X=H||{},Z=X.MutationObserver||X.WebKitMutationObserver,tt="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nt=new Array(1e3),rt=void 0;rt=tt?a():Z?s():et?f():void 0===H?v():l();var ot=Math.random().toString(36).substring(16),it=void 0,ut=1,at=2,ct=new M,st=new M,ft=0;return D.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===it&&n<t;n++)this._eachEntry(e[n],n)},D.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=b(t);if(o===d&&t._state!==it)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===U){var i=new n(y);j(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},D.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===it&&(this._remaining--,t===at?I(r,n):this._result[e]=n),0===this._remaining&&P(r,this._result)},D.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(ut,e,t)},function(t){return n._settledAt(at,e,t)})},U.all=z,U.race=F,U.resolve=h,U.reject=B,U._setScheduler=i,U._setAsap=u,U._asap=Y,U.prototype={constructor:U,then:d,catch:function(t){return this.then(null,t)}},$(),U.polyfill=$,U.Promise=U,U})}).call(e,n(147),function(){return this}())},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function u(){h&&v&&(h=!1,v.length?d=v.concat(d):y=-1,d.length&&a())}function a(){if(!h){var t=o(u);h=!0;for(var e=d.length;e;){for(v=d,d=[];++y<e;)v&&v[y].run();y=-1,e=d.length}v=null,h=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function s(){}var f,l,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var v,d=[],h=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new c(t,e)),1!==d.length||h||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){}])});
//# sourceMappingURL=pm-rpc.min.js.map