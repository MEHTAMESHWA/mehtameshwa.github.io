define("pagesMenu/utils/constants",[],function(){"use strict";var a={NAME_MAX_LENGTH:40,TITLE_SEO_MAX_LENGTH:70,KEYWORD_SEO_MAX_LENGTH:250,KEYWORD_SEO_MAX_WORDS:10,DESCRIPTION_SEO_MAX_LENGTH:160,PASSWORD_TEMPLATE:"########",PASSWORD_MAX_LENGTH:15,INVALID_CHARACTERS:'[!#$%^&()+=}{";:\\/><~\\]\\[]',PERMISSION_STATES:{NONE:"none",PASSWORD:"password",MEMBERS:"members"}};return Object.freeze(a)});define("pagesMenu/components/pageItem.rt",["react","lodash","baseUI","symbols","util","core","pLoader!santa:utils","pagesMenu/utils/constants","experiment"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(b,c,d){return a.createElement("li",{key:"qAction"+d},c)}function k(){var e=this.state.isEditMode;return a.createElement("div",{className:b(this.getTopLevelClasses(this.quickActionsList.length)).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},!e?a.createElement("div",{className:"wrapper-view-mode",key:"pageInfo",onDoubleClick:this.onDoubleClick},!this.props.isDynamicPage&&!this.props.isRouter?a.createElement(d.symbol,{name:"dragIcon",key:"drag-icon",className:"page-item-drag",dataHintMyData:"hint_my_data",hintId:i.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.isSelected?"Pages_Rearrange":null}):null,a.createElement("span",{className:"page-title"},a.createElement("span",{className:"page-title-name"},this.props.label),this.props.isHome?a.createElement(d.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,this.props.isLink?a.createElement(d.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,this.props.isDropdown?a.createElement(d.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,!this.props.isVisible?a.createElement(d.symbol,{name:"pageItemHideIcon",key:"isHidden"}):null,this.props.isRouter?a.createElement(d.symbol,{name:"pageItemRouterIcon",key:"isRouter"}):null,this.props.routerType===f.constants.ROUTER_TYPES.CUSTOM_ROUTER?a.createElement(d.symbol,{name:"pageItemCustomerRouterPageIcon",key:"isDynamicPageCustomRouter"}):null,this.props.routerType===f.constants.ROUTER_TYPES.DATA_BINDING?a.createElement(d.symbol,{name:"pageItemDataBindingRouterPageIcon",key:"isDynamicPageDataBinding"}):null),this.shouldShowQuickActions()?a.createElement.apply(this,["ul",{className:"pages-quick-actions",key:"quickActions"},b.map(this.quickActionsList,j.bind(this,e))]):null):null,e?a.createElement(c.textInputWithFixedButton,b.assign({},{buttonLabel:"Pages_Actions_Rename_Button",key:"nameInput",maxLength:h.NAME_MAX_LENGTH,invalidMessage:"Pages_Info_Name_Error_Tooltip",ref:"nameInput",selectOnFocus:true,onOuterClick:this.handleOuterClick,shouldChangeOnOuterClick:true,validator:this.validateName},this.getInputProps())):null)}return function(){return k.apply(this,[])}});define("pagesMenu/components/pageItem",["react","lodash","util","pagesMenu/components/pageItem.rt","baseUI","pLoader!santa:core","experiment"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"pageItem",propTypes:{label:a.PropTypes.string,value:a.PropTypes.string,onChange:a.PropTypes.func,isVisible:a.PropTypes.bool,isSelected:a.PropTypes.bool,onClick:a.PropTypes.func,depth:a.PropTypes.number,quickActionButtons:a.PropTypes.number,isHome:a.PropTypes.bool,isLink:a.PropTypes.bool,isDropdown:a.PropTypes.bool,isMobile:a.PropTypes.bool,isMobileVisible:a.PropTypes.bool,hasNotification:a.PropTypes.bool,editModeLink:a.PropTypes.object},mixins:[e.inputMixin,f.compMixins.timeoutsMixin],getInitialState:function(){return{isEditMode:this.props.editModeLink&&this.props.editModeLink.value,hasMouseInside:false,wasClicked:false}},getTopLevelClasses:function(a){var c={"hidden-page":!this.props.isVisible,selected:this.props.isSelected,"has-notification":this.props.hasNotification,"edit-mode":this.state.isEditMode,"pages-tree-item":true,"pages-tree-page-item-in-edit-mode":this.state.isEditMode};var d=this.props.isHome||this.props.isLink||this.props.isDropdown?1:0;var e=this.props.isVisible?0:1;c["icon-cnt-"+(d+e)]=true;c["depth-"+(this.props.depth||0)]=true;c["qa-"+(a||0)]=true;if(g.isOpen("pagesFirstTimeSteps")){b.forEach(this.props.additionalClasses,function(a){c[a]=true})}return c},getChildren:function(){var b=[];a.Children.forEach(this.props.children,function(c){if(!c||!a.isValidElement(c)){return}if(g.isMultiValueExperimentOpen("editorHintsConfigs")){b.push(a.cloneElement(c,{pageMoreHintId:"Pages_Settings"}))}else{b.push(a.cloneElement(c))}});return b},getInputProps:function(){return b.omit(this.props,"label","isVisible","isSelected","onClick","isHome","isLink","isDropdown")},handleOuterClick:function(){if(this.props.editModeLink&&this.props.editModeLink.value){this.props.editModeLink.requestChange(false)}},onDoubleClick:function(){if(!this.props.isDynamicPage&&!this.props.isRouter){if(this.props.isSelected&&this.props.editModeLink&&!this.props.editModeLink.value){this.props.editModeLink.requestChange(true)}}},lastValidationMessage:null,validateName:function(a){this.lastValidationMessage=c.validate.pageNameValidator(a);return!this.lastValidationMessage},getLastValidationMessage:function(){return this.lastValidationMessage||""},render:function(){this.quickActionsList=this.shouldShowQuickActions()?this.getChildren():[];return d.call(this)},shouldShowQuickActions:function(){return(!this.props.isRouter||this.props.isRouter&&!this.props.isMobile)&&(this.state.hasMouseInside||this.props.isSelected||this.props.hasNotification)},componentWillReceiveProps:function(a){this.setState({isEditMode:a.editModeLink&&a.editModeLink.value})},componentDidUpdate:function(a,b){if(this.state.isEditMode&&!b.isEditMode){this.refs.nameInput.focusControl()}},onMouseEnter:function(){this.setState({hasMouseInside:true})},onMouseLeave:function(a){if(!this.state.wasClicked){if(b.isFunction(this.props.onMouseLeave)){this.props.onMouseLeave(a)}this.setState({hasMouseInside:false})}this.setState({wasClicked:false})},onClick:function(a){this.setState({wasClicked:true});if(this.props.onClick){this.props.onClick(a)}}})});define("pagesMenu/utils/quickActionsUtils",[],function(){"use strict";function a(a){return"quick-actions-notification-"+a}function b(b,c){var d=a(c);return b.getUserPreferences().session.get(d)}function c(b,c,d){var e=a(c);b.getUserPreferences().session.set(e,d)}function d(a,b){c(a,b,true)}function e(a,b){c(a,b,false)}return{hasNotification:b,turnNotificationOn:d,turnNotificationOff:e}});define("pagesMenu/components/nodeContentCommon.rt",["react","lodash","pagesMenu/components/pageItem","pagesMenu/utils/quickActionsUtils"],function(a,b,c,d){"use strict";function e(){var e=this.props.dataSource;return a.createElement(c,b.assign({},{ref:"pageItem",value:e.label,actions:this.props.actions,hasNotification:e.type.isPage&&d.hasNotification(this.props.editorAPI,e.pageData.id),onChange:this.onChange,onClick:this.onClick,isMobile:this.props.editorAPI.viewMode.get()==="MOBILE",onMouseLeave:this.props.onMouseLeave,onContextMenu:this.props.setSelected},{label:e.label,isVisible:this.props.isVisible,isSelected:this.props.isSelected,isHome:e.pageData&&this.props.editorAPI.pages.isHomePage(e.pageData.id),isPage:e.type.isPage,isLink:e.type.isLink,isDropdown:e.type.isDropdown,isDynamicPage:e.type.isDynamicPage,routerType:e.type.routerType,isRouter:e.type.isRouter,depth:this.props.nodePath?this.props.nodePath.length-1:0,editModeLink:this.editModeLink(),additionalClasses:b.has(e,"additionalClasses")?e.additionalClasses:[]}),"\n\n    ",this.props.children,"\n")}return function(){return e.apply(this,[])}});define("pagesMenu/components/nodeContentCommon",["react","lodash","pagesMenu/components/nodeContentCommon.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"nodeContentCommon",propTypes:{editorAPI:a.PropTypes.object.isRequired,dataSource:a.PropTypes.object.isRequired,onActionSelected:a.PropTypes.func,editedPageIdLink:a.PropTypes.object,setSelected:a.PropTypes.func,isVisible:a.PropTypes.bool,isSelected:a.PropTypes.bool,nodePath:a.PropTypes.array},onChange:function(a){if(this.props.onActionSelected){this.props.onActionSelected("rename",this.props.dataSource,a)}if(this.props.editedPageIdLink){this.props.editedPageIdLink.requestChange(null)}},editModeLink:function(){var a=this.props.dataSource,b=this.props.editedPageIdLink;return{value:b&&b.value===a.id,requestChange:function(c){if(b){b.requestChange(c?a.id:null)}}}},onClick:function(a){this.props.setSelected(a);if(b.isFunction(this.props.onClick)){this.props.onClick(a)}},render:c})});define("pagesMenu/components/quickActionRenameMixin",[],function(){"use strict";return{actionSelectedHandler:function(a){if(a==="rename"){this.props.editedPageIdLink.requestChange(this.props.dataSource.id)}else{this.props.onActionSelected(a,this.props.dataSource)}}}});define("pagesMenu/utils/pageUtils",["lodash","util"],function(a,b){"use strict";function c(b,d){if(a.isUndefined(c.cache[d])){c.cache[d]=b.pages.isContainsCompWithType(d,b.tpa.constants.COMP_TYPES.TPA_MULTI_SECTION)}return c.cache[d]}c.cache={};function d(b,e){if(a.isUndefined(d.cache[e])){d.cache[e]=!c(b,e)}return d.cache[e]}d.cache={};function e(b,c){if(a.isUndefined(e.cache[c])){e.cache[c]=b.pages.isDuplicable(c)}return e.cache[c]}e.cache={};function f(a){return b.validate.urlCharacters(a)}function g(a){var c="-";var d=a.replace(/\s/g,c);var e=b.validate.byInvalidCharacters(b.validationExpressions.invalidUrlCharacters);return e(d)?d.toLowerCase():"blank"}return{canRemove:d,canDuplicate:e,isTPASectionSubPage:c,pageAddressValidator:f,convertPageNameToUrl:g}});define("pagesMenu/utils/pageMenuItemHelpers",["core","lodash","constants","pagesMenu/utils/pageUtils","panels","util","pLoader!santa:utils"],function(a,b,c,d,e,f,g){"use strict";var h=40;function i(a,b,c){if(!c||b.label===c){return}a.mainMenu.setItemLabel(b.id,c);a.history.debouncedAdd("Rename Menu Item")}function j(a,b,c){a.pages.data.update(b,c);a.history.debouncedAdd("Rename Page")}function k(a,c,e){var g={title:e};if(!e||c.title===e){return}if(!c.isPopup){if(M(a,c.title)){var h=a.generalInfo.urlFormat.isSlash()?a.pages.data.pageUriSEO:d;var i=h.convertPageNameToUrl(e);if(i){g.pageUriSEO=i;j(a,c.id,g)}else{f.googleTranslate(e,function(d){i=h.convertPageNameToUrl(d);if(i){g.pageUriSEO=i;g.translationData=b.assign({}||g.translationData,{uriSEOTranslated:true})}j(a,c.id,g)})}}else{j(a,c.id,g)}}else{j(a,c.id,g)}}function l(a,b){if(b.type.isPage&&b.pageData){return d.canDuplicate(a,b.pageData.id)}return b.type.isDropdown||b.type.isLink}function m(a){var b=new RegExp(/copy\s(\d+\s|)of\s/i),c;if(b.test(a)){if(RegExp.$1){c=parseInt(RegExp.$1,10)+1}else{c=2}return a.replace(b,"Copy "+c+" of ")}a=f.translate("Pages_Actions_Duplicate_CopyOf")+" "+a;if(a.length>h){a=a.substr(0,h-3)+"..."}return a}function n(a,b,c){var e=c?a.pages.popupPages.duplicate(b.id):a.pages.duplicate(b.id);var f=m(b.title);var g=(a.generalInfo.urlFormat.isSlash()?a.pages.data.pageUriSEO:d).convertPageNameToUrl(f);a.pages.data.update(e.id,{title:f,pageUriSEO:g});return e.id}function o(a,c,d){var e=a.pages.getFocusedPageId();var f=n(a,c,true);a.pages.navigateTo(f);a.history.add("popup page was duplicated",{currentPage:e});a.waitForChangesApplied(function(){if(b.isFunction(d)){d(f)}})}function p(a,c,d,e){var f=a.pages.getFocusedPageId();var g=n(a,c,false);a.waitForChangesApplied(function(){var c=I("#"+g,a);J(a,c.id,d);a.pages.navigateTo(g);a.history.add("duplicating a page",{currentPage:f});a.waitForChangesApplied(function(){if(b.isFunction(e)){e(c.id,g)}})})}function q(a,b,c){var d=a.data.getById(b.id).link;var e=m(b.label);var f=a.mainMenu.addLinkItem(d,e,null,!b.isVisible,!b.isVisibleMobile);J(a,f,b.id);a.history.add("duplicating a link");a.waitForChangesApplied(function(){c(f)})}function r(a,b,c){var d=m(b.label);var e=a.mainMenu.addHeaderItem(d,null,!b.isVisible,!b.isVisibleMobile);J(a,e,b.id);a.history.add("duplicating a dropdown");a.waitForChangesApplied(function(){c(e)})}function s(a,b,c){if(b.type.isPage){p(a,b.pageData,b.id,c)}else if(b.type.isDropdown){r(a,b,c)}else if(b.type.isLink){q(a,b,c)}else{g.log.error("not supported menu type")}}function t(a,b){var c=a.viewMode.get();if(c===a.viewMode.VIEW_MODES.DESKTOP){return b.isVisible}if(c===a.viewMode.VIEW_MODES.MOBILE){return b.isVisibleMobile}return false}function u(a,b){return!t(a,b)}function v(a,b,c,d){var e={};if(typeof c==="boolean"){e.hidePage=c}else{c=!b.isVisible}if(typeof d==="boolean"){e.mobileHidePage=d}else{d=!b.isVisibleMobile}if(b.pageData){a.pages.data.update(b.pageData.id,e)}else{a.mainMenu.setItemVisibility(b.id,c,d)}a.history.add("hiding a page")}function w(a){var b=a.position===0;return!a.parent&&!b}function x(b,c){var d,e;if(w(c)){d=b.mainMenu.getMenuItemsTreeForMainMenu()[c.position-1];e=d.items.length;y(b,c,d.id,e);b.mainMenu.moveItem(c.id,d.id,e);b.bi.event(a.bi.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{category:"quick actions"})}b.history.add("subpaging a page")}function y(a,c,d,e){b.forEachRight(c.items,function(b){a.mainMenu.moveItem(b.id,d,e)})}function z(a,b){if(b.pageData){return d.canRemove(a,b.pageData.id)}return true}function A(a,b){if(!b.pageData){a.pages.navigateTo(a.homePage.get(),function(){a.mainMenu.removeItem(b.id);a.history.add("removing menu item")})}else if(a.mainMenu.hasOnlyLastPageMenuItem()){a.panelManager.openPanel("panels.messagePanels.deleteLastPageMessage",{isLastPage:true},true)}else{a.pages.remove(b.pageData.id,function(){a.history.add("removing a page")})}}function B(a,c){a.waitForChangesApplied(function(){a.pages.remove(c,b.partial(a.history.add,"removed popup"))})}function C(a){return a.parent!==null}function D(b,c){if(C(c)){var d=c.parent.parent&&c.parent.parent.id,e=c.parent.position+1;b.mainMenu.moveItem(c.id,d,e);b.bi.event(a.bi.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{category:"quick actions"})}b.history.add("moving a page out of its parent")}function E(a,b,d,e,f){var g,h;g=a.pages.add(b,d);a.waitForChangesApplied(function(){h=I("#"+g.id,a);J(a,h.id,e);a.history.add("adding new page",{actionType:c.DS_ACTIONS.ADD_PAGE,nextPage:g.id});a.pages.navigateTo(g.id);f(g.id,h.id)});return g}function F(a,b,c,d,e){var f;f=a.mainMenu.addLinkItem(b,c);J(a,f,d);a.waitForChangesApplied(function(){e(f);a.history.add("adding new page link")})}function G(a,b,c){a.mainMenu.updateLinkItem(b,c);a.history.add("updating menu link")}function H(a,b,c,d){var e;e=a.mainMenu.addHeaderItem(b);J(a,e,c);a.waitForChangesApplied(function(){d(e);a.history.add("adding new page header")})}function I(a,c){var d=c.mainMenu.getMenu();return b.find(d,function(b){return b.link&&b.link.pageId===a})}function J(a,b,c){var d=K(a.mainMenu.getMenuItemsTreeForMainMenu(),c,null);a.mainMenu.moveItem(b,d.parentId,d.itemIndex+1)}function K(a,b,c){var d={itemIndex:null,parentId:c};for(var e=0;e<a.length;e++){var f=a[e];if(f.id===b){d.itemIndex=e;return d}if(f.items&&f.items.length){var g=K(f.items,b,f.id);if(g.itemIndex!==null){return g}}}return d}function L(a,b){var c=a.generalInfo.getPublicUrl();var d=a.generalInfo.isFirstSave()?c+"your-site-name":"";return a.pages.getPageUrl(b.id,d)}function M(a,b){return!a.generalInfo.urlFormat.isSlash()||!a.generalInfo.isSitePublished()||b===f.translate("Pages_Menu_Add_New_Page")}function N(a,b){var c=b.pageData&&b.pageData.id;if(!c){return false}return a.routers.pages.isConnectablePage(c)}return{renamePage:k,renameMenuItem:i,duplicatePopup:o,duplicateMenuItem:s,setHidden:v,removeMenuItem:A,removePopup:B,subpage:x,moveUp:D,addPage:E,addLink:F,updateLink:G,addDropdown:H,canBeSetAsDynamicPage:N,canDuplicate:l,canUnhide:u,canHide:t,canRemoveMenuItem:z,canSubpage:w,canMoveUp:C,getPublicUrl:L}});define("pagesMenu/components/mixedList/nodeContentWithQuickAction.rt",["react","lodash","pagesMenu/components/nodeContentCommon","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/quickActionsUtils","util","baseUI","symbols"],function(a,b,c,d,e,f,g,h){"use strict";function i(){var b=this.props.dataSource;var c=b.pageData?b.pageData.id:b.id;var i=f.translate;var j=this.getEditorAPI();return a.createElement(g.dropDown.contextMenu,{toggleIcon:false,shouldTranslate:false,className:"quick-actions action-button",onChange:this.actionSelectedHandler,onNotificationClick:e.hasNotification(j,c)?this.props.onNotificationClick:undefined,notificationCount:1,icon:"moreRegular"},a.createElement(g.dropDown.option,{value:"settings"},a.createElement("div",{className:"svg-container"},a.createElement(h.symbol,{name:"quickActionsSettings"})),a.createElement("span",{className:"qa-label"},i("Pages_Actions_Page_Settings"))),a.createElement(g.dropDown.option,{value:"rename"},a.createElement("div",{className:"svg-container"},a.createElement(h.symbol,{name:"quickActionsRename"})),a.createElement("span",{className:"qa-label"},i("Pages_Actions_Page_Rename"))),d.canUnhide(this.getEditorAPI(),b)?a.createElement(g.dropDown.option,{key:"unhideOption",value:"unhide"},a.createElement("div",{className:"svg-container"},a.createElement(h.symbol,{name:"quickActionsShow"})),a.createElement("span",{className:"qa-label"},i("Pages_Actions_Page_Unhide"))):null,d.canHide(this.getEditorAPI(),b)?a.createElement(g.dropDown.option,{key:"hideOption",value:"hide"},a.createElement("div",{className:"svg-container"},a.createElement(h.symbol,{name:"quickActionsHide"})),a.createElement("span",{className:"qa-label"},i("Pages_Actions_Page_Hide"))):null,d.canRemoveMenuItem(this.getEditorAPI(),b)?a.createElement(g.dropDown.option,{key:"removeOption",value:"remove"},a.createElement("div",{className:"svg-container"},a.createElement(h.symbol,{name:"qaDelete"})),a.createElement("span",{className:"qa-label"},i("Pages_Actions_Page_Delete"))):null)}return function(){return a.createElement(c,this.getNodeContentProps(),i.apply(this,[]))}});define("pagesMenu/components/mixedList/nodeContentWithSettingsLink.rt",["react","lodash","symbols","pagesMenu/components/nodeContentCommon"],function(a,b,c,d){"use strict";function e(){this.props.onActionSelected("settings",this.props.dataSource)}return function(){return a.createElement(d,this.getNodeContentProps(),a.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:e.bind(this)},a.createElement(c.symbol,{name:"quickActionsSettings"})))}});define("pagesMenu/components/mixedList/nodeContentUniversalRenderer",["react","core","lodash","pagesMenu/components/quickActionRenameMixin","pagesMenu/components/mixedList/nodeContentWithQuickAction.rt","pagesMenu/components/mixedList/nodeContentWithSettingsLink.rt"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"nodeContentUniversalRenderer",mixins:[b.mixins.editorAPIMixin,d],propTypes:{isBelongToSubmenu:a.PropTypes.bool.isRequired,dataSource:a.PropTypes.object.isRequired,onActionSelected:a.PropTypes.func.isRequired,editedPageIdLink:a.PropTypes.object,setSelected:a.PropTypes.func,isSelected:a.PropTypes.bool},getRenderFn:function(){if(this.getEditorAPI().isMobileEditor()){return f}if(this.props.isBelongToSubmenu){return f}return e},getNodeContentProps:function(){var a=this.getEditorAPI(),b;if(this.props.isBelongToSubmenu){b=true}else{b=a.isMobileEditor()?this.props.dataSource.isVisibleMobile:this.props.dataSource.isVisible}return c.assign({},this.props,{isVisible:b,editorAPI:a})},render:function(){return this.getRenderFn().call(this)}})});define("pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode.rt",["react","lodash","util","baseUILib"],function(a,b,c,d){"use strict";function e(){var e=c.translate;return a.createElement(d.CustomScroll,{},a.createElement("div",{className:b({"tab-inner":true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(d.Composites.RichTextLabeled,{},a.createElement(d.TextLabel,{type:"T06",value:c.translate("PLATFORM_PAGE_SETTINGS_DEVTOOLS_DISABLED_TITLE"),shouldTranslate:false}),a.createElement(d.RichText,{},a.createElement("p",{},c.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph1")),a.createElement("p",{},c.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph2"))))))}return function(){return a.createElement("div",{className:"tab tab-dynamic-page-no-dev-node"},e.apply(this,[]))}});define("pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode",["react","pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode.rt"],function(a,b){"use strict";return a.createClass({displayName:"dynamicPageSettingsNoDevMode",render:b})});define("pagesMenu/settings/dynamicPageSettingsPanelTabs.rt",["react","lodash","baseUI","util"],function(a,b,c,d){"use strict";function e(a,b,c){this.setActiveTab(c)}function f(b,d,e,f){return a.createElement(c.tabs.label,{key:e.title+f,htmlFor:e.title},e.title)}function g(b,d,e,f){return a.createElement(c.tabs.tab,{key:f,name:e.title,children:this.getTabContent(e,f)})}function h(){var h=this.props.menuItem.pageData;var i=d.translate;return a.createElement("div",{},a.createElement(c.tabs.holder,{value:this.state.activeTab,className:"top page-settings-tabs dynamic-page-settings-tabs",onChange:e.bind(this,h,i)},a.createElement.apply(this,[c.tabs.header,{},b.map(this.tabs,f.bind(this,h,i))]),a.createElement.apply(this,[c.tabs.content,{className:"page-settings-panel-content"},b.map(this.tabs,g.bind(this,h,i))])))}return function(){return h.apply(this,[])}});define("pagesMenu/settings/tabsContainerMixin",["react","core","experiment"],function(a,b,c){"use strict";return{mixins:[b.mixins.editorAPIMixin],propTypes:{menuItem:a.PropTypes.object.isRequired,activeTab:a.PropTypes.string},setActiveTab:function(a){this.setState({activeTab:a});this.getEditorAPI().bi.event(b.bi.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:a})},getInitialState:function(){return{activeTab:c.isOpen("dpages")?this.props.activeTab||this.getDefaultTabName():"page"}}}});define("pagesMenu/settings/tabs/tabLayout.rt",["react","lodash","baseUI","symbols","util","baseUILib"],function(a,b,c,d,e,f){"use strict";function g(){var b=e.translate;return a.createElement(f.CustomScroll,{},a.createElement("div",{className:"layout tab-inner"},a.createElement(c.tabs.holder,{className:"left radio",valueLink:this.linkPageProperty("isLandingPage")},a.createElement(c.tabs.header,{},a.createElement(c.tabs.label,{htmlFor:false},a.createElement(d.symbol,{name:"layoutStandardSelected"}),a.createElement(d.symbol,{name:"layoutStandardNotSelected"}),a.createElement("div",{},a.createElement("h3",{},b("Pages_Layouts_Standard_Title")),a.createElement("p",{},b("Pages_Layouts_Standard_Text")))),a.createElement(c.tabs.label,{htmlFor:true},a.createElement(d.symbol,{name:"layoutLandingSelected"}),a.createElement(d.symbol,{name:"layoutLandingNotSelected"}),a.createElement("div",{},a.createElement("h3",{},b("Pages_Layouts_Landing_Title")),a.createElement("p",{},b("Pages_Layouts_Landing_Text"),a.createElement("br",{}),a.createElement(c.button,{label:"Pages_Layouts_Landing_Learn",className:"btn-text",onClick:this.openLearnMore}))))))))}return function(){return g.apply(this,[])}});define("pagesMenu/settings/tabs/pageSettingsTabMixin",["core"],function(a){"use strict";return{mixins:[a.mixins.editorAPIMixin],getPageData:function(){return this.props.pageData||this.props.menuItem.pageData},getPageId:function(){return this.getPageData().id},getValueFromPageData:function(a){var b=this.getPageData();return b&&b[a]},linkPageProperty:function(a){var b=this.getPageId();var c=this.getEditorAPI();var d={};return{value:this.getValueFromPageData(a),requestChange:function(e){d[a]=e;c.pages.data.update(b,d)}}},linkInversePageProperty:function(a){var b=this.getPageId();var c=this.getEditorAPI();var d={};return{value:!this.getValueFromPageData(a),requestChange:function(e){d[a]=!e;c.pages.data.update(b,d)}}}}});define("pagesMenu/settings/tabs/tabLayout",["react","core","pagesMenu/settings/tabs/tabLayout.rt","pagesMenu/settings/tabs/pageSettingsTabMixin"],function(a,b,c,d){"use strict";return a.createClass({displayName:"tabLayout",mixins:[d],propTypes:{menuItem:a.PropTypes.object.isRequired},openLearnMore:function(){var a={panel_name:"tab_layout",origin:b.constants.BI.HELP.ORIGIN.PAGES,learn_more:true};var c="97778018-fd88-4953-8be3-d994a1637882";this.getEditorAPI().panelManager.openHelpCenter(c,null,a)},render:c})});define("pagesMenu/settings/tabs/tabPermissions.rt",["react","lodash","baseUI","symbols","util","pagesMenu/utils/constants","experiment","baseUILib"],function(a,b,c,d,e,f,g,h){"use strict";function i(b,d,e){return a.createElement(c.dropDown.option,{key:d.value,value:d.value},"\n                                ",d.label,"\n                            ")}function j(b,d,e){return a.createElement(c.dropDown.option,{key:d.value,value:d.value},"\n                                ",d.label,"\n                            ")}function k(){var d=e.translate;return a.createElement(h.CustomScroll,{},a.createElement("div",{className:"privacy tab-inner page-settings-permissions-tab"},a.createElement(c.tabs.holder,{className:"left radio",valueLink:this.getTabFocusLink()},a.createElement(c.tabs.header,{},a.createElement(c.tabs.label,{htmlFor:f.PERMISSION_STATES.NONE},a.createElement("h4",{},d("Pages_Permissions_NoRestrict_Title")),a.createElement("span",{},d("Pages_Permissions_NoRestrict_Text"))),a.createElement(c.tabs.label,{htmlFor:"password"},a.createElement("h4",{},d("Pages_Permissions_Password_Title")),a.createElement("span",{},d("Pages_Permissions_Password_Text")),this.state.focusedProtectionType===f.PERMISSION_STATES.PASSWORD?a.createElement("div",{className:"password-settings-content",key:"page-settings-tab-privacy-password"},a.createElement("hr",{className:"separator-permissions-password"}),a.createElement(h.Composites.TextInputLabeled,{},a.createElement(h.TextLabel,{value:"Pages_Permissions_Password_Choose"}),this.shouldShowPasswordMockElement()?a.createElement(h.TextInput,{key:"passwordMockElement",onClick:this.onPasswordFocus,value:f.PASSWORD_TEMPLATE,type:"password"}):null,!this.shouldShowPasswordMockElement()?a.createElement(h.TextInput,{key:"realPasswordElement",focus:!this.isPasswordHidden(),onFocus:this.onPasswordFocus,onBlur:this.onPasswordBlur,value:this.state.plainPassword,type:this.state.passwordInputType,placeholder:"Pages_Permissions_Password_Placeholder",maxLength:f.PASSWORD_MAX_LENGTH,validator:this.isValidPassword,invalidMessage:"Pages_Permissions_Password_Error_Tooltip"}):null),a.createElement("hr",{className:"separator-permissions-password-language"}),a.createElement.apply(this,[c.dropDown.select,{className:"control-permissions-password-language",valueLink:this.getDialogLanguageLink("passwordDialogLanguage"),label:"Pages_Permissions_Password_Language",tabIndex:1},b.map(e.languages.getLanguagesList(),i.bind(this,d))])):null),a.createElement(c.tabs.label,{htmlFor:f.PERMISSION_STATES.MEMBERS},a.createElement("h4",{},d("Pages_Permissions_Members_Title")),a.createElement("span",{},d("Pages_Permissions_Members_Text")),this.state.focusedProtectionType===f.PERMISSION_STATES.MEMBERS?a.createElement("div",{key:"page-settings-tab-privacy-member"},a.createElement("p",{className:"site-members-info"},"\n                            ",d("Pages_Permissions_Members_Link"),"\n                            ",this.isSiteSaved()?a.createElement("a",{key:"page-settings-tab-privacy-member-url",href:this.getSiteMembersUrl(),target:"_blank"},a.createElement(c.button,{label:"Pages_Permissions_Members_Link_Clickhere",className:"btn-text"})):null,!this.isSiteSaved()?a.createElement("span",{key:"page-settings-tab-privacy-member-non-url"},"\n                                ",d("Pages_Permissions_Members_Link_Clickhere"),"\n                            "):null),a.createElement("hr",{className:"separator-site-members-info"}),a.createElement.apply(this,[c.dropDown.select,{className:"control-permissions-member-language",valueLink:this.getDialogLanguageLink("membersDialogLanguage"),label:"Pages_Permissions_Members_Language",tabIndex:2},b.map(e.languages.getLanguagesList(),j.bind(this,d))]),a.createElement("hr",{className:"separator-permissions-member-language"}),g.isOpen("smSettingsPanel")?a.createElement("div",{className:"site-members-settings",key:"smSettingsPanelBtn"},a.createElement(c.symbol,{name:"site-members"}),a.createElement("a",{className:"link",onClick:this.openSiteMembersSettingsPanel},d("Pages_Permissions_Member_Signup_Settings_Label")),a.createElement(c.infoIcon,{text:"Pages_Permissions_Member_Signup_Settings_Tooltip"})):null):null)))))}return function(){return k.apply(this,[])}});define("pagesMenu/settings/tabs/tabPermissions",["react","lodash","core","util","pagesMenu/utils/constants","pagesMenu/settings/tabs/tabPermissions.rt","pagesMenu/settings/tabs/pageSettingsTabMixin"],function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,d){a.bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_privacy_changed,{privacy:d,page_id:b})};var i=function(a,b,c,d){a.pages.data.update(b,{pageSecurity:c});h(a,b,d)};var j=function(a,b){return a.pages.permissions.hasPassword(b)};var k=function(a,b,c){a.pages.permissions.updatePassword(b,{value:c,isHashed:false})};var l=function(a,b){a.pages.permissions.removePassword(b)};return a.createClass({displayName:"tabPermissions",mixins:[g],getInitialState:function(){return this.getInitialPageState()},componentWillReceiveProps:function(a){if(a.pageData.id!==this.state.pageId){this.setState(this.getInitialPageState())}},getInitialPageState:function(){return{focusedProtectionType:this.getInitialProtectionType(),passwordDialogLanguage:this.getInitialLanguage(),membersDialogLanguage:this.getInitialLanguage(),pageId:this.props.pageData.id,isNewValidPasswordInserted:false,passwordInputType:"password",plainPassword:""}},getInitialProtectionType:function(){var a=b.get(this.props,"pageData.pageSecurity");if(a.requireLogin){return e.PERMISSION_STATES.MEMBERS}if(this.isPageProtectedWithPassword()){return e.PERMISSION_STATES.PASSWORD}return e.PERMISSION_STATES.NONE},isPageProtectedWithPassword:function(){return!b.isEmpty(b.get(this.props,"pageData.pageSecurity.passwordDigest"))||j(this.getEditorAPI(),this.props.pageData.id)},savePageSecurityData:function(){var a=this.props.pageData.id;var c=b.partialRight(i,this.state.focusedProtectionType);switch(this.state.focusedProtectionType){case e.PERMISSION_STATES.NONE:c(this.getEditorAPI(),a,{requireLogin:false});l(this.getEditorAPI(),a);break;case e.PERMISSION_STATES.PASSWORD:if(this.state.isNewValidPasswordInserted){k(this.getEditorAPI(),a,this.state.plainPassword)}if(this.state.isNewValidPasswordInserted||this.isPageProtectedWithPassword()){c(this.getEditorAPI(),a,{requireLogin:false,dialogLanguage:this.state.passwordDialogLanguage})}break;case e.PERMISSION_STATES.MEMBERS:c(this.getEditorAPI(),a,{requireLogin:true,dialogLanguage:this.state.membersDialogLanguage});l(this.getEditorAPI(),a);break}},setFocusedProtectionType:function(a){this.setState({focusedProtectionType:a},this.savePageSecurityData)},isSiteSaved:function(){return!this.getEditorAPI().generalInfo.isFirstSave()},getSiteMembersUrl:function(){var a="//www.wix.com/my-account/sites/";var b="/contacts/?tag=contacts-site_members_approved";var c=this.getEditorAPI().generalInfo.getMetaSiteId();return a+c+b},getInitialLanguage:function(){var a=this.getEditorAPI().generalInfo.getLanguage();var c=b.get(this.props,"pageData.pageSecurity.dialogLanguage");return b.isEmpty(c)?a:c},isValidPassword:function(a){var b=d.validate.byInvalidCharacters(e.INVALID_CHARACTERS);return d.validate.notEmpty(a)&&b(a)},isPasswordHidden:function(){return this.state.passwordInputType==="password"},shouldShowPasswordMockElement:function(){return this.isPasswordHidden()&&b.isEmpty(this.state.plainPassword)&&this.isPageProtectedWithPassword()},onPasswordBlur:function(a){var b=a.target.value;this.setState({plainPassword:b,isNewValidPasswordInserted:this.isValidPassword(b),passwordInputType:"password"},this.savePageSecurityData)},onPasswordFocus:function(){if(this.state.passwordInputType!=="text"){this.setState({passwordInputType:"text"})}},setDialogLanguage:function(a,b){
var d={};d[a]=b;this.setState(d,this.savePageSecurityData);this.getEditorAPI().bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_privacy_language_selected_click,{language_selected:b,category:this.state.focusedProtectionType})},getDialogLanguageLink:function(a){return{value:this.state[a],requestChange:function(b){if(this.state[a]!==b){this.setDialogLanguage(a,b)}}.bind(this)}},getTabFocusLink:function(){return{value:this.state.focusedProtectionType,requestChange:function(a){if(this.state.focusedProtectionType!==a){this.setFocusedProtectionType(a)}}.bind(this)}},openSiteMembersSettingsPanel:function(){this.getEditorAPI().panelManager.openPanel("panels.focusPanels.siteMembersSettingsPanel",{panelName:"panels.focusPanels.siteMembersSettingsPanel"},true)},render:f})});define("pagesMenu/settings/dynamicPageSettingsPanelTabs",["react","baseUI","platform","lodash","pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode","pagesMenu/settings/dynamicPageSettingsPanelTabs.rt","pagesMenu/settings/tabsContainerMixin","pagesMenu/settings/tabs/tabLayout","pagesMenu/settings/tabs/tabPermissions"],function(a,b,c,d,e,f,g,h,i){"use strict";return a.createClass({displayName:"dynamicPageSettingsPanelTabs",mixins:[g],propTypes:{menuItem:a.PropTypes.object.isRequired,activeTab:a.PropTypes.string},render:f,componentWillMount:function(){this.tabs=this.getTabs(this.props.menuItem.pageData.id);var a=this.getEditorAPI();var b=a.components.get.byId(this.props.menuItem.pageData.id);if(b){var c=a.routers.getRouterRef.byPage(b);this.routerData=c?a.routers.get.byRef(c):""}else{this.routerData=""}},componentWillReceiveProps:function(a){if(this.props.menuItem.pageData.id!==a.menuItem.pageData.id){this.tabs=this.getTabs(a.menuItem.pageData.id)}},shouldComponentUpdate:function(a){var b=this.getEditorAPI();var c=b.components.get.byId(this.props.menuItem.pageData.id);if(c){var e=b.routers.getRouterRef.byPage(c);var f=e?b.routers.get.byRef(e):"";if(!d.isEqual(f,this.routerData)){this.routerData=f;return true}}else{this.routerData=""}if(this.props.developerModeEnabled!==a.developerModeEnabled){return true}if(this.props.menuItem.pageData.id!==a.menuItem.pageData.id||a.activeTab&&this.state.activeTab!==a.activeTab){return true}return false},getTabs:function(a){var b=this.getEditorAPI();return b.pages.dynamicPages.getDynamicPageOptions(a,"pageSettings")},getDefaultTabName:function(){var a=this.getTabs(this.props.menuItem.pageData.id);return!d.isEmpty(a)?a[0].title:"Page Info"},setSettingsTab:function(a){this.setState({activeTab:a})},getPostMessageHandler:function(a){var b=this.getEditorAPI();var d=b.components.get.byId(this.props.menuItem.pageData.id);var e={routerRef:b.routers.getRouterRef.byPage(d),publicUrl:b.generalInfo.getPublicUrl(),pageRef:d};return c.platformPostMessageService.createPostMessageListener({token:a,initialData:e},a)},getAppData:function(){var a=this.getEditorAPI();var b=a.components.get.byId(this.props.menuItem.pageData.id);var c=a.routers.getRouterRef.byPage(b);if(c){var e=a.routers.get.byRef(c);return{appDefId:e.appDefinitionId,applicationId:d.get(a.platform.getAppDataByAppDefId(e.appDefinitionId),"applicationId")}}},getIframeFullSrc:function(a,b,d){var e=this.getEditorAPI();return c.utils.getFullApplicationUrl(e,a,b,d)},iframeLoadedHandler:function(){},getCurrentOpenTab:function(){return this.state.activeTab},getTabContent:function(f,g){var j=c.constants;var k=this.state.iframeLoaded?"content-iframe loaded":"content-iframe";if(d.isObject(f)&&f.url){var l=this.getAppData();if(!this.props.developerModeEnabled){return a.createElement(e,d.assign({},this.props,{key:"dynamic-page-default-tab"+this.props.menuItem.pageData.id+g+l.appDefId}))}return a.createElement(b.iframe,d.assign({},this.props,{key:"dynamic-page-iframe"+this.props.menuItem.pageData.id+g+l.appDefId,ref:"dynamic-page-iframe"+this.props.menuItem.pageData.id+l.appDefId,className:k,appData:l,name:this.props.token,src:this.getIframeFullSrc(f.url,l.appDefId,l.applicationId),onPostMessage:this.getPostMessageHandler(this.props.token),onLoad:this.iframeLoadedHandler}))}switch(f.event){case j.pages.page_settings.layout:return a.createElement(h,d.assign({},this.props,{menuItem:this.props.menuItem,key:"tab-layout"+g+this.props.menuItem.pageData.id}));case j.pages.page_settings.permissions:return a.createElement(i,d.assign({},this.props,{pageData:this.props.menuItem.pageData,key:"tab-premissions"+g+this.props.menuItem.pageData.id}))}}})});define("pagesMenu/settings/tabs/tabPageInfoMainMenu.rt",["react","lodash","baseUI","symbols","util","core","pagesMenu/utils/constants","pagesMenu/utils/pageMenuItemHelpers","pLoader!santa:utils","baseUILib"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(){var b=this.props.menuItem.pageData;var f=e.translate;var h=this.getEditorAPI().pages.isHomePage(this.props.menuItem.pageData.id);return a.createElement(j.CustomScroll,{},a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{className:"section-page-title"},a.createElement(c.textInput,{className:"control-text-input",label:"Pages_Info_Name_Title",maxLength:g.NAME_MAX_LENGTH,validator:[e.validate.notEmptyString,e.validate.noHTMLTags],invalidMessage:"Pages_Info_Name_Error_Tooltip",value:this.getValueFromPageData("title"),onChange:this.onChange,validateOnBlurOnly:true,infoText:"Pages_Info_Name_Tooltip"})),a.createElement("section",{className:"section-hide-page"},a.createElement(c.toggle,{label:"Pages_Info_Hide_Toggle",valueLink:this.linkPageProperty("hidePage")})),!h?a.createElement("section",{key:"page-settings-tab-page-non-home",className:"page-settings-control-description"},a.createElement("span",{},f("Pages_Info_Home_NotSelected")),a.createElement(c.button,{icon:"settingsHome",label:"Pages_Info_Home_Set",onClick:this.setAsHomepage})):null,h?a.createElement("section",{key:"page-settings-tab-page-home",className:"page-settings-control-description"},a.createElement("span",{},a.createElement(d.symbol,{name:"settingsHome"}),f("Pages_Info_Home_IsSelected")),a.createElement(c.infoIcon,{className:"page-settings-change-homepage-tooltip",uniqueId:"changeHomePageTooltip",title:"Pages_Info_Home_Popup_Title",text:"Pages_Info_Home_Popup_Text"})):null))}return function(){return k.apply(this,[])}});define("pagesMenu/settings/tabs/tabPageInfoMainMenu",["react","lodash","core","panels","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/settings/tabs/pageSettingsTabMixin","pagesMenu/settings/tabs/tabPageInfoMainMenu.rt"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"tabPageInfoMainMenu",mixins:[f],render:g,propTypes:{menuItem:a.PropTypes.object.isRequired},setAsHomepage:function(){var a=this.getEditorAPI();a.homePage.set(this.getPageId());a.bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_page_info_home_page_change_set_click)},onChange:function(a){e.renamePage(this.getEditorAPI(),this.props.menuItem.pageData,a)},linkTitleProperty:function(){return{value:this.getValueFromPageData("title"),requestChange:function(a){e.renamePage(this.getEditorAPI(),this.props.menuItem.pageData,a)}.bind(this)}}})});define("pagesMenu/settings/tabs/googlePreviewExpandable.rt",["react","lodash","baseUI","util","symbols","pagesMenu/utils/pageMenuItemHelpers"],function(a,b,c,d,e,f){"use strict";function g(a,b){this.openGooglePreview()}function h(){var c=d.translate;var h="Pages_SEO_Description_Placeholder";return a.createElement("div",{className:b({"google-preview":true,expanded:this.isExpanded()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},!this.props.shouldHideExpandingButton?a.createElement("div",{key:"google-seo-expand-button",className:"google-preview-header",onClick:g.bind(this,c,h)},a.createElement("div",{className:"google-preview-corner-container left"},a.createElement("div",{className:"google-preview-corner"})),a.createElement("div",{className:"google-preview-corner-container right"},a.createElement("div",{className:"google-preview-corner"})),a.createElement(e.symbol,{name:"equals"}),a.createElement(e.symbol,{name:"arrowDown"}),a.createElement("span",{className:"google-preview-header-title"},c("Pages_SEO_Preview_Caption")),a.createElement("div",{className:"google-preview-bottom-header-border"})):null,a.createElement("p",{className:"google-preview-title"},a.createElement("span",{className:"google-preview-title-site-name"},this.getTitle())),a.createElement("p",{className:"google-preview-url"},f.getPublicUrl(this.getEditorAPI(),this.props.pageData)),a.createElement("p",{className:"google-preview-description"},this.props.previewDescriptionText||this.getValueFromPageData("descriptionSEO")||c(h)))}return function(){return h.apply(this,[])}});define("pagesMenu/settings/tabs/googlePreviewExpandable",["react","core","pagesMenu/settings/tabs/pageSettingsTabMixin","pagesMenu/settings/tabs/googlePreviewExpandable.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"googlePreviewExpandable",mixins:[c,a.addons.LinkedStateMixin],render:d,propTypes:{pageData:a.PropTypes.object.isRequired,isExpanded:a.PropTypes.bool,shouldHideExpandingButton:a.PropTypes.bool,isExpandedLink:a.PropTypes.object,previewDescriptionText:a.PropTypes.string},isExpanded:function(){return this.props.isExpanded||this.props.isExpandedLink.value},openGooglePreview:function(){this.props.isExpandedLink.requestChange(!this.props.isExpandedLink.value)},getTitle:function(){if(this.props.title){return this.props.title}var a=this.getEditorAPI();return this.getValueFromPageData("pageTitleSEO")?this.getValueFromPageData("pageTitleSEO"):(a.site.getSEOSiteName()||a.siteName.get())+(a.pages.isHomePage(this.props.pageData.id)?"":" | "+this.getValueFromPageData("title"))}})});define("pagesMenu/settings/tabs/seoUrlSettings.rt",["react","lodash","baseUI","util","pagesMenu/settings/tabs/googlePreviewExpandable","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/constants","baseUILib"],function(a,b,c,d,e,f,g,h){"use strict";return function(){return a.createElement("div",{className:this.getClassName("seo-section-page-address"),key:"section-page-address"},a.createElement("span",{className:"seo-section-title-label"},d.translate("Pages_Info_Address_Title")),a.createElement("div",{className:"seo-section-site-url"},a.createElement("span",{className:"page-address-prefix"},"http://www.../"),a.createElement(c.textInput,{className:"control-text-input-seo",maxLength:g.NAME_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),inputFocusTooltipMessage:this.props.inputFocusTooltipMessage,infoText:"Pages_Info_Address_Tooltip"})),this.shouldShowLinkToPage()?a.createElement("a",{key:"page-web-address",href:f.getPublicUrl(this.getEditorAPI(),this.props.pageData),target:"_blank"},a.createElement(c.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})):null,this.isUriSEOTranslated()?a.createElement("span",{className:"translated-by",key:"googleAttribution"},d.translate("Pages_Info_URL_Popup_Google")," ",a.createElement(c.symbol,{name:"google-logo"})):null)}});define("pagesMenu/settings/tabs/seoUrlSettings",["lodash","react","core","baseUI","util","pagesMenu/settings/tabs/pageSettingsTabMixin","pagesMenu/utils/pageUtils","experiment","pagesMenu/settings/tabs/seoUrlSettings.rt"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(b,c){var d=[{callback:e.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:e.validate.byInvalidCharacters(e.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];if(b.generalInfo.urlFormat.isSlash()){return d.concat([{callback:a.negate(b.pages.data.pageUriSEO.isForbidden.bind(null,c)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:a.negate(b.pages.data.pageUriSEO.isDuplicate.bind(null,c)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}])}return d}return b.createClass({displayName:"seoUrlSettings",mixins:[f,b.addons.LinkedStateMixin],render:i,propTypes:{pageData:b.PropTypes.object.isRequired},shouldShowLinkToPage:function(){return this.props.shouldShowLinkToPage&&this.getEditorAPI().generalInfo.isSitePublished()},linkUrlProperty:function(a){var b=this.getPageId();var c=this.getEditorAPI();var d={};var e=c.generalInfo.urlFormat.isSlash()?c.pages.data.pageUriSEO:g;return{value:this.getValueFromPageData(a),requestChange:function(f){d[a]=f&&e.convertPageNameToUrl(f);c.pages.data.update(b,d)}}},isUriSEOTranslated:function(){var a=this.getValueFromPageData("translationData");return h.isOpen("urlFormatGoogleTranslate")&&a&&a.uriSEOTranslated},getPageUriSEOValidators:function(){var b=j(this.getEditorAPI(),this.getPageId());return a.map(b,"callback")},getPageUriSEOInvalidMessages:function(){var b=j(this.getEditorAPI(),this.getPageId());return a.map(b,"message")},getClassName:function(a){return e.inheritClassName(this.props,a)}})});define("pagesMenu/settings/tabs/tabSEO.rt",["react","lodash","baseUI","util","pagesMenu/settings/tabs/googlePreviewExpandable","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/constants","pagesMenu/settings/tabs/seoUrlSettings","baseUILib","experiment","symbols"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(){var e=d.translate;return a.createElement(i.CustomScroll,{},a.createElement("div",{className:b({"seo-google":true,"tab-inner":true,"google-preview-expanded":this.state.isGooglePreviewExpanded}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},this.isNewSeoWizOpen()?a.createElement("section",{key:"seo-section-seo-wiz",className:"seo-section-seo-wiz"},a.createElement("div",{className:"seo-section-seo-wiz-inner-div"},a.createElement(i.Composites.RichTextWithIllustration,{},a.createElement(i.Illustration,{},a.createElement(k.symbol,{name:"getFoundOnGoogle"})),a.createElement(i.Composites.RichTextLabeled,{},a.createElement(i.TextLabel,{value:"Pages_SEO_Wizard_Title",type:"T03"}),a.createElement(i.RichText,{},a.createElement("p",{},d.translate("Pages_SEO_Wizard_Description")," ",a.createElement("a",{href:this.getWixSEOWizURL(),target:"_blank",onClick:this.reportSeoWizardLinkClicked},d.translate("Pages_SEO_Wizard_Button_Label")))))))):null,a.createElement("section",{className:"seo-section-title"},a.createElement(c.textInput,{className:"control-text-input",label:"Pages_SEO_Title_Caption",placeholder:"Pages_SEO_Title_Placeholder",maxLength:g.TITLE_SEO_MAX_LENGTH,validator:d.validate.noHTMLTags,invalidMessage:"Pages_SEO_Title_Error_Tooltip",valueLink:this.linkGooglePreviewProperty("pageTitleSEO"),infoText:"Pages_SEO_Title_Tooltip",onBlur:this.onPagesSEOTitleBlur})),a.createElement("section",{className:"seo-section-description"},a.createElement(c.textInput,{className:"control-text-input",isMultiLine:true,label:"Pages_SEO_Description_Caption",placeholder:"Pages_SEO_Description_Placeholder",maxLength:g.DESCRIPTION_SEO_MAX_LENGTH,validator:d.validate.noHTMLTags,invalidMessage:"Pages_SEO_Description_Error_Tooltip",valueLink:this.linkGooglePreviewProperty("descriptionSEO"),infoText:"Pages_SEO_Description_Tooltip",onBlur:this.onPagesSEODescBlur})),!this.isNewSeoWizOpen()?a.createElement("section",{className:"seo-section-keywords",key:"seo_tab_keywords_middle"},a.createElement(c.textInput,{className:"control-text-input",label:"Pages_SEO_Keywords_Caption",placeholder:"Pages_SEO_Keywords_Placeholder",maxLength:g.KEYWORD_SEO_MAX_LENGTH,validator:d.validate.rangeOfWords(0,g.KEYWORD_SEO_MAX_WORDS),invalidMessage:"Pages_SEO_Keywords_Error_Tooltip",valueLink:this.linkPageProperty("metaKeywordsSEO"),infoText:"Pages_SEO_Keywords_Tooltip",onBlur:this.onPagesSEOKeywordsBlur})):null,a.createElement("section",{},a.createElement(i.ToggleSwitch,{value:!this.getValueFromPageData("indexable"),label:"Pages_SEO_Hide_Toggle",onChange:this.onHidePageChanged})),!j.isOpen("se_newPageSEOSection")?a.createElement("section",{className:"seo-section-page-address-old",key:"section-page-address"},a.createElement(c.textInput,{className:"control-text-input",label:"Pages_Info_Address_Title",maxLength:g.NAME_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),infoText:"Pages_Info_Address_Tooltip"}),a.createElement("span",{className:"page-address-prefix"},"http://www.../"),this.getEditorAPI().generalInfo.isSitePublished()?a.createElement("a",{key:"page-web-address",href:f.getPublicUrl(this.getEditorAPI(),this.props.pageData),onClick:this.onGoToUrlClicked,target:"_blank"},a.createElement(c.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})):null,this.isUriSEOTranslated()?a.createElement("span",{className:"translated-by",key:"googleAttribution"},d.translate("Pages_Info_URL_Popup_Google")," ",a.createElement(c.symbol,{name:"google-logo"})):null):null,this.isNewSeoWizOpen()?a.createElement("section",{className:"seo-section-keywords",key:"seo_tab_keywords_bottom"},a.createElement(c.textInput,{className:"control-text-input",label:"Pages_SEO_Keywords_Caption",placeholder:"Pages_SEO_Keywords_Placeholder",maxLength:g.KEYWORD_SEO_MAX_LENGTH,validator:d.validate.rangeOfWords(0,g.KEYWORD_SEO_MAX_WORDS,","),invalidMessage:"Pages_SEO_Keywords_Error_Tooltip",valueLink:this.linkPageProperty("metaKeywordsSEO"),infoText:"Pages_SEO_Keywords_New_Tooltip",onBlur:this.onPagesSEOKeywordsBlur})):null,j.isOpen("se_newPageSEOSection")?a.createElement(h,{key:"seoTabPageAddressSection",pageData:this.props.pageData,shouldShowLinkToPage:true}):null))}return function(){return a.createElement("div",{className:"tab tab-seo"},l.apply(this,[]),a.createElement(e,{isExpandedLink:this.linkState("isGooglePreviewExpanded"),pageData:this.props.pageData}))}});define("pagesMenu/settings/tabs/tabSEO",["lodash","react","core","baseUI","util","pagesMenu/settings/tabs/pageSettingsTabMixin","pagesMenu/utils/pageUtils","experiment","pagesMenu/settings/tabs/tabSEO.rt"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(b,c){var d=[{callback:e.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:e.validate.byInvalidCharacters(e.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];if(b.generalInfo.urlFormat.isSlash()){return d.concat([{callback:a.negate(b.pages.data.pageUriSEO.isForbidden.bind(null,c)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:a.negate(b.pages.data.pageUriSEO.isDuplicate.bind(null,c)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}])}return d}return b.createClass({displayName:"tabSEO",mixins:[f,b.addons.LinkedStateMixin],render:i,propTypes:{pageData:b.PropTypes.object.isRequired},getInitialStateFromPageData:function(){return{isGooglePreviewExpanded:false}},getInitialState:function(){return this.getInitialStateFromPageData()},componentWillReceiveProps:function(a){if(this.props.pageData.id!==a.pageData.id){this.setState(this.getInitialStateFromPageData())}},componentWillMount:function(){this.debouncedUpdateEditorAPI=a.debounce(function(a,b,c){a.pages.data.update(b,c)},20);this.seoInfo={pageTitleSEO:this.getValueFromPageData("pageTitleSEO"),pageDescSeo:this.getValueFromPageData("descriptionSEO"),pageKeywordsSEO:this.getValueFromPageData("metaKeywordsSEO")}},linkGooglePreviewProperty:function(a){var b=this.props.pageData.id;var c=this.getEditorAPI();var d={};return{value:this.getValueFromPageData(a),requestChange:function(e){if(!this.state.isGooglePreviewExpanded){this.setState({isGooglePreviewExpanded:true})}d[a]=e;this.debouncedUpdateEditorAPI(c,b,d)}.bind(this)}},onPagesSEOTitleBlur:function(){var a=this.seoInfo.pageTitleSEO;var b=this.getValueFromPageData("pageTitleSEO");if(b!==a){this.getEditorAPI().bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_seo_title_set);this.seoInfo.pageTitleSEO=b}},onPagesSEODescBlur:function(){var a=this.seoInfo.pageDescSeo;var b=this.getValueFromPageData("descriptionSEO");if(b!==a){this.getEditorAPI().bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_seo_description_set);this.seoInfo.pageDescSeo=b}},onPagesSEOKeywordsBlur:function(){var a=this.seoInfo.pageKeywordsSEO;var b=this.getValueFromPageData("metaKeywordsSEO");if(b!==a){this.getEditorAPI().bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_seo_keywords_set);this.seoInfo.pageKeywordsSEO=b}},linkUrlProperty:function(a){var b=this.getPageId();var c=this.getEditorAPI();var d={};var e=c.generalInfo.urlFormat.isSlash()?c.pages.data.pageUriSEO:g;return{value:this.getValueFromPageData(a),requestChange:function(f){d[a]=f&&e.convertPageNameToUrl(f);this.debouncedUpdateEditorAPI(c,b,d)}.bind(this)}},isUriSEOTranslated:function(){var a=this.getValueFromPageData("translationData");return h.isOpen("urlFormatGoogleTranslate")&&a&&a.uriSEOTranslated},getPageUriSEOValidators:function(){var b=j(this.getEditorAPI(),this.getPageId());return a.map(b,"callback")},getPageUriSEOInvalidMessages:function(){var b=j(this.getEditorAPI(),this.getPageId());return a.map(b,"message")},getWixSEOWizURL:function(){var a=this.getEditorAPI();return a.account.getWixSEOWizURL()},isNewSeoWizOpen:function(){var a=this.getEditorAPI();return a.account.isWixSEOWizExperimentOpen()},reportSeoWizardLinkClicked:function(){this.getEditorAPI().bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_seo_wiz_lets_go_click)},onGoToUrlClicked:function(){if(this.isNewSeoWizOpen()){this.getEditorAPI().bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_seo_go_to_url_click)}},onHidePageChanged:function(a){var b=this.getEditorAPI();var d=this.getPageId();var e={indexable:!a};this.debouncedUpdateEditorAPI(b,d,e);if(this.isNewSeoWizOpen()){b.bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_hide_page_clicked,{title:this.getPageData().title,toggle:a})}}})});define("pagesMenu/settings/pageSettingsPanelTabs.rt",["react","lodash","baseUI","util","pagesMenu/settings/tabs/tabPageInfoMainMenu","pagesMenu/settings/tabs/tabLayout","pagesMenu/settings/tabs/tabPermissions","pagesMenu/settings/tabs/tabSEO"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b,c){this.setActiveTab(c)}function j(){var b=this.props.menuItem.pageData;var j=d.translate;return a.createElement("div",{},a.createElement(c.tabs.holder,{value:this.state.activeTab,className:"top page-settings-tabs",onChange:i.bind(this,b,j)},a.createElement(c.tabs.header,{},a.createElement(c.tabs.label,{htmlFor:"page"},j("Pages_Info_Tab_Title")),a.createElement(c.tabs.label,{htmlFor:"layout"},j("Pages_Layouts_Tab_Title")),a.createElement(c.tabs.label,{htmlFor:"privacy"},j("Pages_Permissions_Tab_Title")),a.createElement(c.tabs.label,{htmlFor:"seo"},j("Pages_SEO_Tab_Title"))),a.createElement(c.tabs.content,{className:"page-settings-panel-content"},a.createElement(c.tabs.tab,{name:"page"},a.createElement(e,{menuItem:this.props.menuItem})),a.createElement(c.tabs.tab,{name:"layout"},a.createElement(f,{menuItem:this.props.menuItem})),a.createElement(c.tabs.tab,{name:"privacy"},a.createElement(g,{pageData:this.props.menuItem.pageData})),a.createElement(c.tabs.tab,{className:"seo",name:"seo"},a.createElement(h,{pageData:this.props.menuItem.pageData})))))}return function(){return j.apply(this,[])}});define("pagesMenu/settings/pageSettingsPanelTabs",["react","experiment","pagesMenu/settings/pageSettingsPanelTabs.rt","pagesMenu/settings/tabsContainerMixin"],function(a,b,c,d){"use strict";return a.createClass({displayName:"pageSettingsPanelTabs",mixins:[d],propTypes:{menuItem:a.PropTypes.object.isRequired},render:c,setSettingsTab:function(a){this.setState({activeTab:a})},componentWillReceiveProps:function(a){if(b.isOpen("dpages")&&a.activeTab&&this.state.activeTab!==a.activeTab){this.setActiveTab(a.activeTab)}},getDefaultTabName:function(){return"page"}})});define("pagesMenu/panels/settings/pageSettingsFrame.rt",["react","lodash","symbols","util","baseUILib"],function(a,b,c,d,e){"use strict";function f(){this.props.closeSettingsPanel("back")}function g(a){a.stopPropagation();this.openHelpPanel()}return function(){return a.createElement("div",{className:"page-settings-panel"},a.createElement("div",{className:"page-settings-panel-inner"},a.createElement(e.PanelHeader,{className:"dark",onClose:f.bind(this),onHelp:g.bind(this),closeSymbol:this.getCloseSymbol()},a.createElement("span",{},d.translate("Pages_Settings_Header_Text")+" ("+this.props.title+")")),"\n        ",this.props.children,"\n    "))}});define("pagesMenu/panels/settings/pageSettingsFrame",["react","core","pagesMenu/panels/settings/pageSettingsFrame.rt","symbols"],function(a,b,c,d){"use strict";return a.createClass({displayName:"pageSettingsFrame",propTypes:{helpId:a.PropTypes.string,title:a.PropTypes.string,closeSettingsPanel:a.PropTypes.func.isRequired},mixins:[b.mixins.editorAPIMixin],render:c,openHelpPanel:function(a){a=a||this.props.helpId;if(a){var c={learn_more:false,panel_name:"page_settings",origin:b.constants.BI.HELP.ORIGIN.PAGES};this.getEditorAPI().panelManager.openHelpCenter(a,null,c)}},getCloseSymbol:function(){return a.createElement(d.symbol,{name:"arrowLeft"})}})});define("pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon.rt",["react","lodash","pagesMenu/panels/settings/pageSettingsFrame"],function(a,b,c){"use strict";return function(){return a.createElement(c,{helpId:"2f65df85-2eba-4b41-a9bf-2a841a5e5a53",title:this.props.title,closeSettingsPanel:this.props.closeSettingsPanel},"\n\n    ",this.props.children,"\n\n")}});define("pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon",["react","core","pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon.rt"],function(a,b,c){"use strict";return a.createClass({mixins:[b.mixins.editorAPIMixin],displayName:"pageSettingsDesktopCommon",propTypes:{title:a.PropTypes.string,closeSettingsPanel:a.PropTypes.func.isRequired},render:c})});define("pagesMenu/panels/settings/desktop/pageSettingsDesktop.rt",["react","lodash","baseUI","symbols","util","pagesMenu/settings/dynamicPageSettingsPanelTabs","pagesMenu/settings/pageSettingsPanelTabs","pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon"],function(a,b,c,d,e,f,g,h){"use strict";function i(){var i=this.props.actions;var j=e.translate;return a.createElement(h,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},!this.isDynamicPage()?a.createElement(g,b.assign({},{activeTab:this.props.activeTab,key:"pageSettingsPanelTabs",ref:"pageSettingsPanelTabs"},this.props)):null,this.isDynamicPage()?a.createElement(f,b.assign({},{activeTab:this.props.activeTab,developerModeEnabled:this.isDeveloperModeEnabled(),key:"dynamicPageSettingsPanelTabs",ref:"dynamicPageSettingsPanelTabs"},this.props)):null,a.createElement("footer",{},!this.isDynamicPage()?a.createElement("div",{className:"page-settings-controls",key:"pageSettingsControls"},this.shouldShowDuplicateButton()?a.createElement("span",{key:"page-settings-controls-duplicate",className:"duplicate",onClick:this.duplicatePage},a.createElement("span",{},a.createElement(d.symbol,{name:"duplicate"})),"\n                ",j("Pages_Settings_Footer_Duplicate"),"\n            "):null,this.shouldShowRemoveButton()?a.createElement("span",{key:"page-settings-controls-remove",className:"remove",onClick:this.deletePage},a.createElement("span",{},a.createElement(d.symbol,{name:"pageDelete"})),"\n                ",j("Pages_Settings_Footer_Delete"),"\n            "):null):null,a.createElement(c.button,{label:"Pages_Settings_Footer_Done",onClick:this.doneClickHandler})))}return function(){return i.apply(this,[])}});define("pagesMenu/panels/settings/desktop/pageSettingsDesktop",["react","lodash","core","experiment","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/panels/settings/desktop/pageSettingsDesktop.rt"],function(a,b,c,d,e,f){"use strict";return a.createClass({mixins:[c.mixins.editorAPIMixin],displayName:"pageSettingsDesktop",propTypes:{menuItem:a.PropTypes.object.isRequired,actions:a.PropTypes.object,closeSettingsPanel:a.PropTypes.func.isRequired},render:f,shouldShowDuplicateButton:function(){return e.canDuplicate(this.getEditorAPI(),this.props.menuItem)},shouldShowRemoveButton:function(){return e.canRemoveMenuItem(this.getEditorAPI(),this.props.menuItem)},duplicatePage:function(){this.props.actions.duplicate(this.props.menuItem);this.getEditorAPI().bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_duplicate_page_click)},deletePage:function(){var a=this.props.menuItem;var d=this.getEditorAPI();this.props.closeSettingsPanel("deletePage");d.waitForChangesApplied(b.partial(e.removeMenuItem,d,a));d.bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_delete_page_click)},setSettingsTab:function(a){if(this.refs.pageSettingsPanelTabs){this.refs.pageSettingsPanelTabs.setSettingsTab(a)}else{this.refs.dynamicPageSettingsPanelTabs.setSettingsTab(a)}},doneClickHandler:function(){this.props.closeSettingsPanel("done")},isDynamicPage:function(){var a=this.getEditorAPI();return d.isOpen("dpages")&&!!a.routers.getRouterDataForPageIfExist(this.props.menuItem.pageData.id)},isDeveloperModeEnabled:function(){var a=this.getEditorAPI();return a.developerMode.isEnabled()}})});define("pagesMenu/settings/tabs/subPages/blogSinglePostInfo.rt",["react","lodash","baseUI","util","experiment"],function(a,b,c,d,e){"use strict";function f(a,b){b.stopPropagation();this.props.actions.openBlogManager()}function g(){var b=d.translate;return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},b("Pages_Blog_Post_Info_WhatisTitle")),a.createElement("p",{},b("Pages_Blog_Post_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},b("Pages_Blog_Post_Info_HowTitle")),a.createElement("p",{},b("Pages_Blog_Post_Info_HowText"))),a.createElement("section",{},a.createElement("p",{className:"title"},b("Pages_Blog_Post_Info_ChangeTitle")),a.createElement("p",{},a.createElement("span",{},b("Pages_Blog_Post_Info_ChangeText")+" "),this.isDesktop()?a.createElement("span",{key:"openBlogManagerButton"},a.createElement(c.button,{label:"Pages_Blog_Post_Info_ChangeLink",className:"btn-text",onClick:f.bind(this,b)}),a.createElement("span",{},".")):null,this.isMobile()?a.createElement("span",{key:"openBlogManagerText"},"\n                ",b("Pages_Blog_Post_Info_ChangeLink"),".\n            "):null)))}return function(){return g.apply(this,[])}});define("pagesMenu/settings/tabs/subPages/blogSinglePostInfo",["react","core","lodash","pagesMenu/settings/tabs/subPages/blogSinglePostInfo.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"blogSinglePostInfo",render:d,mixins:[b.mixins.editorAPIMixin],isDesktop:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().viewMode.VIEW_MODES.DESKTOP},isMobile:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().viewMode.VIEW_MODES.MOBILE}})});define("pagesMenu/settings/tabs/subPages/blogSinglePostSeo.rt",["react","lodash","util","pagesMenu/settings/tabs/seoUrlSettings","pagesMenu/settings/tabs/googlePreviewExpandable","experiment"],function(a,b,c,d,e,f){"use strict";function g(){var g=c.translate;return a.createElement("div",{className:"seo-google tab-inner"},a.createElement("p",{className:"title"},g("Pages_Blog_Post_SEO_Title")),a.createElement(e,{isExpanded:true,shouldHideExpandingButton:true,pageData:this.props.menuItem.pageData,previewDescriptionText:g("Pages_Blog_Post_SEO_Placeholder"),title:g("Pages_Blog_Post_SEO_Preview")+" | "+this.props.siteName}),f.isOpen("se_blogChangeSinglePostPageName")?a.createElement(d,{key:"blogSeoTabChangePageName",pageData:this.props.menuItem.pageData,inputFocusTooltipMessage:"SEO_URL_Changing_Warning",className:b({"blog-seo-setting":true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")}):null)}return function(){return g.apply(this,[])}});define("pagesMenu/settings/tabs/subPages/blogSinglePostSeo",["react","lodash","pagesMenu/settings/tabs/subPages/blogSinglePostSeo.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"blogSinglePostSeo",render:c})});define("pagesMenu/settings/tabs/subPages/tpaProductPageInfo.rt",["react","lodash","baseUI","util"],function(a,b,c,d){
"use strict";function e(a,b,c){c.stopPropagation();this.props.actions.openStoreManager()}function f(){var b=d.translate;var f=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},b("Pages_Store_Product_Info_WhatisTitle")),a.createElement("p",{},b("Pages_Store_Product_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},b("Pages_Store_Product_Info_HowTitle")),a.createElement("p",{},b("Pages_Store_Product_Info_HowText"))),a.createElement("section",{},a.createElement("p",{className:"title"},b("Pages_Store_Product_Info_ChangeTitle")),a.createElement("p",{},f.isDesktopEditor()?a.createElement("span",{key:"desktop"},b("Pages_Store_Product_Info_ChangeText")," "):null,f.isMobileEditor()?a.createElement("span",{key:"mobile"},b("Pages_Store_Product_Info_ChangeText_Mobile")," "):null,a.createElement(c.button,{label:"Pages_Store_Product_Info_ChangeLink",className:"btn-text",onClick:e.bind(this,b,f)}),a.createElement("span",{},"."))))}return function(){return f.apply(this,[])}});define("pagesMenu/settings/tabs/subPages/tpaProductPageInfo",["react","core","lodash","pagesMenu/settings/tabs/subPages/tpaProductPageInfo.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"tpaProductPageInfo",mixins:[b.mixins.editorAPIMixin],render:d})});define("pagesMenu/settings/tabs/subPages/tpaProductPageSeo.rt",["react","lodash","baseUI","util"],function(a,b,c,d){"use strict";function e(){var b=d.translate;return a.createElement("div",{className:"seo-google tab-inner"},a.createElement("p",{className:"title"},b("Pages_Store_Product_SEO_Title")),a.createElement("div",{className:"google-preview"},a.createElement("p",{className:"google-preview-title"},a.createElement("span",{className:"google-preview-title-site-name"},this.props.siteName+" | "),a.createElement("span",{},b("Pages_Store_Product_SEO_Preview"))),a.createElement("p",{className:"google-preview-url"},this.props.publicUrl.replace(/#!.*/,"#!product-title")),a.createElement("p",{className:"google-preview-description"},b("Pages_Store_Product_SEO_Placeholder"))))}return function(){return e.apply(this,[])}});define("pagesMenu/settings/tabs/subPages/tpaProductPageSeo",["react","lodash","pagesMenu/settings/tabs/subPages/tpaProductPageSeo.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"tpaProductPageSeo",render:c})});define("pagesMenu/settings/tabs/subPages/tpaCartPageInfo.rt",["react","lodash","baseUI","util"],function(a,b,c,d){"use strict";function e(){var b=d.translate;var c=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},b("Pages_Store_Cart_Info_WhatisTitle")),a.createElement("p",{},b("Pages_Store_Cart_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},b("Pages_Store_Cart_Info_HowTitle")),c.isDesktopEditor()?a.createElement("p",{key:"desktop"},b("Pages_Store_Cart_Info_HowText")," "):null,c.isMobileEditor()?a.createElement("p",{key:"mobile"},b("Pages_Store_Cart_Info_HowText_Mobile")," "):null))}return function(){return e.apply(this,[])}});define("pagesMenu/settings/tabs/subPages/tpaCartPageInfo",["react","lodash","core","pagesMenu/settings/tabs/subPages/tpaCartPageInfo.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"tpaCartPageInfo",mixins:[c.mixins.editorAPIMixin],render:d})});define("pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo.rt",["react","lodash","baseUI","util"],function(a,b,c,d){"use strict";function e(){var b=d.translate;var c=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},b("Pages_Store_Thankyou_Info_WhatisTitle")),a.createElement("p",{},b("Pages_Store_Thankyou_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},b("Pages_Store_Thankyou_Info_HowTitle")),c.isDesktopEditor()?a.createElement("p",{key:"desktop"},b("Pages_Store_Thankyou_Info_HowText")," "):null,c.isMobileEditor()?a.createElement("p",{key:"mobile"},b("Pages_Store_Thankyou_Info_HowText_Mobile")," "):null))}return function(){return e.apply(this,[])}});define("pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo",["react","core","lodash","pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"tpaThankYouPageInfo",mixins:[b.mixins.editorAPIMixin],render:d})});define("pagesMenu/settings/pageSettingsPanelTabsSubpage.rt",["react","lodash","baseUI","baseUILib","symbols","util","pagesMenu/settings/tabs/subPages/blogSinglePostInfo","pagesMenu/settings/tabs/subPages/blogSinglePostSeo","pagesMenu/settings/tabs/subPages/tpaProductPageInfo","pagesMenu/settings/tabs/subPages/tpaProductPageSeo","pagesMenu/settings/tabs/subPages/tpaCartPageInfo","pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo","pagesMenu/utils/pageUtils","pagesMenu/settings/tabs/tabLayout","pagesMenu/settings/tabs/tabPermissions","pagesMenu/settings/tabs/tabSEO","pagesMenu/utils/pageMenuItemHelpers","core"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";function s(a,b,c,d,e,f,g,h,i){this.setActiveTab(i)}function t(b,e,f,g,i,k,l,m){var n=this.getSiteName();var o=q.getPublicUrl(f,b);return a.createElement(c.tabs.tab,{name:"seo",className:"wixapps-subpage"},a.createElement(d.CustomScroll,{},g?a.createElement(h,{key:"page-settings-tab-seo-blog-single-post",siteName:n,publicUrl:o,menuItem:this.props.menuItem}):null,k?a.createElement(j,{key:"page-settings-tab-seo-tpa-product",siteName:n,publicUrl:o}):null,l||m?a.createElement("div",{key:"page-settings-tab-seo-tpa",className:"seo-google tab-inner empty"},a.createElement("p",{},e("Pages_Store_Cart_SEO_Text"))):null))}function u(e,f,h,j,m){var p=m.isWixStoreProductPage(e);var q=m.isWixStoreCartPage(e);var r=m.isWixStoreThankYouPage(e);return a.createElement(c.tabs.holder,{value:this.state.activeTab,className:"top page-settings-tabs",onChange:s.bind(this,e,f,h,j,m,p,q,r)},a.createElement(c.tabs.header,{},a.createElement(c.tabs.label,{htmlFor:"page"},f("Pages_Info_Tab_Title")),a.createElement(c.tabs.label,{htmlFor:"layout"},f("Pages_Layouts_Tab_Title")),a.createElement(c.tabs.label,{htmlFor:"privacy"},f("Pages_Permissions_Tab_Title")),a.createElement(c.tabs.label,{htmlFor:"seo"},f("Pages_SEO_Tab_Title"))),a.createElement(c.tabs.content,{className:"page-settings-panel-content"},a.createElement(c.tabs.tab,{name:"page",className:"wixapps-subpage"},a.createElement(d.CustomScroll,{},j?a.createElement(g,b.assign({},{key:"page-settings-tab-page-blog"},this.props)):null,p?a.createElement(i,b.assign({},{key:"page-settings-tab-page-tpa-product"},this.props)):null,q?a.createElement(k,b.assign({},{key:"page-settings-tab-page-tpa-cart"},this.props)):null,r?a.createElement(l,b.assign({},{key:"page-settings-tab-page-tpa-thank-you"},this.props)):null)),a.createElement(c.tabs.tab,{name:"layout"},a.createElement(n,{menuItem:this.props.menuItem})),a.createElement(c.tabs.tab,{name:"privacy"},a.createElement(o,{pageData:e})),t.apply(this,[e,f,h,j,m,p,q,r]),"-->\r\n        "))}function v(){var b=this.props.menuItem.pageData;var c=f.translate;var d=this.getEditorAPI();var e=r.utils.blogTypeUtils.isBlog(this.getEditorAPI(),this.props.menuItem.pageData);var g=r.utils.wixStoreTypeUtils;return a.createElement("div",{},u.apply(this,[b,c,d,e,g]))}return function(){return v.apply(this,[])}});define("pagesMenu/settings/pageSettingsPanelTabsSubpage",["react","pagesMenu/settings/pageSettingsPanelTabsSubpage.rt","pagesMenu/settings/tabsContainerMixin"],function(a,b,c){"use strict";return a.createClass({displayName:"pageSettingsPanelTabsSubpage",mixins:[c],propTypes:{menuItem:a.PropTypes.object.isRequired,actions:a.PropTypes.object},render:b,getDefaultTabName:function(){return"page"},getSiteName:function(){var a=this.getEditorAPI();return a.site.getSEOSiteName()||a.siteName.get()}})});define("pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage.rt",["react","lodash","baseUI","symbols","util","pagesMenu/settings/pageSettingsPanelTabsSubpage","pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){this.props.closeSettingsPanel("done")}function i(){var d=this.props.actions;var i=e.translate;return a.createElement(g,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},a.createElement(f,b.assign({},{ref:"pageSettingsPanelTabs"},this.props)),a.createElement("footer",{},a.createElement(c.button,{label:"Pages_Settings_Footer_Done",onClick:h.bind(this,d,i)})))}return function(){return i.apply(this,[])}});define("pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage",["react","lodash","core","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage.rt"],function(a,b,c,d,e){"use strict";return a.createClass({mixins:[c.mixins.editorAPIMixin],displayName:"pageSettingsDesktopSubpage",propTypes:{menuItem:a.PropTypes.object.isRequired,actions:a.PropTypes.object,closeSettingsPanel:a.PropTypes.func.isRequired},render:e,shouldShowDuplicateButton:function(){return d.canDuplicate(this.getEditorAPI(),this.props.menuItem)},shouldShowRemoveButton:function(){return d.canRemoveMenuItem(this.getEditorAPI(),this.props.menuItem)},duplicatePage:function(){this.props.actions.duplicate(this.props.menuItem);this.getEditorAPI().bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_duplicate_page_click)},deletePage:function(){var a=this.props.menuItem;var e=this.getEditorAPI();this.props.closeSettingsPanel("deletePage");e.waitForChangesApplied(b.partial(d.remove,e,a));e.bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_delete_page_click)}})});define("pagesMenu/panels/settings/mobile/pageSettingsMobileCommon.rt",["react","lodash","pagesMenu/panels/settings/pageSettingsFrame"],function(a,b,c){"use strict";return function(){return a.createElement(c,{title:this.props.title,closeSettingsPanel:this.props.closeSettingsPanel,helpId:"24b83680-5690-488d-b382-ac051e329c23"},a.createElement("div",{className:"page-setting-mobile page-settings-panel-content"},"\n        ",this.props.children,"\n    "))}});define("pagesMenu/panels/settings/mobile/pageSettingsMobileCommon",["react","core","pagesMenu/panels/settings/mobile/pageSettingsMobileCommon.rt"],function(a,b,c){"use strict";return a.createClass({mixins:[b.mixins.editorAPIMixin],displayName:"pageSettingsMobileCommon",propTypes:{title:a.PropTypes.string,closeSettingsPanel:a.PropTypes.func.isRequired},render:c})});define("pagesMenu/panels/settings/mobile/pageSettingsMobile.rt",["react","lodash","baseUI","baseUILib","symbols","util","core","pagesMenu/panels/settings/mobile/pageSettingsMobileCommon"],function(a,b,c,d,e,f,g,h){"use strict";return function(){return a.createElement("div",{},!this.isDynamicPage()?a.createElement(h,{key:"regular-page-mobile-settings",title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},a.createElement(d.CustomScroll,{},a.createElement("div",{className:"page-info tab-inner page-settings-mobile-common-page"},a.createElement("section",{},a.createElement(c.toggle,{shouldTranslate:false,label:this.getMobileVisibilityContent(),value:!this.props.menuItem.isVisibleMobile,onChange:this.changeMobileVisibility})),a.createElement("section",{className:"hidden-from-desktop"},this.props.menuItem.isVisible?a.createElement("span",{key:"page-settings-mobile-visible"},a.createElement(e.symbol,{name:"desktopVisible"}),a.createElement("span",{className:"label"},f.translate("Pages_Mobile_Settings_IsVisible"))):null,!this.props.menuItem.isVisible?a.createElement("span",{key:"page-settings-mobile-hidden"},a.createElement(e.symbol,{name:"desktopHidden"}),a.createElement("span",{className:"label"},f.translate("Pages_Mobile_Settings_IsHidden"))):null)))):null,this.isDynamicPage()?a.createElement(h,{key:"dynamic-page-mobile-settings",title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},a.createElement(d.CustomScroll,{},a.createElement("div",{className:"page-info tab-inner page-settings-mobile-common-page"},this.props.isDeveloperModeEnabled?a.createElement(d.Composites.RichTextLabeled,{key:"title-dev-mode-enabled"},a.createElement(d.TextLabel,{type:"T06",value:f.translate("Platform_Page_Settings_Mobile_View_DevTools_Enabled_Title"),shouldTranslate:false}),a.createElement(d.RichText,{},f.translate("Platform_Page_Settings_Mobile_View_DevTools_Enabled_Text"))):null,!this.props.isDeveloperModeEnabled?a.createElement(d.Composites.RichTextLabeled,{key:"title-dev-mode-not-enabled"},a.createElement(d.TextLabel,{type:"T06",value:f.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Title"),shouldTranslate:false}),a.createElement(d.RichText,{},a.createElement("div",{},f.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Text")),a.createElement("br",{}),a.createElement("div",{},f.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Text2")))):null))):null)}});define("pagesMenu/panels/settings/mobile/pageSettingsMobile",["react","symbols","core","util","experiment","pagesMenu/panels/settings/mobile/pageSettingsMobile.rt","pagesMenu/utils/pageMenuItemHelpers"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({mixins:[c.mixins.editorAPIMixin],displayName:"pageSettingsMobile",propTypes:{menuItem:a.PropTypes.object.isRequired,actions:a.PropTypes.object,isDeveloperModeEnabled:a.PropTypes.bool,closeSettingsPanel:a.PropTypes.func.isRequired},render:f,getMobileIconProps:function(){return this.props.menuItem.isVisibleMobile?{name:"mobileVisible",className:"mobileVisible",key:"visible"}:{name:"mobileHidden",className:"mobileHidden",key:"hidden"}},getMobileVisibilityContent:function(){return a.DOM.div({className:"toggle-with-icon"},a.DOM.span(null,a.createElement(b.symbol,this.getMobileIconProps())),a.DOM.span({className:"label"},d.translate("Pages_Mobile_Settings_Hide")))},changeMobileVisibility:function(a){g.setHidden(this.getEditorAPI(),this.props.menuItem,undefined,a);this.getEditorAPI().bi.event(c.bi.events.topbar.pages.top_bar_PAGES_settings_hide_from_mobile_done_click,{category:a?"on":"off"})},isDynamicPage:function(){var a=this.getEditorAPI();if(!this.props.menuItem.pageData){return false}return e.isOpen("dpages")&&!!a.routers.getRouterDataForPageIfExist(this.props.menuItem.pageData.id)}})});define("pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage.rt",["react","lodash","baseUI","baseUILib","pagesMenu/settings/tabs/subPages/blogSinglePostInfo","pagesMenu/settings/tabs/subPages/tpaProductPageInfo","pagesMenu/settings/tabs/subPages/tpaCartPageInfo","pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo","pagesMenu/panels/settings/mobile/pageSettingsMobileCommon","core"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(){var c=this.props.menuItem.pageData;var k=j.utils.blogTypeUtils;var l=j.utils.wixStoreTypeUtils;var m=this.getEditorAPI();return a.createElement(i,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},a.createElement(d.CustomScroll,{},a.createElement("div",{className:"wixapps-subpage"},k.isBlog(m,c)?a.createElement(e,b.assign({},{key:"page-settings-mobile-blog-single-post"},this.props)):null,l.isWixStoreProductPage(c)?a.createElement(f,b.assign({},{key:"page-settings-mobile-tpa-product-page"},this.props)):null,l.isWixStoreCartPage(c)?a.createElement(g,b.assign({},{key:"page-settings-mobile-tpa-cart-page"},this.props)):null,l.isWixStoreThankYouPage(c)?a.createElement(h,b.assign({},{key:"page-settings-mobile-tpa-thank-you-page"},this.props)):null)))}return function(){return k.apply(this,[])}});define("pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage",["react","core","pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage.rt"],function(a,b,c){"use strict";return a.createClass({mixins:[b.mixins.editorAPIMixin],displayName:"pageSettingsMobileSubpage",propTypes:{menuItem:a.PropTypes.object.isRequired,actions:a.PropTypes.object,closeSettingsPanel:a.PropTypes.func.isRequired},render:c})});define("pagesMenu/specialPages/tpaPages",["lodash","core"],function(a,b){"use strict";var c=b.utils.tpaTypeUtils;function d(b,d){return a(b).filter(a.partial(c.isTPASpecialPage,d)).map("tpaApplicationId").uniq().value()}var e={getSectionPagesDataList:function(b,e){var f=d(e,b);return a.filter(e,function(d){return a.includes(f,d.tpaApplicationId)&&!c.isTPASpecialPage(b,d)})},getSpecialPagesDataList:function(b,d){return a.filter(d,a.partial(c.isTPASpecialPage,b))},getSpecialPagesDataListByTPAId:function(b,c,d){return a.filter(e.getSpecialPagesDataList(b,d||b.pages.getPagesData()),["tpaApplicationId",c])}};return e});define("pagesMenu/specialPages/blogPages",["lodash","core"],function(a,b){"use strict";var c=b.utils.blogTypeUtils;return{getSectionPagesDataList:function(b,d){return a.filter(d,a.partial(c.isBlogSectionPage,b))},getSpecialPagesDataList:function(b,d){return a.filter(d,c.isBlogSpecialPage)}}});define("pagesMenu/specialPages/menuLogic",["lodash","core","pagesMenu/specialPages/tpaPages","pagesMenu/specialPages/blogPages"],function(a,b,c,d){"use strict";var e=b.utils;var f=e.blogTypeUtils.isBlog;var g=e.tpaTypeUtils.isTPA;function h(a,b,d){return c.getSpecialPagesDataListByTPAId(a,b,d)}function i(a,b){return d.getSpecialPagesDataList(a,b||a.pages.getPagesData())}return{isSpecialPage:function(a,b){return e.blogTypeUtils.isBlogSpecialPage(b)||e.tpaTypeUtils.isTPASpecialPage(a,b)||e.dynamicTypeUtils.isDynamicPage(a,b)},isSubPageMenuItem:function(a,b){return this.isSpecialPage(a,b)&&!e.tpaTypeUtils.isPageNotVisibleInPagesMenu(a,b)},getSectionPagesIds:function(b,e){var f=c.getSectionPagesDataList(b,e);var g=d.getSectionPagesDataList(b,e);return a.union(a.map(f,"id"),a.map(g,"id"))},getSpecialPagesListBySectionPageOrBySibling:function(a,b,c){if(b){if(f(a,b)){return i(a,c)}if(g(b)){return h(a,b.tpaApplicationId,c)}}return[]},getSectionPageDataBySpecialPage:function(b,e){var h=b.pages.getPagesData();var i;if(f(b,e)){return a.head(d.getSectionPagesDataList(b,h))}if(g(e)){i=c.getSectionPagesDataList(b,h);var j=a.find(i,{tpaApplicationId:e.tpaApplicationId});if(!j){var k=b.homePage.get();j=a.find(h,{id:k})}return j}return e}}});define("pagesMenu",["pagesMenu/components/pageItem","pagesMenu/components/nodeContentCommon","pagesMenu/components/mixedList/nodeContentUniversalRenderer","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/pageUtils","pagesMenu/utils/quickActionsUtils","pagesMenu/utils/constants","pagesMenu/components/quickActionRenameMixin","pagesMenu/panels/settings/desktop/pageSettingsDesktop","pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage","pagesMenu/panels/settings/mobile/pageSettingsMobile","pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage","pagesMenu/specialPages/menuLogic","pagesMenu/specialPages/blogPages","pagesMenu/specialPages/tpaPages"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";return{pageItem:a,nodeContentCommon:b,pageMenuItemHelpers:d,settingsPanels:{desktop:{mainMenu:i,subpage:j},mobile:{mainMenu:k,subpage:l}},mixedList:{nodeContentUniversalRenderer:c},mixins:{quickActionRenameMixin:h},utils:{pageAddressValidator:e.pageAddressValidator,convertPageNameToUrl:e.convertPageNameToUrl,quickActions:f,constants:g},specialPages:{menuLogic:m,blog:n,tpa:o}}});