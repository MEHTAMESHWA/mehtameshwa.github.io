define("rEditor/app/panelHelpers",["lodash","util","core","platform"],function(a,b,c,d){"use strict";var e="panels.focusPanels.organizeImagesPanel";var f="panels.focusPanels.aviaryPanel";var g={FORBIDDEN_COMP_TYPES:["wysiwyg.common.components.anchor.viewer.Anchor","mobile.core.components.Page","platform.components.AppController"],DESKTOP:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:c.constants.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:c.constants.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridDesktopPanel"},MOBILE:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:c.constants.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:c.constants.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridMobilePanel"},CONTAINER:{NOTIFICATION_RATE:2,DONT_SHOW_AGAIN_KEY:c.constants.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:c.constants.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfContainerGridPanel"}};var h={"mobileEditor.panels.mobileEditorFirstTimePanel":{SHOW_RATE_TRASHHOLD:1,DONT_SHOW_AGAIN_KEY:c.constants.USER_PREFS.MOBILE_EDITOR.FIRST_TIME_PANEL.DONT_SHOW_AGAIN,SHOW_COUNT_KEY:c.constants.USER_PREFS.MOBILE_EDITOR.FIRST_TIME_PANEL.SHOW_COUNT}};var i=0;function j(){return(i++).toString()}function k(c){var d=a.map(c.items,a.bind(function(a){var c=a.link;return{id:j(),data:a,linkText:c?b.link.getLinkValueAsString(this,c,true):""}},this));return d}function l(a,b){if(a){a(b)}}function m(a,b){var c=this.selection.getSelectedComponentData();return{imageDatas:k.call(this,c),isPreset:c.metaData.isPreset,imagesChanged:l.bind(this,b),createImageDataItem:this.data.createItem.bind(null,"Image"),galleryType:a}}function n(a,b){if(!o.call(this,a)){this.panelManager.openPanel(a,b)}else if(b){this.panelManager.updatePanelProps(a,b)}}function o(b){var c=this.panelManager.getOpenPanels();return a.some(c,{name:b})}function p(){return"rEditor.panels.pagesAndPopupsPanel"}function q(b,c,d){var e=b.userPreferences.site.get(c.DONT_SHOW_AGAIN_KEY);var f=a.includes(g.FORBIDDEN_COMP_TYPES,d);var h=b.pages.popupPages.isPopupOpened();var i=h&&!b.components.is.gridLinesVisible(b.pages.popupPages.getPopupContainer());return e||f||i}function r(a,b){var c=h[b].DONT_SHOW_AGAIN_KEY;var d=a.get(c);return d!==true}function s(a,b){var c=h[b].SHOW_COUNT_KEY;var d=a.get(c)||0;d++;a.set(c,d);return d}function t(a,b){var c=false;var d=h[b].SHOW_COUNT_KEY;var e=a.get(d)||0;if(e>h[b].SHOW_RATE_TRASHHOLD){c=true;var f=h[b].DONT_SHOW_AGAIN_KEY;a.set(f,c)}return c}return{openOrganizeImagesPanel:function(a){this.panelManager.openPanel(e,m.call(this,"images",a),true)},openOrganizeSocialIconsPanel:function(a){this.panelManager.openPanel(e,m.call(this,"socialIcons",a))},openAviaryPanel:function(a){this.panelManager.openPanel(f,{imageLink:a,editorAPI:this,onDialogResult:function(){this.panelManager.closePanelByName(f)}.bind(this)},true)},isPagesPanelOpen:function(){var a=p.call(this);return o.call(this,a)},openPagesPanel:function(b){var c=p.call(this);a.assign(b,{token:d.tokenService.generateStaticGlobalPanelToken("pagesPanel")});n.call(this,c,b)},closePagesPanel:function(){var a=p.call(this);this.panelManager.closePanelByName(a)},openMobileElementsPanel:function(a){if(!this.isMobileEditor()){return}var b="mobileEditor.mobileElementsPanel";var d=(new Date).getTime();a=a||{};a.key=c.lazyComponent.isLoaded(b)?b+d:b+"loading";n.call(this,b,a,"leftPanelFrame")},openMobileEditorFirstTimePanel:function(a,b){var c="mobileEditor.panels.mobileEditorFirstTimePanel";var d=a.getUserPreferences().site;if(!r(d,c)){return}s(d,c);t(d,c);a.panelManager.openPanel(c,b,true)},openCompOutOfGridPanel:function(a,b){var c;if(b){c=g.CONTAINER}else if(this.isMobileEditor()){c=g.MOBILE}else{c=g.DESKTOP}var d=this.components.getType(this.selection.getSelectedComponents());if(q(this,c,d)){return}var e=this.userPreferences.session.get(c.OUT_OF_GRID_COUNT_KEY)||0;if(e%c.NOTIFICATION_RATE===0){this.panelManager.openPanel(c.PANEL_NAME,a,true)}e+=1;this.userPreferences.session.set(c.OUT_OF_GRID_COUNT_KEY,e)},openDragToHeaderPanel:function(a){var b=this.userPreferences.site.get(c.constants.USER_PREFS.DRAG_TO_HEADER.DONT_SHOW_AGAIN);if(b){return}var d=this.userPreferences.session.get(c.constants.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT)||0;if(d%10===0){this.panelManager.openPanel("panels.focusPanels.dragToHeaderPanel",a)}d+=1;this.userPreferences.session.set(c.constants.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT,d)},openPinModeSizeRestrictionPanel:function(a){var b=this.userPreferences.site.get(c.constants.PANELS.PIN_TOO_BIG.PIN_TOO_BIG_DONT_SHOW_AGAIN);if(!b){this.panelManager.openPanel(c.constants.PANELS.PIN_TOO_BIG.PANEL_NAME,a,true)}},openLinkPanel:function(a,c){this.panelManager.openPanel("panels.toolPanels.linkPanel",b.link.getLinkPanelProps(this,a),!c)}}});define("rEditor/app/updateOperationsPlugins",["lodash"],function(a){"use strict";function b(){var b=arguments;a.forEach(this.list,function(a){a.apply(null,b)})}return{setHomePagePlugins:{list:[],run:b},updatePagePlugins:{list:[],run:b}}});define("rEditor/app/componentsPlugins",["lodash","util","core","constants","gfppData","experiment"],function(a,b,c,d,e,f){"use strict";var g=[d.ACTIONS.SCREEN_IN,d.ACTIONS.EXIT,d.ACTIONS.MODE_IN,d.ACTIONS.MODE_EXIT,d.ACTIONS.MODE_CHANGE];function h(d){var h=d.pluginService;h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.WRichText",function(){if(!d.isMobileEditor()){if(d.text.isEditorReady()){d.bi.event(c.bi.events.textControls.Text_Panel_opened,{origin:c.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK});d.text.startEditing()}}else{d.openComponentPanel(c.constants.componentPanels.settings)}});h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.SiteButton",i);h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.DatePicker",i);h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.FileUploader",i);h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,c.constants.MULTISELECT.TYPE,a.noop);h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.TextInput",function(){if(!d.isMobileEditor()){d.openComponentPanel(c.constants.componentPanels.settings)}});h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,"mobile.core.components.Page",function(b,f){var g=d.siteSegments.getPagesContainerAbsLayout();var h=f.evt.pageX<g.x||f.evt.pageX>g.x+g.width;var i=f.comp[0];if(d.pages.popupPages.isPopup(i.id)){var j=e.getComponentMainActionClick(d,f.comp);if(a.isFunction(j)){j(d,f.comp,c.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}return}if(h){d.panelManager.openPanel("rEditor.panels.backgroundPanel");return}d.openComponentPanel(c.constants.componentPanels.design)});function i(b,f){if(!d.isMobileEditor()){var g=e.getComponentMainActionClick(d,f.comp);if(a.isFunction(g)){g(d,f.comp,c.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}}function j(b,c){a.forEach(c,function(c){a(c).thru(a.bind(b.get,b)).filter({behavior:{type:"widget",name:"runCode"}}).forEach(function(a){b.remove(c,a.action,{id:a.behavior.targetId},a.behavior)})})}function k(b,c,d){a.forEach(d,function(d){a(d).thru(a.bind(b.get,b)).filter(function(b){return a.includes(g,b.action)}).forEach(function(a){c.behaviors.remove(d,a)})})}function l(b,c,d,e){var f=e.getPage(c);var g=a(b).reject(function(b){return a.isEqual(b.root,f)}).map("ref").value();j(d,g)}function m(b,c,d,e){var f=e.modes.getFirstAncestorOrSelfWithModeDefinitions(c);var g=a(b).reject(function(b){return a.isEqual(b.ancestor,f)}).map("ref").value();k(d,e,g)}function n(b,c){return a(c).thru(function(){return b.getChildren(c.ref,true).concat(c.ref)}).map(function(a){return{ref:a,root:c.root}}).value()}function o(b,c){return a(c).thru(function(){return b.getChildren(c.ref,true).concat(c.ref)}).map(function(a){return{ref:a,ancestor:c.ancestor}}).value()}function p(b,c){return a.flatMap(c,a.partial(n,b))}function q(b,c){return a.flatMap(c,a.partial(o,b))}function r(a,b,c,d,e){var f=p(d,b);var g=q(d,c);l(f,a,e,d);m(g,a,e,d)}function s(b){var c=a.map(b,"id");d.documentMode.ignoreComponentsHiddenProperty(c)}function t(b){var c=a.filter(b,function(b){var c=d.components.properties.get(b);return a.get(c,"isHidden")});s(c);v(d,b)}function u(b,c){var e=a.filter(d.selection.getSelectedComponents(),function(e){var f=b===e?c:d.components.properties.get(e);return a.get(f,"isHidden")});s(e)}function v(a,b){if(!b){return}if(b.length===1&&d.pages.popupPages.isPopup(b[0].id)){a.bi.event(c.bi.events.popups.pop_up_overlay_clicked)}}d.registerCompNamePlugin("wysiwyg.viewer.components.HoverBox",function(c){if(!f.isOpen("se_editHoverBox")){return b.translate("component_label_HoverBox")}var e=d.components.modes.getTypes();var g=a.filter(d.components.modes.getModes(c),["type",e.HOVER]);var h=d.components.modes.getComponentActiveModeIds(c);for(var i=0;i<g.length;i++){if(h[g[i].modeId]){return b.translate("component_label_hover_box_onhover")}}return b.translate("component_label_hover_box")});d.registerCompNamePlugin("wysiwyg.viewer.components.Column",function(c){var e=a(c).thru(d.components.getType).thru(function(a){return a.split(".")}).last();var f=a(c).thru(d.components.getContainer).thru(d.components.getChildren).findIndex(c)+1;return b.translate("component_label_"+e)+" "+f});d.registerCompNamePlugin("mobile.core.components.Page",function(a){if(d.pages.popupPages.isPopup(a.id)){return b.translate("component_label_Overlay")}return b.translate("component_label_Page")});d.registerCompNamePlugin("platform.components.AppController",function(a){return d.platform.controllers.getControllerTypeDisplayName(a)});d.registerRemovePlugin("wysiwyg.viewer.components.Column",function(a,b,c,e){d.columns.removeColumn(a,b,c,e)});d.registerDuplicatePlugin("wysiwyg.viewer.components.Column",function(b){var c=d.components.getContainer(b);if(!d.components.is.duplicatable(b,c)){return[]}var e=d.columns.duplicateColumn(a.head(b));d.waitForChangesApplied(function(){var a=d.openFirstTimePanel.bind(this,e);d.selection.selectComponentByCompRef(e,a)}.bind(this));return e});h.registerPlugin("selection","*",t);h.registerPlugin("propertiesChange","*",u);h.registerPlugin("setContainer","*",r)}return{register:h}});define("rEditor/app/APISectionsPlugins/historyPlugins",["constants"],function(a){"use strict";function b(b){var c=b.pluginService;c.registerPlugin(a.R_EDITOR.HISTORY.REDO,a.DS_ACTIONS.ADD_PAGE,function(a,c){if(a.nextPage&&a.nextPage!==b.pages.getFocusedPageId()){b.pages.navigateTo(a.nextPage,c)}else{c()}})}return{register:b}});define("rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin",["rEditor/app/updateOperationsPlugins"],function(a){"use strict";function b(a,b){b=b&&b.replace(/^#/,"")||a.homePage.get();var c=a.pages.data.get(b);return{name:c.pageTitleSEO,description:c.descriptionSEO,keywords:c.metaKeywordsSEO}}function c(a,b){a.site.setSEOSiteName(b.name);a.site.setSEOSiteDescription(b.description);a.site.setSEOSiteKeywords(b.keywords)}return{register:function(){a.setHomePagePlugins.list.push(function(a,d){c(a,b(a,d))});a.updatePagePlugins.list.push(function(a,d){var e=d===a.homePage.get();if(e){c(a,b(a,d))}})}}});define("rEditor/app/pluginsRegistrar",["rEditor/app/componentsPlugins","rEditor/app/APISectionsPlugins/historyPlugins","rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin"],function(a,b,c){"use strict";return{register:function(d){a.register(d);b.register(d);c.register()}}});define("rEditor/app/APISections/concurrentUsersWrapper",["lodash","jquery","util"],function(a,b,c){"use strict";function d(d){var e="panels.messagePanels.concurrentUserPanel";var f="http://editor."+c.serviceTopology.baseDomain+"/concurrent-editing-session-watcher/watcher/report";var g=a.template(f+"?msid=<%= msid %>&esi=<%= esi %>");var h=60*1e3;var i=null;var j=null;var k=false;var l=null;function m(b){if(!n()){v()}else if(o()){j=window.setTimeout(function(){m(b)},h)}else{j=window.setTimeout(function(){var c=a.partial(p,b);s(c)},b?0:h)}}function n(){var b=d.generalInfo.getUserInfo();var e=c.cookie.getCookie("wixClient");return b&&b.name&&a.includes(e,b.name)}function o(){return d.generalInfo.isFirstSave()}function p(b,c){if(b&&l===null){l=a.isEmpty(c)}if(!a.isEmpty(c)&&!r(i,c)){var f=q(i,c);i=c;var g={isFirstUser:l,concurrentUsers:c,concurrentUserToDisplay:f};d.panelManager.openPanel(e,g)}m(false)}function q(b,c){var d={};a.forEach(b,function(a){d[a]=d});var e=null;a.forEach(c,function(a){if(!d[a]){e=a;return false}});return e}function r(b,c){if(b===c){return true}else if(b&&!c||!b&&c||a.size(b)<a.size(c)){return false}var d={};var e=b.length;a.forEach(b,function(a){d[a]=a});a.forEach(c,function(a){d[a]=a});return e===a.size(d)}function s(a){if(a){var b=d.generalInfo.getMetaSiteId();var e=c.editorModel.editorSessionId;t(b,e,a)}}function t(a,c,d){var e=null;var f=g({msid:a,esi:c});b.get(f).done(function(a){if(a){e=a.otherUsersOnSite||null}d(e)}).fail(function(){d(e)})}function u(){if(!k){k=true;m(true)}}function v(){if(j){window.clearTimeout(j);j=null}i=null;k=false}return{checkForConcurrentUsers:u,stopCheckForConcurrentUsers:v}}return{create:d}});define("rEditor/app/APISections/themeWrapper",["lodash"],function(a){"use strict";function b(b){function c(c){if(a.includes(c,"color")){return b.documentServices.theme.colors.get(c)}return c}function d(){return b.theme.styles.excludedList||[]}function e(a){var c=b.theme.styles;if(!c.excludedList){c.excludedList=[]}c.excludedList.push(a)}function f(c,d,e){if(b.updateHooks){a.forEach(b.updateHooks,function(a){a(c,d)})}b.documentServices.theme.styles.update(c,d);if(!e){b.history.debouncedAdd("Update component style")}}function g(){var c=b.documentServices.theme.styles;return a.difference(c.getAllIds(),b.theme.styles.getExcludedList())}function h(a){b.updateHooks=b.updateHooks||[];b.updateHooks.push(a)}return{colors:{get:c},styles:{getExcludedList:d,setExcluded:e,update:f,getAllIds:g,registerHook:h}}}return{create:b}});define("rEditor/app/APISections/historyWrapper",["lodash","constants"],function(a,b){"use strict";function c(c){var d=["panels.toolPanels.colorPicker.colorPickerPanel","rEditor.panels.backgroundApplyPanel","compPanels.dynamicPanels.pinnedDockPanel","rEditor.panels.slideShowBgApplyPanel"];function e(){a.forEach(d,c.panelManager.closePanelByName)}function f(b,d){a.assign(d,{isSameEditorMode:d.isMobileEditor===c.isMobileEditor(),selectedComps:c.selection.getSelectedComponents()});e();c.selection.deselectComponents();c.setEditorMode(d.isMobileEditor,true);b.call(c.documentServices.history);c.waitForChangesApplied(function(){if(d.postAction){d.postAction(d,a.partial(g,d))}else{g(d)}})}function g(b){var d=a.filter(b.selectedComps,c.components.is.exist.bind(c));if(a.isEmpty(d)){return}var e=c.pages.getFocusedPageId();var f=[e];if(!c.pages.popupPages.isPopupOpened()){f.push(c.pages.getMasterPageId())}var g=a.get(c.components.getPage(d),"id");if(b.isSameEditorMode&&a.includes(f,g)){c.selection.selectComponentByCompRef(d)}}function h(a,d){var e=c.pluginService.getPlugin(d,a.actionType);if(d===b.R_EDITOR.HISTORY.REDO){switch(a.actionType){case b.DS_ACTIONS.ADD_PAGE:a.postAction=e;break}}return a}function i(b,d){c.rulers.resetRulersHistory();var e=c.isMobileEditor();d=a.defaults(d||{},{label:b,currentPage:c.pages.getFocusedPageId(),isMobileEditor:e});c.documentServices.history.add(b,d)}function j(b){if(!c.history._debouncedAdd){c.history._debouncedAdd=a.debounce(c.history.add,500)}c.history._debouncedAdd(b)}function k(){if(c.rulers.canUndo()){c.rulers.undo();return}c.waitForChangesApplied(function(){if(c.text.isEditingText()){if(c.text.canUndo()){c.rulers.resetRulersHistory()}c.text.undo();return}var b=c.documentServices.history;if(!b.canUndo()){return}c.rulers.resetRulersHistory();var d=b.getUndoLastSnapshotParams();if(d.currentPage===c.documentServices.pages.getFocusedPageId()){f(b.undo,d)}else{c.pages.navigateTo(d.currentPage,a.partial(f,b.undo,d))}})}function l(){if(c.rulers.canRedo()){c.rulers.redo();return}c.waitForChangesApplied(function(){var d,e;if(c.text.isEditingText()){c.text.redo();return}d=c.documentServices.history;if(!d.canRedo()){return}e=d.getRedoLastSnapshotParams();e=h(e,b.R_EDITOR.HISTORY.REDO);if(e.currentPage===c.documentServices.pages.getFocusedPageId()){f(d.redo,e)}else{c.pages.navigateTo(e.currentPage,a.partial(f,d.redo,e))}})}function m(){c.documentServices.history.clear()}return{add:i,debouncedAdd:j,undo:k,redo:l,clear:m}}return{create:c}});define("rEditor/app/APISections/imageCrop",["lodash","core","util","baseUI","constants"],function(a,b,c,d,e){"use strict";function f(f){var g=c.math.rect;var h=c.imageCrop;var i=c.imageTransform;function j(a,b){var c=g.getMiddlePoint(a);return g.getPointRatioFromRect(c,b)}function k(a,b,c){var d=j(a,b);return{x:c.width*d.x,y:c.height*d.y}}function l(b,c,d){var e=a.clone(c);var f=a.clone(d);var h=g.getMiddlePoint(d);var i=k(d,b,e);var j={x:i.x-h.x,y:i.y-h.y};f.x+=j.x;f.y+=j.y;e.x-=j.x;e.y-=j.y;return{originArea:e,area:f}}function m(a,b,c){var d=a/g.getAreaRatioPercentage(b,c);return g.getResizedByRatio(b,d)}function n(b){return{cropOriginArea:b,cropArea:a(b).pick(["height","width"]).assign({x:0,y:0}).value()}}function o(a,b,c){var d=h.reverseAutoCrop(a,c);var e=h.reverseManualCrop(d,c,b);var f=h.reverseAutoCrop(e,b);var g=h.manualCrop(f,c,b);g=h.autoCrop(g,a);return{cropOriginArea:f,cropArea:g}}function p(a,b,c){var d=h.reverseManualCrop(a,c,b);var e=h.manualCrop(d,c,b);return{cropOriginArea:d,cropArea:e}}function q(b,c){var d=h.reverseAutoCrop(b,c);var e=a.assign({},d,{x:0,y:0});e=h.autoCrop(e,a.pick(b,["height","width"]));return{cropOriginArea:d,cropArea:e}}function r(a){var b={x:0,y:0,width:f.site.getSiteWidth(),height:f.site.getHeight()};return{cropArea:h.ensure.areaWithinViewport(b,a),cropOriginArea:a.cropOriginArea}}function s(b){var c=f.components.data.get(b);var d=f.components.properties.get(b);var e=d.displayMode;var g=f.components.layout.get(b).rotationInDegrees;var h=e===i.fittingTypes.SCALE_TO_FILL;var j=a.pick(f.components.layout.getRelativeToScreen(b),["height","width","x","y"]);var k={};var l=d.overrideCrop||c.crop;if(!l&&!h){k=n(j)}else if(!l&&h){k=q(j,c)}else if(l&&!h){k=p(j,c,l)}else{k=o(j,c,l)}var m=t(k.cropArea,k.cropOriginArea,g);a.assign(k.cropOriginArea,m);k=r(k);return k}function t(b,d,e){var f=a.clone(b);f.x+=d.x;f.y+=d.y;var h=c.math.getPointAsIfRectWasNotRotated(f,g.getMiddlePoint(d),-e);return{x:h.x-d.width/2,y:h.y-d.height/2}}function u(){return f.editor.state.imageCrop.isOn}function v(b){var d=c.imageTransform.fittingTypes;var e=d.SCALE_TO_FILL;var g=d.STRETCH;var h=f.components.properties.get(b).displayMode;if(!a.includes([e,g],h)){f.components.properties.update(b,{displayMode:e})}}function w(g,h){var i,j;var k=f.editor.state.imageCrop;var l=f.editor.state.selectedComponents;if(!l){return}k.isOn=typeof g==="undefined"?!k.isOn:g;if(k.isOn){d.tooltipManager.hide(e.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE);v(l);i=s(l);f.bi.event(b.bi.events.imageCrop.Open_crop_mode,{fixed_layout:false});j=c.keyboardShortcuts.CONTEXTS.IMAGE_CROP}else{i={cropArea:null,cropOriginArea:null};j=c.keyboardShortcuts.CONTEXTS.EDITOR}a.assign(k,i);h=h||a.noop;c.keyboardShortcuts.setContext(j);if(k.isOn){G(k,h)}else{f.editor.setState({imageCrop:k},h)}}function x(){return a.clone(f.editor.state.imageCrop.cropArea)}function y(){return a.clone(f.editor.state.imageCrop.cropOriginArea)}function z(a){var b=f.components.getContainer(a);var c=f.components.layout.getRelativeToScreen(b);if(f.isMobileEditor()){return c}var d=f.components.get.byId("PAGES_CONTAINER");var e=f.components.layout.getRelativeToScreen(d);if(f.components.is.fullWidth(b)||f.components.isShowOnAllPages(a)){c.x+=e.x}return c}function A(b,d,e){var f=g.getMiddlePoint(b);var h=a.assign({},d,{x:0,y:0});var i=c.math.getPointAsIfRectWasNotRotated(h,f,-e);return{x:i.x-b.width/2,y:i.y-b.height/2}}function B(b,c){var d=f.editor.state.selectedComponents;var e=f.editor.state.imageCrop;var g=e.cropOriginArea;var h=e.cropArea;var i=f.components.layout.get(d).rotationInDegrees;var j=b?{x:0,y:0}:z(d);if(!e){return null}var k=c?h:A(h,g,i);return a(h).pick(["height","width"]).assign({x:k.x+g.x-j.x,y:k.y+g.y-j.y}).value()}function C(b){return a(b).pick(["x","y","width","height"]).mapValues(Math.round).value()}function D(b,c){var d=a.cloneDeep(b);d.cropArea=C(b.cropArea);d.cropOriginArea=C(b.cropOriginArea);c=c||a.noop;f.editor.setState({imageCrop:d},c)}function E(b,c){var d=a.assign({},f.editor.state.imageCrop,{cropOriginArea:b});D(d,c)}function F(b,c){var d=a.assign({},f.editor.state.imageCrop,{cropArea:b});D(d,c)}function G(b,c){var d=a.assign({},f.editor.state.imageCrop,b);D(d,c)}function H(){var b=f.editor.state.selectedComponents;var c=f.components.data.get(b);var d=f.components.layout.get(b).fixedPosition;var e=f.imageCrop.getCropArea();var h=f.imageCrop.getCropOriginArea();var i=f.imageCrop.getCropAreaFinalPosition(d);var j={width:h.width/c.width,height:h.height/c.height};var k=a.mapValues({x:e.x/j.width,y:e.y/j.height,height:e.height/j.height,width:e.width/j.width},Math.round);var l=g.areRectsTheSameSize(c,k)&&k.x===0&&k.y===0;if(l&&!f.isMobileEditor()){k=null}if(f.isMobileEditor()){f.components.properties.update(b,{overrideCrop:k})}else{f.components.data.update(b,{crop:k})}f.components.layout.update(b,i)}function I(a,b,d){var e=g.getMiddlePoint(a);var f=g.getMiddlePoint(b);var h={x:f.x-e.x,y:f.y-e.y};var i=c.math.degToRad(d);var j=c.math.rotateVectorAround(h,i);return{x:c.math.roundToNearestHalf(j.x-h.x),y:c.math.roundToNearestHalf(j.y-h.y)}}function J(b,c){var d=f.components.data.get(b);var e=f.components.layout.get(b);var j=e.rotationInDegrees;var k=f.components.properties.get(b).displayMode;var n=f.imageCrop.getCropOriginArea();var o=f.imageCrop.getCropArea();var p=g.getAspectRatio(e);var q=a.assign({},d,{height:d.width*p});var r=k===i.fittingTypes.STRETCH?q:d;var s=g.getRectMinDimensionsByContainedInnerRect(r,o);var t=m(c,n,d);t=h.ensure.scaleWithinDimensions(t,o,s);var u=l(n,t,o);var v=h.ensure.areaIsFullyContained(u.originArea,u.area);var w=I(n,v.originArea,j);v.originArea.x+=w.x;v.originArea.y+=w.y;return v}function K(a){return J(a,100)}function L(){var a=f.imageCrop.getCropOriginArea();var b=f.imageCrop.getCropArea();var c=Math.min(b.width,b.height);b.height=c;b.width=c;return{area:b,originArea:a}}function M(){var b=y();var c=g.getAspectRatio(b);var d=x();var e=f.imageCrop.getCropAreaFinalPosition(true);var h=g.getRectMinDimensionsByContainedInnerRect(b,e);var i=d.height>d.width?{height:h.height,width:h.height/c}:{width:h.width,height:h.width*c};return{area:a.assign({},i,{x:0,y:0}),originArea:a.assign({},e,i)}}return{isCropMode:u,toggleCropMode:w,getCropArea:x,getCropOriginArea:y,getCropAreaFinalPosition:B,setCropOriginArea:E,setCropArea:F,setCropData:G,updateCrop:H,getNewCropStateByPercentageFromOriginalImage:J,quickActions:{getNewCropStateForHundredPercent:K,getNewCropStateForSquare:L,getNewCropStateResetCrop:M}}}return{create:f}});define("rEditor/app/APISections/siteWrapper",["core","util","lodash"],function(a,b,c){"use strict";function d(d){function e(a){var b=c(a).split(";").filter(function(a){return c.startsWith(a,"viewer")}).map(function(a){return a.split("viewer:")[1]}).join(",");return b?"viewer:"+b:""}function f(a,d){var f=b.url;d.forEach(function(b){var d=f.getParameterByName(b);if(d&&(b==="experiments"||b==="experimentsoff")&&c.includes(d,":")){d=e(d)}a=d?f.setUrlParam(a,b,d):a});return a}function g(){var a=window.location.hostname;var b=a.match(/editor\.(.*)/);return b?"www."+b[1]:"www.wix.com"}function h(){return d.documentServices.seo.title.get()}function i(a){return d.documentServices.seo.title.set(a)}function j(){return d.documentServices.seo.description.get()}function k(a){return d.documentServices.seo.description.set(a)}function l(){return d.documentServices.seo.keywords.get()}function m(a){return d.documentServices.seo.keywords.set(a)}function n(){return d.documentServices.generalInfo.getMetaSiteId()}function o(){return d.documentServices&&d.documentServices.premiumFeatures&&d.documentServices.premiumFeatures.get().length>0}function p(){return d.components.layout.getRelativeToScreen(d.siteSegments.getPagesContainer()).x}function q(b,c){var e=d.documentServices.generalInfo.getMetaSiteId();a.premiumServicesAPI.getSiteDomainInfo(e,b,c)}function r(){return d.editor.state.site.premiumPackage||-1}function s(){var a=d.generalInfo.getPublicUrl()||d.domain.getFreeDomainPrefix()+d.siteName.get();a=a.replace(/^https?/i,d.domain.getSiteProtocol());return f(a,["ReactSource","experiments","experimentsoff","viewerexp"])}function t(){var a=window.document.getElementById("preview").getBoundingClientRect();return a.width}return{getCurrentSiteDomain:g,getSEOSiteName:h,setSEOSiteName:i,getSEOSiteDescription:j,setSEOSiteDescription:k,getSEOSiteKeywords:l,setSEOSiteKeywords:m,getMetaSiteId:n,isPremium:o,getXPos:p,getSiteDomainInfo:q,getSitePremiumPackage:r,getSitePublicUrl:s,getSiteWidth:t}}return{create:d}});define("rEditor/app/APISections/domainWrapper",["lodash","util"],function(a,b){"use strict";function c(c){function d(){return c.generalInfo.urlFormat.isSlash()?"wixsite.com":"wix.com"}function e(){return c.generalInfo.isHttpsEnabled()?"https":"http"}function f(){var b=c.generalInfo.getPublicUrl();return!a.isNil(b)&&!a.includes(b,d())}function g(){var a=e();return a+"://"+c.generalInfo.getUserInfo().name+"."+d()+"/"}function h(){var a=b.cookie.getCookie("wixClient");return a.indexOf("GOOGLE_DOMAIN")>0||a.indexOf("REGRU")>0}return{getSiteProtocol:e,isDomainConnected:f,getFreeDomainPrefix:g,doesUserOwnGoogleDomain:h}}return{create:c}});define("rEditor/bi/events.json",[],function(){return{QUALAROO_DUMMY_EVENT:{evid:9,fields:{testField:"testValue"}},UPGRADE_EVENT:{evid:519,fields:{origin:"string"}},AUTOSAVE_TEST:{src:42,endpoint:"ugc-viewer",evid:362,fields:{type:"string",uuid:"guid"}},IDE_TOPBAR_RESIZE:{endpoint:"platform",src:79,evid:20,fields:{old_hight:"string",new_hight:"string",site_id:"guid"}},LEFT_TREE_TOGGLE:{endpoint:"platform",src:79,evid:21,fields:{state:"string",site_id:"guid"}}}});define("rEditor/bi/errors.json",[],function(){return{QUALAROO_SURVEY_TIMEOUT_NOT_SENT:{errorCode:8,errorName:"QUALAROO_SURVEY_TIMEOUT_NOT_SENT",desc:"qualaroo component was added without a timeout prop",severity:"error"}}});define("rEditor/bi/bi",["rEditor/bi/events.json","rEditor/bi/errors.json"],function(a,b){"use strict";var c=function(b){b.bi.register("rEditor","event",a)};return{events:a,errors:b,registerEvents:c}});define("rEditor/rootComps/gfpp/gfppModel",["lodash","gfppData","constants","helpIds","experiment"],function(a,b,c,d,e){"use strict";var f=b.consts;var g=["onClick","template","onTemplatePropsChange"];var h=[f.ACTIONS.PIN_MODE,f.ACTIONS.STRETCH];var i=[f.ACTIONS.SETTINGS,f.ACTIONS.LAYOUT,f.ACTIONS.ANIMATION,f.ACTIONS.HELP].concat(h);var j={enabledActions:i};var k={settings:{isSelected:b.utils.getPanelStateFn("settings"),tooltip:"gfpp_tooltip_settings",icon:"settings",onClick:b.utils.getTogglePanelFn("settings")},design:{isSelected:b.utils.getPanelStateFn("design"),tooltip:"gfpp_tooltip_design",icon:"design",onClick:b.utils.getTogglePanelFn("design")},layout:{isSelected:b.utils.getPanelStateFn("layout"),tooltip:"gfpp_tooltip_layout",icon:"layout",onClick:b.utils.getTogglePanelFn("layout")},filters:{isSelected:b.utils.getPanelStateFn("filters"),tooltip:"gfpp_tooltip_image_filters",icon:"filters",onClick:b.utils.getTogglePanelFn("filters",{origin:"gfpp"})},stretch:{isSelected:b.utils.getPanelStateFn("stretching"),tooltip:"gfpp_tooltip_stretch",icon:"gfpp_stretch",onClick:b.utils.getTogglePanelFn("stretching")},stretchForColumns:{isSelected:b.utils.getPanelStateFn("stretching"),tooltip:"gfpp_tooltip_stretch",icon:"gfpp_stretch",onClick:b.utils.getTogglePanelFn("stretching")},upgrade:{isSelected:false,tooltip:"gfpp_tooltip_upgrade",icon:"",onClick:b.utils.getTogglePanelFn("upgrade")},crop:{isSelected:false,isDisabled:function(a,c){return!b.utils.isCropAllowed(a,c)},tooltip:function(a,c){return b.utils.isCropAllowed(a,c)?"gfpp_tooltip_crop":"gfpp_tooltip_crop_disabled"},icon:"effects",onClick:function(a,c){if(b.utils.isCropAllowed(a,c)){b.utils.openImageCrop(a,c)}}},aviary:{isSelected:false,tooltip:"gfpp_tooltip_imageeffects",icon:"effects",onClick:b.utils.openAviaryPanel},animation:{isSelected:b.utils.getPanelStateFn("animation"),isDisabled:function(a,b){return t(a,b)},isApplied:false,tooltip:function(b,d){var e=t(b,d);if(!e){return"gfpp_tooltip_animation"}var f=a.map(d,p.bind(null,b));var g=a.every(f,function(a){return a===c.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT});var h=a.every(f,function(a){return a===c.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE});if(g){return"gfpp_tooltip_hover_animation_disabled_linked_element_in_regular"}else if(h){return"gfpp_tooltip_hover_animation_disabled_single_element_in_regular"}},tooltip_active:"gfpp_tooltip_applied_animation",icon:"animation",onClick:function(a,c){var d=s(a,c);b.utils.getTogglePanelFn("animation",d)(a)}},link:{isSelected:b.utils.getPanelStateFn("link"),isApplied:b.utils.getDataDefinedFn("link"),isDisabled:function(a,b){return t(a,b)},tooltip:"gfpp_tooltip_linkto",tooltip_active:"gfpp_tooltip_applied_linkto",icon:"link",onClick:b.utils.openLinkPanel},hide:{isSelected:false,tooltip:"gfpp_tooltip_mobile_hide",icon:"gfpp_hide",onClick:function(a){a.selectedComponent.remove();a.history.add("component - remove")}},help:{tooltip:"gfpp_tooltip_help",icon:"gfpp_help",mobileHelpId:e.isOpen("se_hack17_article_swap")?"67623267-2645-4abd-8404-0a3ae04b9247":"b6d9a270-f9c5-4837-995b-c3818b13a643"},pinMode:{isSelected:b.utils.getPanelStateFn("panels.pinnedDockPanel"),tooltip:"gfpp_tooltip_PinToScreen",icon:"gfpp_pin",className:"gfpp-pin",onClick:function(a){a.pinMode.open("gfpp")}}};var l={};var m={};var n={isSelected:b.utils.getPanelStateFn("customizeDesign"),tooltip:"gfpp_tooltip_customize",icon:"gfpp_customize_design_drop",onClick:b.utils.getTogglePanelFn("customizeDesign")};m.customizeDesign=n;if(e.isOpen("fastStyling")){k.customizeDesign=n}if(e.isOpen("se_editHoverBox")){k.applyToOtherView={isSelected:b.utils.getPanelStateFn("apply"),tooltip:function(a){var b=a.focusBox.getFocusedContainer();return a.components.modes.isCompDefaultModeActive(b)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label"},icon:"gfpp_applyTo",onClick:b.utils.getTogglePanelFn("apply")}}function o(b,c,d){return a.some(d,function(a){return a.type!=="DEFAULT"&&b.components.modes.isComponentDisplayedInModes(c,[a.modeId])})}function p(a,b){var d=a.components.getContainer(b);var f=a.components.modes.getModes(d);if(f&&f.length>0){var g=a.components.modes.getFirstAncestorWithActiveModes(b);if(e.isOpen("widthModes")||e.isOpen("scrollModes")){return o(a,b,f)?c.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:c.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES}if(a.components.modes.isCompDefaultModeActive(g)){return o(a,b,f)?c.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:c.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE}var h=a.components.modes.isDisplayedByDefault(b);return h?c.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:c.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES}return c.COMPONENT_DISPLAY.OUT_OF_MODES_BOX}function q(a){return{panelAction:c.ACTIONS.MODE_IN,panelExitAction:c.ACTIONS.MODE_EXIT,shouldAddExit:true,dataOverridesKey:c.ACTIONS.MODE_IN,allowOnlyShowOnceUI:false,extraBehaviorParams:{modeIds:a}}}function r(a){return{panelAction:c.ACTIONS.MODE_CHANGE,dataOverridesKey:c.ACTIONS.MODE_CHANGE,explanationText:"ANIMATION_PANEL_HOVER_BOX_DESCRIPTION_TEXT",allowPreviewUI:false,allowOnlyShowOnceUI:false,helpId:d.ANIMATION.TRANSITION,extraBehaviorParams:{modeIds:a}}}function s(b,d){if(e.isOpen("se_editHoverBox")){var f=a.map(d,p.bind(null,b));var g=a.every(f,function(a){return a===c.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES});var h=a.every(f,function(a){
return a===c.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT});var i=a.isArray(d)?d:[d];var j=a.keys(b.components.modes.getFirstAncestorActiveModes(i[0]));if(g){return q(j)}else if(h){return r(j)}}return{}}function t(b,c){return a.some(c,function(a){var c=b.components.modes.getFirstAncestorWithActiveModes(a);return b.components.modes.isCompDefaultModeActive(c)})}function u(b,c,d){if(a.isFunction(b)){return b(c,d)}return b}function v(b,c,d){if(!b){return null}b=a.cloneDeep(b);a.forEach(b,function(e,f){if(a.isString(e)&&k[e]){e=a.cloneDeep(k[e]);b[f]=e}a.forEach(e,function(b,f){if(!a.includes(g,f)){e[f]=u(b,c,d)}})});return b}function w(a,b,c){var d=b.isMobileEditor();var e=d?a.mobileMainActions:a.mainActions;e=u(e,b,c);return v(e,b,c)}function x(a,b,c){var d=b.isMobileEditor();var e=d?a.mobileExtraActions:a.extraActions;e=u(e,b,c);return v(e,b,c)}function y(b,c,d){var g=c.isMobileEditor();var i=g?b.mobileEnabledActions:b.enabledActions;i=a.clone(u(i,c,d)||[]);i=a.union(i,h);if(e.isOpen("se_editHoverBox")){if(!a.includes(i,f.ACTIONS.APPLY_TO_OTHER_VIEW)){i.push(f.ACTIONS.APPLY_TO_OTHER_VIEW)}}var j=u(b.presetActions,c,d);j=a.merge({},a.pick(k,i),g?a.pick(m,i):{},a.pick(j,i),a.pick(l,i));return v(j,c,d)}function z(c,d){var e=c.isMobileEditor();d.helpId=e?d.mobileHelpId:d.helpId;d.isSelected=a.isUndefined(d.isSelected)?b.utils.isHelpPanelOpen(c,d.helpId):d.isSelected;return d}function A(b,c){return a.last(b.components.getType(c).split("."))}function B(a,c){var d=A(a,c);var e=b.getComponentData(d)||j;var f=w(e,a,c);var g=x(e,a,c);var h=y(e,a,c);if(h.help){h.help=z(a,h.help)}h=C(h,a,c);return{mainActions:f,extraActions:g,presetActions:h}}function C(b,c,d){var e=D(b,c,d);return!a.isEmpty(e)?a.omit(b,e):b}function D(b,c,d){var g=[];if(b[f.ACTIONS.HIDE]){if(!c.components.is.removable(d)){g.push(f.ACTIONS.HIDE)}}if(b[f.ACTIONS.ANIMATION]){var h=a.some(f.ANIMATION_TYPES,function(a){return c.components.is.animatable(d,a)});if(!h||!c.multiselect.areComponentsOfSamePage(d)){g.push(f.ACTIONS.ANIMATION)}else if(e.isOpen("se_editHoverBox")){var i=a.map(d,p.bind(null,c));var j=a.every(i,a.isEqual.bind(a,i[0]));if(!c.multiselect.componentModes.areComponentsOfSameModefulContainer(d)||!j){g.push(f.ACTIONS.ANIMATION)}}}if(b[f.ACTIONS.STRETCH]){var k=c.components.layout.canBeStretched(d)&&!c.isMobileEditor();if(!k){g.push(f.ACTIONS.STRETCH)}}if(b[f.ACTIONS.PIN_MODE]){if(!c.components.layout.isPinned(d)){g.push(f.ACTIONS.PIN_MODE)}}if(b[f.ACTIONS.LAYOUT]){if(a.isArray(d)&&d.length>1&&a.some(d,c.components.is.controlledByParent)){g.push(f.ACTIONS.LAYOUT)}}if(e.isOpen("se_editHoverBox")){if(b[f.ACTIONS.APPLY_TO_OTHER_VIEW]&&!E(c,d)){g.push(f.ACTIONS.APPLY_TO_OTHER_VIEW)}}if(e.isOpen("se_platform1")){if(b[f.ACTIONS.CONNECT]&&!c.developerMode.isEnabled()){g.push(f.ACTIONS.CONNECT)}}return g}function E(b,c){if(a.size(c)===1){var d=a.head(c);var e=b.components.modes.getModes(d);var f=b.components.getContainer(d);var g=b.components.modes.getModes(f);return!b.isMobileEditor()&&(a.size(e)>1||a.size(g)>1)}return false}function F(b){a.merge(l,b)}return{getData:B,registerGfppActions:F}});define("rEditor/app/APISections/developerMode",["core","lodash","util","experiment","uiConstants","rEditor/bi/bi","rEditor/rootComps/gfpp/gfppModel","gfppData"],function(a,b,c,d,e,f,g,h){"use strict";function i(i){var j=e.WIX_CODE_TOPBAR_HEIGHT;var k=c.splitterAPI;function l(){var b=!m();var c={developerModeEnabled:b,developerToolBarEnabled:b};i.userPreferences.site.set(a.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_MODE_ENABLED,b);i.userPreferences.site.set(a.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,b);if(b&&i.editor.state.viewTools.toolbarEnabled){c.toolbarEnabled=false}if(b&&!i.userPreferences.site.get(a.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)){n()}if(d.isOpen("se_platform1")){if(b&&!require.specified("platform")){require(["platform"],function(a){a.init(i,g.registerGfppActions,h.registerComponent,h.mergeComponentGfppData,h.consts.ACTIONS)})}}c.showHiddenComponents=o(b);if(!b){i.selection.deselectComponents()}i.documentMode.showHiddenComponents(c.showHiddenComponents);i.documentMode.showControllers(b);i.updateEditorViewTools(c)}function m(){var a=i.getViewTools();if(!a){return false}return d.isOpen("se_platform1")&&a.developerModeEnabled}function n(){i.selection.deselectComponents();i.panelManager.openPanel("wixCode.panels.developerWelcomePanel");i.userPreferences.site.set(a.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME,true);i.userPreferences.site.set(a.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,true)}function o(b){return b&&i.userPreferences.site.get(a.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS)}function p(a,b){return{type:a,data:b}}function q(a){if(!b.isEqual(a,i.editor.state.devModeContext)){i.editor.setState({devModeContext:a})}}function r(){if(!i.isPreviewReady()){return p(a.constants.DEVELOPER_MODE.CONTEXT_TYPES.UNKNOWN)}var b=i.editor.state.devModeContext;if(b.type===a.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE){var c=i.pages.getFocusedPageId();var d={id:i.pages.getFocusedPageId(),displayName:i.pages.getPageTitle(c),isPopup:i.pages.popupPages.isPopup(c)};b=p(a.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,d)}return b}function s(c){switch(c){case"ideSplitter_"+a.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE:return k.getInitialState("calc(100% - 234px)","bottom");case"ideSplitter_"+a.constants.DEVELOPER_MODE.CONTEXT_TYPES.FILE:case"ideSplitter_"+a.constants.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION:return k.getInitialState("0","top");case"consoleSplitter":return k.getInitialState("calc(100% - 234px)","bottom");case"fileTreeSplitter":var d=i.userPreferences.site.get(a.constants.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER);return b.isUndefined(d)?k.getInitialState("296px",false):d}}function t(a){return i.editor.state[a]||s(a)}function u(a,c){var d=b.drop(arguments,2);var e=t(a);return c.apply(null,[e].concat(d))}function v(a,b,c,d){var e=u.apply(null,arguments);var f={};f[a]=e;i.editor.setState(f,d);return f}function w(a,b,c,d){var e=c+j>=d;if(e){return v(a,k.collapse,"bottom")}return v(a,k.setSplitPosition,b)}function x(){var b=v.apply(null,arguments);i.userPreferences.site.set(a.constants.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER,b.fileTreeSplitter)}function y(b){var c=t(b);if(k.isCollapsed(c,"top")){return a.constants.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED}else if(k.isCollapsed(c,"bottom")){return a.constants.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED}return a.constants.DEVELOPER_MODE.CONTAINER_STATES.CUSTOM}function z(){return"ideSplitter_"+i.editor.state.devModeContext.type}function A(a){var c=b.tail(arguments);return a.apply(null,[z()].concat(c))}function B(){return"consoleSplitter"}function C(){var b=B();var c=y(b);return i.editor.state[b]&&c===a.constants.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED}function D(a,b){i.bi.event(f.events.IDE_TOPBAR_RESIZE,{old_hight:i.developerMode.ui.idePane.getSplitPosition(),new_hight:(100*a/b).toPrecision(4)+"%",site_id:i.generalInfo.getSiteId()})}function E(a,b,c){D(b,c);A(w,a,b,c)}function F(){var a=i.developerMode.ui.treePane.isOpen?"close":"open";i.bi.event(f.events.LEFT_TREE_TOGGLE,{state:a,site_id:i.generalInfo.getSiteId()})}function G(a){F();x("fileTreeSplitter",k.toggleCollapse,"left",a)}return{createContext:p,setContext:q,getContext:r,isEnabled:m,toggle:l,ui:{idePane:{getSplitPosition:b.partial(A,u,k.getSplitPosition),setSplitPosition:E,maximize:b.partial(A,v,k.collapse,"top"),unMaximize:b.partial(A,v,k.unCollapse,"top"),toggleMaximize:b.partial(A,v,k.toggleCollapse,"top"),minimize:b.partial(A,v,k.collapse,"bottom"),unMinimize:b.partial(A,v,k.unCollapse,"bottom"),toggleMinimize:b.partial(A,v,k.toggleCollapse,"bottom"),revertSize:b.partial(A,v,k.unCollapse),getState:b.partial(A,y)},consolePane:{getSplitPosition:b.partial(u,B(),k.getSplitPosition),setSplitPosition:b.partial(w,B()),minimize:b.partial(v,B(),k.collapse,"bottom"),unMinimize:b.partial(v,B(),k.unCollapse,"bottom"),minimizedByUser:b.partial(C),getState:b.partial(y,B())},treePane:{getSplitPosition:b.partial(u,"fileTreeSplitter",k.getSplitPosition),setSplitPosition:b.partial(x,"fileTreeSplitter",k.setSplitPosition),toggle:G,isOpen:b.negate(b.partial(u,"fileTreeSplitter",k.isCollapsed,"left"))},topbarHeight:j+"px"}}}return{create:i}});define("rEditor/app/APISections/selectedComponent",["lodash","pLoader!santa:utils"],function(a,b){"use strict";function c(c){function d(a){var b=c.components.layout.get(a);var d=!b.fixedPosition;c.components.layout.setFixed(a,d);return d}return{sendSelectedComponentBI:function(b,d){var e=c.selection.getSelectedComponents();if(b&&e){var f=c.getComponentType(e);var g={component_id:a.head(e).id,component_type:f};if(d){a.merge(g,d)}c.bi.event(b,g)}},copy:function(){return c.copyPaste.copy(c.selection.getSelectedComponents())},duplicate:function(){return c.copyPaste.duplicate(c.selection.getSelectedComponents())},cut:function(){var a=c.selection.getSelectedComponents();if(c.selection.isComponentSelected()){c.components.cut(a)}return a},remove:function(){var a=c.selection.getSelectedComponents();if(c.selection.isComponentSelected()){c.components.remove(a)}return a},copyStyle:function(){b.log.info("copyStyle")},pasteStyle:function(){b.log.info("pasteStyle")},lock:function(){b.log.info("lock")},toggleFixedPosition:function(){var a=c.selection.getSelectedComponents();if(a&&c.components.layout.canBeFixedPosition(a)){return d(a)}return false},togglePin:function(){var a=c.selection.getSelectedComponents();if(a){return d(a)}return false}}}return{create:c}});define("rEditor/app/APISections/savePublishWrapper",["lodash","core","util","pLoader!santa:utils"],function(a,b,c,d){"use strict";function e(a){return a()}function f(f){var g=[h];function h(){f.userPreferences.loadSitePreferences(f.documentServices.generalInfo.getSiteId(),true);f.leftBar.collapseMenu()}function i(a){try{return JSON.stringify(a)}catch(a){return"Failed to stringify save error info"}}function j(c,d){var e=a.keys(c);var g=a.compact(a.map(c,"errorCode"));var h=a.compact(a.map(c,"errorType"));var i={p1:e,p2:h,p3:g};if(d){f.bi.error(b.bi.errors.FIRST_SAVE_ERROR,i)}else{f.bi.error(b.bi.errors.SAVE_ERROR,i)}}function k(a,b){if(a){return"first"}if(b){return"full"}return"partial"}var l=c.newrelic;var m=0;var n=0;function o(c,d,h,n){var o=a.now();f.editor.setState({savingStatus:b.constants.PROGRESS_STATUS.IN_PROGRESS});var p=f.documentServices.generalInfo.isFirstSave();var q=k(p,h);f.bi.event(b.bi.events.save.saveProcess.SAVE_CLICK,{origin:n});var r={save_type:q};f.bi.event(b.bi.events.save.saveProcess.START_SAVE_PROCESS,r);var s=a.assign({is_first_save:p,save_count:++m},r);l.addPageAction("save start",a.clone(s));function t(){r.duration=a.now()-o;f.bi.event(b.bi.events.save.saveProcess.SUCCESS_SAVE_PROCESS,r);s=a.assign(s,r,{result:"success"});l.addPageAction("save finish",s);if(p){a.forEach(g,e)}if(c){f.isSavedInCurrentSession=true;c()}f.editor.setState({savingStatus:b.constants.PROGRESS_STATUS.DONE_SUCCESS});window.setTimeout(function(){f.editor.setState({savingStatus:b.constants.PROGRESS_STATUS.IDLE})},b.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}function u(c){j(c,p);s=a.assign(s,{result:"failure",error:i(c)});l.addPageAction("save finish",s);if(d){d(c)}f.editor.setState({savingStatus:b.constants.PROGRESS_STATUS.DONE_FAILED});window.setTimeout(function(){f.editor.setState({savingStatus:b.constants.PROGRESS_STATUS.IDLE})},b.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}a.defer(function(){f.documentServices.save(t,u,h);l.addPageAction("save computed",a.assign(a.clone(s),{duration:a.now()-o}))})}function p(a,b){function c(a){if(b){b(a)}d.log.info("Failed saving as template ",a)}function e(){if(a){a()}}f.documentServices.saveAsTemplate(e,c)}function q(c,d){f.editor.setState({publishingStatus:b.constants.PROGRESS_STATUS.IN_PROGRESS});var e={publish_count:++n};l.addPageAction("publish start",a.clone(e));function g(){e.result="success";l.addPageAction("publish finish",e);a.forEach(f.sitePublishedCallbacks,function(a){a()});if(c){c()}f.editor.setState({publishingStatus:b.constants.PROGRESS_STATUS.DONE_SUCCESS});window.setTimeout(function(){f.editor.setState({publishingStatus:b.constants.PROGRESS_STATUS.IDLE})},b.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}function h(a){e.result="failure";l.addPageAction("publish finish",e);if(d){d(a)}f.editor.setState({publishingStatus:b.constants.PROGRESS_STATUS.DONE_FAILED});window.setTimeout(function(){f.editor.setState({publishingStatus:b.constants.PROGRESS_STATUS.IDLE})},b.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}f.documentServices.publish(g,h)}function r(a){g.push(a)}function s(){var b=f.documentServices&&f.documentServices.canUserPublish();return a.isBoolean(b)?b:true}return{save:o,saveAsTemplate:p,publish:q,registerFirstSaveCallback:r,canUserPublish:s}}return{create:f}});define("rEditor/utils/removeUtil",["lodash","util","core","experiment"],function(a,b,c,d){"use strict";var e=function(a){return!!a.tpaApplicationId};var f=function(a,b,c){var d=a.app.isPremium(b);if(d&&c>1){return true}else if(!d&&c>0){return true}return false};var g=function(c,d,g,h,j,k,l){var m=d.pages.getReference(h);var n=d.pages.data.get(h);var o=d.tpa.getPremiumTpaChildrenOnPage(m,n.tpaApplicationId,true);var p=d.wixapps.classics.isBlogPage(h);var q=d.components.getTpaChildren(m);if(p){q=q.concat(d.components.getBlogChildren(m))}var r=c.bi.getComponentsBIParams(q);a.forEach(r,function(a){a.removal_method="delete_page"});var s=e(n)&&d.tpa.app.isMultiSectionInstalled(n.tpaApplicationId);if(o.length>0&&!s||s&&f(d.tpa,n.tpaApplicationId,o.length)){var t=n&&n.title||"";var u=o[0];c.panelManager.openPanel("tpa.confirmation.deletePageContainsPremiumTpa",{appName:u.appDefinitionName,appDefId:u.appDefinitionId,appCount:o.length,pageTitle:t,onConfirm:function(){i(c,d,h,n,g,false,r,j);a.forEach(o,function(a,e){var f={app_id:a.appDefinitionId,app_site_id:a.instanceId,instance_id:q[e].id,is_last_tpa:d.tpa.app.isLastAppComp(a.applicationId)?1:0,component_type:"tpa"};c.bi.event(b.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,f)})},onCancel:function(){if(k){k()}}},true)}else if(p){c.panelManager.openPanel("blog.blogDeleteConfirmation",{onConfirm:function(){i(c,d,h,n,g,false,r,j)},onCancel:function(){if(k){k()}}},true)}else{i(c,d,h,n,g,typeof l==="boolean"?l:true,r,j)}};var h=function(a,c){a.bi.reportBI(b.bi.events.COMPONENT_REMOVED,c)};var i=function(b,c,e,f,g,i,k,l){var m=c.tpa.section.getPageData(e);var n=m.hasSection&&g[c.tpa.constants.COMP_TYPES.TPA_SECTION];var o=c.wixapps.classics.isBlogPage(e);if(d.isOpen("dpages")){var p=c.pages.getReference(e);var q=c.routers.getRouterRef.byPage(p);if(q){b.routers.pages.removePageFromRouter(q,e)}}if(o){if(g.blog){g.blog()}b.pages.beforePageRemoveHook(e,function(){a.forEach(c.pages.getPagesData(),function(a){if(c.wixapps.classics.isBlogPage(a.id)){c.pages.remove(a.id);h(b,k)}});if(l){l()}})}else if(n){g[c.tpa.constants.COMP_TYPES.TPA_SECTION](e,m.title,m.appData,i,l,k)}else if(i){var r={pageTitle:f.title,onConfirm:j.bind(this,b,c,e,l,k),isPopup:f.isPopup};b.panelManager.openPanel("panels.messagePanels.deletePageMessage",r,true)}else{j(b,c,e,l,k)}};var j=function(a,b,c,d,e){a.pages.beforePageRemoveHook(c,function(){b.pages.remove(c);if(d){d()}h(a,e)})};var k=function(a,b,c){var d=a.components.getType(b);if(c[d]){c[d](b)}else{a.components.remove(b)}};function l(a,b,c,d){var e=b.tpa.app.getData(a.applicationId);c.app_id=e.appDefinitionId;c.app_site_id=e.instanceId;c.instance_id=d}var m=function(b,d,e){a.forEach(e,function(a){var e=b.components.getType(a);var f=d.mobile.mobileOnlyComponents.isMobileOnlyComponent(a.id)?a.id:e;var g=b.components.data.get(a);b.mobile.hiddenComponents.hide(a);if(!d.zoomMode.isInZoomMode()){d.panelManager.openPanel("mobileEditor.hiddenItemsPanel")}var h={current_page_name:b.pages.getFocusedPageId(),component_id:f,origin:"",component_type:e};if(d.isTpa(e)){l(g,d,h,a.id)}d.bi.event(c.bi.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_HIDE,h)})};function n(b,c){return a(b).flatMap(function(a){return c.components.is.container(a)?[a].concat(c.components.get.byAncestor(a)):a})}var o=function(b,c){var d=n(c,b);var e=d.filter(function(a){return b.components.getType(a)==="platform.components.AppController"});if(e.isEmpty()){return false}var f=d.map("id").value();return e.map(function(a){return b.platform.controllers.connections.getConnectedComponents(a)}).some(function(b){return!a(b).map("id").difference(f).isEmpty()})};var p=function(c,e,f,g,h,i){var j=a.some(f,c.components.is.container);var k=f.length>1;if(c.viewMode.get()===c.viewMode.VIEW_MODES.MOBILE){m(c,g,f);if(h){h()}}else{var l=function(){var a=r(f.length,function(){g.bi.reportBI(b.bi.events.COMPONENT_REMOVED,v)});s(c,e,f,true,function(){a();if(h){return h(arguments)}return null},i)};var p=c.tpa.getPremiumTpaChildren(f);var u=a.reject(p,c.tpa.app.hasSections);var v=q(c,g,f);if((j||k)&&u.length>0){t(g,c,e,p,f,v,h,i)}else if(d.isOpen("se_platform1")&&o(c,f)){var w=n(f,c).filter(function(a){return c.components.getType(a)==="platform.components.AppController"}).value();var x=w.length===1;g.panelManager.openPanel("platform.panels.appControllerDeleteConfirmationPanel",{onConfirm:l,isSingleController:x,controllerDisplayName:x?g.platform.controllers.getName(w[0]):""})}else{l()}}};var q=function(b,c,d){var e=b.tpa.getTpaPointersRecursive(d);var f=d.concat(e);f=a.uniqBy(f,"id");var g=c.bi.getComponentsBIParams(f);return g};var r=function(a,b){var c=a;return function(){c--;if(c===0){b()}}};var s=function(b,c,d,e,f,g){a.forEach(d,function(a){var d=b.components.getType(a),h=function(){b.components.remove(a,f,g)};if(c[d]){c[d](a,e,f,h)}else{h()}})};function t(c,d,e,f,g,h,i,j){var k=f[0];c.panelManager.openPanel("tpa.confirmation.deleteContainerContainsPremiumTpa",{appName:k.appDefinitionName,appDefId:k.appDefinitionId,appCount:f.length,onConfirm:function(){s(d,e,g,false,i,j);c.bi.reportBI(b.bi.events.COMPONENT_REMOVED,h);a.forEach(h,function(a){c.bi.event(b.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,a)})}},true)}return{removePage:g,removeComponent:p,cutComponent:k}});define("rEditor/utils/multiSelectHandler",["lodash"],function(a){"use strict";return function b(){var c=a.toArray(arguments);var d=c.shift();var e=c.pop();var f=this.components.asArray(d);if(this.multiselect.isMultiselect(f)){return e.multiCompHandler.apply(this,[f].concat(c))}return e.singleCompHandler.apply(this,[f[0]].concat(c))}});define("rEditor/app/APISections/componentsFacade/layoutWrapper",["lodash","experiment","core","util","rEditor/utils/multiSelectHandler"],function(a,b,c,d,e){"use strict";function f(f){function g(a,b,c){var e=m(a,b);var g=d.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(f,a,e);f.documentServices.components.layout.update(a,g);if(!c){f.history.debouncedAdd("component - update layout")}}function h(a,b,c){var e=d.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(f,a,b);f.components.layout.update(a,e,c)}function i(a,b,c){var e=d.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(f,a,b);f.components.layout.updateAndPreserveProportions(a,e,c)}function j(a,b,c){var e=d.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(f,a,b);f.components.layout.updateAndPreserveProportions(a,e,c)}function k(a,b,c){f.documentServices.components.layout.updateAndPreserveProportions(b,c,true)}function l(a,b){var d=f.components.layout.get(a);return c.utils.updateLayoutUtil.getLayoutAfterConstraints(f,a,b,d)}function m(a,b){var d=f.components.layout.getRelativeToScreen(a);return c.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(f,a,b,d)}function n(c,d,e){var g=b.isOpen("se_screenWidthEditBox");if(g&&f.components.layout.isHorizontallyStretchedToScreen(c)){return d}var h={left:f.components.layout.RESIZE_SIDES.LEFT,right:f.components.layout.RESIZE_SIDES.RIGHT,top:f.components.layout.RESIZE_SIDES.TOP,bottom:f.components.layout.RESIZE_SIDES.BOTTOM};var i=a.map(e,function(a,b){return h[b]});return a.difference(d,i)}function o(a){return f.documentServices.components.layout.canBeStretched(a)&&!f.components.layout.isPinned(a)}function p(a,b){var c=d.math.getSquaresIntersection(a,b);return c&&d.math.rect.getAreaRatioPercentage(c,b)}function q(a){return e.call(f,a,{multiCompHandler:f.multiselect.layout.get,singleCompHandler:f.documentServices.components.layout.get})}function r(b){var c=f.components.asArray(b);var d=a.every(c,function(a){return f.documentServices.components.layout.isRenderedInFixedPosition(a)});return d}function s(b){var c=f.components.asArray(b);var d=a.every(c,function(a){return f.documentServices.components.layout.isAncestorRenderedInFixedPosition(a)});return d}function t(b){var c=f.components.asArray(b);var d=a.every(c,function(a){return f.documentServices.components.layout.isShowOnFixedPosition(a)});return d}function u(b){var c=f.components.asArray(b);var d=a.every(c,function(a){return f.documentServices.components.layout.isHorizontallyStretchedToScreen(a)});return d}function v(b){var c=f.components.asArray(b);return a.every(c,function(a){return f.documentServices.components.layout.isDocked(a)})}function w(b){var c=f.components.asArray(b);return a.every(c,function(a){return f.documentServices.components.layout.isDockedToScreen(a)})}function x(a){return e.call(f,a,{multiCompHandler:f.multiselect.layout.unDock,singleCompHandler:f.documentServices.components.layout.unDock})}function y(b){var c=f.components.asArray(b);return a.every(c,function(a){return f.documentServices.components.layout.isRotated(a)})}function z(b){var c=a.isArray(b)?b:[b];if(!a.isEmpty(c)){return a.every(c,function(b){return!a.isUndefined(b.docked)&&b.fixedPosition})}return false}function A(b){var c=f.components.asArray(b);if(!a.isEmpty(c)){return a.every(c,function(a){var b=f.documentServices.components.layout.get(a);b.docked=f.documentServices.components.layout.getDock(a);return f.components.is.pinnable(a)&&f.components.layout.isPinnedBySerializedLayout(b)})}return false}function B(a){return e.call(f,a,{multiCompHandler:f.multiselect.layout.canBeStretched,singleCompHandler:o})}function C(a){return e.call(f,a,{multiCompHandler:f.multiselect.layout.canBeFixedPosition,singleCompHandler:f.documentServices.components.layout.canBeFixedPosition})}function D(a,b){return e.call(f,a,b,{multiCompHandler:f.multiselect.layout.getRelativeToScreen,singleCompHandler:f.documentServices.components.layout.getRelativeToScreen})}function E(a){return e.call(f,a,{multiCompHandler:f.multiselect.layout.getRelativeToScreenConsideringScroll,singleCompHandler:f.documentServices.components.layout.getRelativeToScreenConsideringScroll})}function F(a){return e.call(f,a,{multiCompHandler:f.multiselect.layout.getRelativeToStructure,singleCompHandler:f.documentServices.components.layout.getRelativeToStructure})}function G(b){return e.call(f,b,{multiCompHandler:f.multiselect.layout.getResizableSides,singleCompHandler:function(c){if(f.pinMode.isOpened()){return{}}if(f.components.is.group(c)){return a.toArray(f.components.layout.RESIZE_SIDES)}var d=f.documentServices.components.layout.getResizableSides(c);var e=f.components.layout.getDock(c);if(e){d=n(b,d,e)}return d}})}function H(a,b){return e.call(f,a,b,{multiCompHandler:f.multiselect.layout.getProportionStructure,singleCompHandler:f.documentServices.components.layout.getProportionStructure})}function I(a,b,c){if(!b){return}var d=l(a,b);e.call(f,a,d,{multiCompHandler:f.multiselect.layout.update,singleCompHandler:f.documentServices.components.layout.update});if(!c){f.history.debouncedAdd("component - update layout")}}function J(a,b,c){e.call(f,a,b,c,{multiCompHandler:f.multiselect.layout.updateRelativeToStructure,singleCompHandler:h})}function K(a,b,c){e.call(f,a,b,c,{multiCompHandler:f.multiselect.layout.updateRelativeToScreen,singleCompHandler:g})}function L(a,b,c){e.call(f,a,b,c,{multiCompHandler:f.multiselect.layout.updateRelativeToStructureAndPreserveProportions,singleCompHandler:j})}function M(a,b,c,d){e.call(f,a,b,c,d,{multiCompHandler:f.multiselect.layout.updateRelativeToScreenAndPreserveProportions,singleCompHandler:i})}function N(a,b,c){e.call(f,a,b,c,{multiCompHandler:f.multiselect.layout.updateAndPreserveProportions,singleCompHandler:k})}function O(a,b,c){var d=l(a,b);var g=e.call(f,a,d,{multiCompHandler:f.multiselect.layout.updateAndAdjustLayout,singleCompHandler:f.documentServices.components.layout.updateAndAdjustLayout});if(!c){f.history.debouncedAdd("component - update layout")}return g}function P(a,b,c){var e=d.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(f,a,b);return f.components.layout.updateAndAdjustLayout(a,e,c)}function Q(a,b,c){var e=d.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(f,a,b);return f.components.layout.updateAndAdjustLayout(a,e,c)}function R(a,b){return e.call(f,f,a,b,{multiCompHandler:f.multiselect.layout.setFixed,singleCompHandler:c.utils.fixedPositionUtils.setFixedPosition})}function S(a){return e.call(f,a,{multiCompHandler:f.multiselect.layout.isStretchedToScreen,singleCompHandler:f.documentServices.components.layout.isHorizontallyStretchedToScreen})}function T(a,b){return e.call(f,a,b,{multiCompHandler:f.multiselect.layout.setDock,singleCompHandler:f.documentServices.components.layout.setDock})}function U(a){return e.call(f,a,{multiCompHandler:f.multiselect.layout.getDock,singleCompHandler:f.documentServices.components.layout.getDock})}function V(a,b){return e.call(f,a,b,{multiCompHandler:f.multiselect.layout.updateDock,singleCompHandler:f.documentServices.components.layout.updateDock})}function W(a){return e.call(f,a,{multiCompHandler:f.multiselect.layout.updateAspectRatio,singleCompHandler:f.documentServices.components.layout.updateAspectRatio})}function X(a){return e.call(f,a,{multiCompHandler:f.multiselect.layout.removeAspectRatio,singleCompHandler:f.documentServices.components.layout.removeAspectRatio})}function Y(b){var c=f.components.asArray(b);return a.every(c,function(a){return f.documentServices.components.layout.isAspectRatioOn(a)})}function Z(a){var b=f.components.layout.getRelativeToScreen(a);var d=f.components.layout.getRelativeToScreen(f.siteSegments.getPagesContainer());var e=f.isMobileEditor()?c.constants.SIZE_LIMITS.MOBILE_DRAG_CONSTRAINT_MARGINS:0;var g=d.x+e;var h=d.x+d.width-e;return b.x+b.width<=g||b.x>=h}function $(a){var b=f.components.layout.getRelativeToScreen(a);var c=f.components.layout.getRelativeToStructure(a);var d=b.width-c.width;var e=f.site.getSiteX();var g=c.x+e-b.x;var h=d-g;return{left:g,right:h}}function _(b,c){var d=f.components.layout.getRelativeToScreen(c);var e=f.components.layout.getCompMargin(c);var g=f.components.layout.getRelativeToScreen(b);var h=a.assign({},d,{width:e.left});var i=a.assign({},d,{x:d.x+d.width-e.right,width:e.right});return(p(h,g)||0)>10||(p(i,g)||0)>10}return{get:q,isRenderedInFixedPosition:r,isAncestorRenderedInFixedPosition:s,isShowOnFixedPosition:t,isHorizontallyStretchedToScreen:u,isDocked:v,isDockedToScreen:w,unDock:x,isRotated:y,isPinnedBySerializedLayout:z,isPinned:A,canBeStretched:B,canBeFixedPosition:C,getRelativeToScreen:D,getRelativeToScreenConsideringScroll:E,getRelativeToStructure:F,getResizableSides:G,getProportionStructure:H,update:I,updateRelativeToStructure:J,updateRelativeToScreen:K,updateRelativeToStructureAndPreserveProportions:L,updateRelativeToScreenAndPreserveProportions:M,updateAndPreserveProportions:N,updateAndAdjustLayout:O,updateRelativeToStructureAndAdjustLayout:P,updateRelativeToScreenAndAdjustLayout:Q,setFixed:R,isStretchedToScreen:S,setDock:T,getDock:U,updateDock:V,updateAspectRatio:W,removeAspectRatio:X,isAspectRatioOn:Y,isCompOutOfPageBounds:Z,getCompMargin:$,isCompExceedingContainerMargin:_}}return{create:f}});define("rEditor/app/APISections/componentsFacade/arrangementFacade",["core"],function(a){"use strict";function b(b){function c(a){var c=b.components.asArray(a);if(!b.components.arrangement.canMoveForward(c)){return null}b.documentServices.components.arrangement.moveForward(c[0]);b.history.add("component - move forward")}function d(a){var c=b.components.asArray(a);if(!b.components.arrangement.canMoveBackward(c)){return null}b.documentServices.components.arrangement.moveBackward(c[0]);b.history.add("component - move backward")}function e(a){var c=b.components.asArray(a);if(!b.components.arrangement.canMoveForward(c)){return null}b.documentServices.components.arrangement.moveToFront(c[0]);b.history.add("component - move to front")}function f(a){var c=b.components.asArray(a);if(!b.components.arrangement.canMoveBackward(c)){return null}b.documentServices.components.arrangement.moveToBack(c[0]);b.history.add("component - move to back")}function g(a,c,d){var e=b.components.asArray(a);b.documentServices.components.arrangement.moveToIndex(e[0],c);if(!d){b.history.add("component - move to index")}}function h(c){var d=b.components.asArray(c);if(b.multiselect.isMultiselect(d)){return b.multiselect.arrangement.canMoveBackward(d)}var e=b.components.getType(d)===a.constants.COMP_TYPES.ANCHOR;return!e&&b.documentServices.components.arrangement.canMoveBackward(d[0])}function i(c){var d=b.components.asArray(c);if(b.multiselect.isMultiselect(d)){return b.multiselect.arrangement.canMoveForward(d)}var e=b.components.getType(d)===a.constants.COMP_TYPES.ANCHOR;return!e&&b.documentServices.components.arrangement.canMoveForward(d[0])}return{moveForward:c,moveBackward:d,moveToFront:e,moveToBack:f,moveToIndex:g,canMoveBackward:h,canMoveForward:i}}return{create:b}});define("rEditor/app/APISections/componentsFacade/behaviorsFacade",["rEditor/utils/multiSelectHandler"],function(a){"use strict";function b(b){function c(c,d,e){return a.call(b,c,d,e,{multiCompHandler:b.multiselect.behaviors.update,singleCompHandler:b.documentServices.components.behaviors.update})}function d(c){return a.call(b,c,{multiCompHandler:b.multiselect.behaviors.get,singleCompHandler:b.documentServices.components.behaviors.get})}function e(c,d,e){return a.call(b,c,d,e,{multiCompHandler:b.multiselect.behaviors.remove,singleCompHandler:b.documentServices.components.behaviors.remove})}function f(c){return a.call(b,c,{multiCompHandler:b.multiselect.behaviors.removeAll,singleCompHandler:b.documentServices.components.behaviors.removeAll})}function g(c,d,e){return a.call(b,c,d,e,{multiCompHandler:b.multiselect.behaviors.previewAnimation,singleCompHandler:b.documentServices.components.behaviors.previewAnimation})}function h(c){return a.call(b,c,{multiCompHandler:b.multiselect.behaviors.stopPreviewAnimation,singleCompHandler:b.documentServices.components.behaviors.stopPreviewAnimation})}function i(c,d,e,f){return a.call(b,c,d,e,f,{multiCompHandler:b.multiselect.behaviors.execute,singleCompHandler:b.documentServices.components.behaviors.execute})}function j(c){return a.call(b,c,{multiCompHandler:b.multiselect.behaviors.getRuntimeState,singleCompHandler:b.documentServices.components.behaviors.getRuntimeState})}return{update:c,get:d,remove:e,removeAll:f,previewAnimation:g,stopPreviewAnimation:h,execute:i,getRuntimeState:j}}return{create:b}});define("rEditor/componentsMetaData/components/bgImageStrip",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/fiveGridLine",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/footer",[],function(){"use strict";return{pinnable:false,showLegacyFixedPosition:true}});define("rEditor/componentsMetaData/components/header",[],function(){"use strict";return{pinnable:false,showLegacyFixedPosition:true}});define("rEditor/componentsMetaData/components/screenWidthContainer",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/stripShowcase",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/stripSlideshowGallery",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/blogComponents",["pLoader!santa:utils","lodash","experiment"],function(a,b,c){
"use strict";var d=a.blogAppPartNames;return{pinnable:false,selectable:function(a,e){if(c.isOpen("se_blogHeroImage")){var f=a.components.data.get(e);if(f.appPartName===d.HERO_IMAGE){var g=a.wixapps.classics.getAppPartExtraData(e);if(g){var h=b.head(g.items);return h.coverImageData.isHeroImage}}}return true}}});define("rEditor/componentsMetaData/components/rssButton",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/tpaGluedWidget",[],function(){"use strict";return{pinnable:false}});define("rEditor/rootComps/overlay/overlayWithHole.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{style:{position:"absolute",height:"100%",width:"100%"}},a.createElement("div",{style:this.getStyles()}))}});define("rEditor/rootComps/overlay/overlayWithHole",["react","lodash","core","rEditor/rootComps/overlay/overlayWithHole.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"overlayWithHole",mixins:[c.mixins.editorAPIMixin],getHoleLayout:function(){return this.getEditorAPI().components.layout.getRelativeToScreen(this.props.hole)},getStyles:function(){var a=this.getHoleLayout(),b={width:a.width,height:a.height,top:a.y,left:a.x,position:"absolute",boxShadow:"0 0 0 9999px "+this.props.background};if(a.rotationInDegrees){b.transform="rotate("+a.rotationInDegrees+"deg)"}return b},render:d})});define("rEditor/rootComps/overlay/overlayWithQuickTip",["react","lodash","core","baseUI"],function(a,b,c,d){"use strict";function e(a){var b=a.cursor.get();return{height:0,width:0,top:b.y||0,left:b.x||0}}function f(a,b,c){a.userPreferences.session.set(b,true);window.setTimeout(function(){a.userPreferences.session.set(b,false)},c)}return a.createClass({displayName:"overlayWithQuickTip",mixins:[c.mixins.editorAPIMixin],componentWillMount:function(){this.quickTipShowTimeoutId=this.showQuickTip()},showQuickTip:function(){var c=this.getEditorAPI(),f=c.userPreferences.session,g=this.props.quickTipSession.id+this.props.hoveredComp.id,h=c.userPreferences.session.get(g)||0;this.sessionDisabledId=g+"-disabled";if(h>=this.props.quickTipSession.maxNum||f.get(this.sessionDisabledId)){return null}return window.setTimeout(function(){var i=e(c),j=a.createElement(d.popoverTemplates.quickTip,b.assign(this.props.templateInfo,{closeAction:this.closeQuickTip}));this.quickTipShowTimeoutId=null;this.isQuickTipShown=true;f.set(g,h+1);c.showFloatingBubble(j,i,this.props.propsForBubble,this.props.shouldNotHideOnMouseLeaveTarget)}.bind(this),this.props.delayBeforeShow)},closeQuickTip:function(){this.getEditorAPI().hideFloatingBubble();this.getEditorAPI().overlay.enableUpdate();this.isQuickTipShown=false},componentWillUnmount:function(){if(this.isQuickTipShown){if(this.props.delayBeforeNext){f(this.getEditorAPI(),this.sessionDisabledId,this.props.delayBeforeNext)}this.closeQuickTip()}if(this.quickTipShowTimeoutId){window.clearTimeout(this.quickTipShowTimeoutId)}},render:function(){return this.props.children}})});define("rEditor/componentsMetaData/components/popupOverlay",["lodash","react","baseUI","rEditor/rootComps/overlay/overlayWithHole","rEditor/rootComps/overlay/overlayWithQuickTip"],function(a,b,c,d,e){"use strict";function f(a){return{delayBeforeShow:500,delayBeforeNext:1500,quickTipSession:{id:"popupOverlayQuickTipShownFor-",maxNum:4},shouldNotHideOnMouseLeaveTarget:false,templateInfo:{text:"POPUPS_OVERLAY_HOVER_TOOLTIP",symbol:"idea-bulb"},propsForBubble:{noArrow:true,shake:false,behindPopUps:true,alignment:c.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,closeTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.CLICK],onMouseLeave:a.overlay.enableUpdate,onMouseEnter:a.overlay.disableUpdate}}}return{pinnable:false,shouldBeOverlayed:function(a,b){return!a.isMobileEditor()&&a.pages.popupPages.isPopup(b.id)},getOverlay:function(c,g){var h=b.createElement(d,{hole:c.pages.popupPages.getPopupContainer(),background:"rgba(127, 204, 247, 0.4)"});var i=b.createElement(e,a.assign({hoveredComp:g},f(c)),h);return i},getOverlayProperties:function(){return{enter:{duration:300,delay:500},leave:{duration:300}}}}});define("rEditor/componentsMetaData/components/page",["lodash","rEditor/componentsMetaData/components/popupOverlay"],function(a,b){"use strict";return a.assign({},{pinnable:false},b)});define("rEditor/componentsMetaData/components/boxSlideShow",["baseUI","boxSlideshow","gfppData"],function(a,b,c){"use strict";var d=b.utils.boxSlideShowUtils;var e="compPanels.panels.BoxSlideShow.backgroundPanel";function f(a,b){if(c.utils.isPanelOpen(a,e)){var f={selectedComponent:[d.findCurrentSlide(a,b)]};a.panelManager.updatePanelProps(e,f)}}function g(a,b){a.selection.selectComponentByCompRef(b)}return{slidesContainer:true,focusable:true,focusBoxNavType:a.uiConstants.NAVIGATION_TYPES.PAGINATION,canContain:false,canContainByStructure:false,focusBoxNavContent:function(a,b){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:d.getCurrentSlideIndex(a,b)+1,total_slides:d.getTotalSlidesLength(a,b)},onNext:d.moveNextSlide.bind(null,a,b,f),onPrev:d.movePrevSlide.bind(null,a,b,f),onLabelClick:g.bind(null,a,b)}}}});define("rEditor/componentsMetaData/components/stripSlideShowMetaData",["baseUI","boxSlideshow","gfppData"],function(a,b,c){"use strict";var d=b.utils.boxSlideShowUtils;var e="compPanels.panels.StripContainerSlideShow.backgroundPanel";function f(a,b){if(c.utils.isPanelOpen(a,e)){var f={selectedComponent:[d.findCurrentSlide(a,b)]};a.panelManager.updatePanelProps(e,f)}}function g(a,b){a.selection.selectComponentByCompRef(b)}return{slidesContainer:true,focusable:true,focusBoxNavType:a.uiConstants.NAVIGATION_TYPES.PAGINATION,canContain:false,canContainByStructure:false,pinnable:false,focusBoxNavContent:function(a,b){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:d.getCurrentSlideIndex(a,b)+1,total_slides:d.getTotalSlidesLength(a,b)},onNext:d.moveNextSlide.bind(null,a,b,f),onPrev:d.movePrevSlide.bind(null,a,b,f),onLabelClick:g.bind(null,a,b)}}}});define("rEditor/componentsMetaData/components/boxSlideShowSlide",[],function(){"use strict";return{selectable:false,slideContainer:true}});define("rEditor/componentsMetaData/components/stripSlideShowSlide",[],function(){"use strict";return{selectable:false,slideContainer:true}});define("rEditor/componentsMetaData/components/anchor",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/collage",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/wRichText",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/group",[],function(){"use strict";return{pinnable:false,selectedBeforeDescendants:true}});define("rEditor/componentsMetaData/components/stripContainer",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/stripColumnsContainer",["experiment"],function(a){"use strict";return{selectedBeforeDescendants:function(b,c,d){if(a.isOpen("se_columnsSingleClickSelection")){return b.columns.isMultiColumnsStrip(c)&&b.columns.isColumn(d)}return b.columns.isMultiColumnsStrip(c)},pinnable:false}});define("rEditor/componentsMetaData/components/tpaSection",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/column",["lodash","baseUI","util"],function(a,b,c){"use strict";function d(a,b){return a.components.getSiblings(b).length}function e(a,b){return a.isDesktopEditor()&&d(a,b)}return{showMarginsIndicator:e,focusable:d,focusBoxNavType:b.uiConstants.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(b,d){var e=a.template(c.translate("gfpp_column_navigation_slide_number"));var f=b.components.getContainer(d);var g=b.components.getChildren(f);var h=a.findIndex(g,function(b){return a.isEqual(b,d)});return{tabs:[{id:"item_"+h,label:e({curr_column:h+1}),active:true}],onTabClick:function(){b.selection.selectComponentByCompRef(d)},translate:false}},selectable:d,movable:false,canMoveUp:false,verticallyMovable:false,disabledKnobs:function(b){var c=b.isMobileEditor();if(c){return a.values(b.components.layout.RESIZE_SIDES)}return a(b.components.layout.RESIZE_SIDES).omit("BOTTOM").values().value()},controlledByParent:true}});define("rEditor/componentsMetaData/components/popupCloseIconButton",[],function(){"use strict";return{duplicatable:false}});define("rEditor/componentsMetaData/components/popupCloseTextButton",[],function(){"use strict";return{duplicatable:false}});define("rEditor/componentsMetaData/components/popupContainerMetaData",["baseUI"],function(a){"use strict";var b={nineGrid:function(a){return a.horizontalAlignment==="center"},fullWidth:function(){return true},fullHeight:function(){return false}};return{pinnable:false,gridLinesVisible:function(a,c){var d=a.components.properties.get(c);var e=b[d.alignmentType];if(e){return e(d)}},focusable:true,focusBoxNavType:a.uiConstants.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(a,b){return{tabs:[{id:"item",label:"component_label_PopupContainer_Popupmode",active:true}],onTabClick:function(){a.selection.selectComponentByCompRef(b)},translate:true}}}});define("rEditor/componentsMetaData/components/tinyMenu",[],function(){"use strict";return{pinnable:false,showLegacyFixedPosition:true}});define("rEditor/componentsMetaData/metaDataMap",["rEditor/componentsMetaData/components/bgImageStrip","rEditor/componentsMetaData/components/fiveGridLine","rEditor/componentsMetaData/components/footer","rEditor/componentsMetaData/components/header","rEditor/componentsMetaData/components/screenWidthContainer","rEditor/componentsMetaData/components/stripShowcase","rEditor/componentsMetaData/components/stripSlideshowGallery","rEditor/componentsMetaData/components/blogComponents","rEditor/componentsMetaData/components/rssButton","rEditor/componentsMetaData/components/tpaGluedWidget","rEditor/componentsMetaData/components/page","rEditor/componentsMetaData/components/boxSlideShow","rEditor/componentsMetaData/components/stripSlideShowMetaData","rEditor/componentsMetaData/components/boxSlideShowSlide","rEditor/componentsMetaData/components/stripSlideShowSlide","rEditor/componentsMetaData/components/anchor","rEditor/componentsMetaData/components/collage","rEditor/componentsMetaData/components/wRichText","rEditor/componentsMetaData/components/group","rEditor/componentsMetaData/components/stripContainer","rEditor/componentsMetaData/components/stripColumnsContainer","rEditor/componentsMetaData/components/tpaSection","rEditor/componentsMetaData/components/column","rEditor/componentsMetaData/components/popupCloseIconButton","rEditor/componentsMetaData/components/popupCloseTextButton","rEditor/componentsMetaData/components/popupContainerMetaData","rEditor/componentsMetaData/components/tinyMenu"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){"use strict";return{"wysiwyg.viewer.components.BgImageStrip":a,"wysiwyg.viewer.components.FiveGridLine":b,"wysiwyg.viewer.components.FooterContainer":c,"wysiwyg.viewer.components.HeaderContainer":d,"wysiwyg.viewer.components.ScreenWidthContainer":e,"tpa.viewer.components.StripSlideshow":g,"tpa.viewer.components.StripShowcase":f,"wixapps.integration.components.AppPart":h,"wysiwyg.common.components.rssbutton.viewer.RSSButton":i,"wysiwyg.viewer.components.tpapps.TPAGluedWidget":j,"mobile.core.components.Page":k,"wysiwyg.viewer.components.BoxSlideShow":l,"wysiwyg.viewer.components.StripContainerSlideShow":m,"wysiwyg.viewer.components.BoxSlideShowSlide":n,"wysiwyg.viewer.components.StripContainerSlideShowSlide":o,"wysiwyg.common.components.anchor.viewer.Anchor":p,"tpa.viewer.components.Collage":q,"wysiwyg.viewer.components.WRichText":r,"wysiwyg.viewer.components.Group":s,"wysiwyg.viewer.components.StripContainer":t,"wysiwyg.viewer.components.StripColumnsContainer":u,"wysiwyg.viewer.components.tpapps.TPASection":v,"wysiwyg.viewer.components.Column":w,"wysiwyg.viewer.components.PopupCloseIconButton":x,"wysiwyg.viewer.components.PopupCloseTextButton":y,"wysiwyg.viewer.components.PopupContainer":z,"wysiwyg.viewer.components.mobile.TinyMenu":A}});define("rEditor/app/APISections/singleCompHandlers/componentsMetaData",["lodash","experiment","rEditor/componentsMetaData/metaDataMap"],function(a,b,c){"use strict";var d={pinnable:true,showLegacyFixedPosition:false,duplicatable:true,controlledByParent:false,containable:true,canContain:true,containableByStructure:true,canContainByStructure:true,focusable:false,movable:true,verticallyMovable:true,canMoveUp:true,resizable:true,rotatable:true,selectable:true,slidesContainer:false,slideContainer:false,showMarginsIndicator:false,selectedBeforeDescendants:false,disabledKnobs:[],resizeOnlyProportionally:false,shouldBeOverlayed:false};function e(b,e){if(!c[b]||a.isUndefined(c[b][e])){return d[e]}return c[b][e]}function f(b,c,d){var f=b.components.getType(d);var g=e(f,c);if(typeof g==="function"){var h=a.toArray(arguments);h.splice(1,1);return g.apply(this,h)}return g}var g={getRestrictions:function(b,c){var d=this;return a.reduce(c,function(a,c){a[c]=g.is[c].call(d,b);return a},{})},is:{controlledByParent:function(a){return f(this,"controlledByParent",a)},fixed:function(a){return this.documentServices.components.layout.get(a).fixedPosition},exist:function(a){return this.documentServices.components.is.exist(a)},container:function(a){return this.documentServices.components.is.container(a)},selectable:function(a){return f(this,"selectable",a)},siteSegment:function(b){var c=this.siteSegments.getRefs();return a.find(c,b)},removable:function(a){return this.documentServices.components.is.removable(a)},anchorableFrom:function(a){return this.documentServices.components.is.anchorableFrom(a)},anchorableTo:function(a){return this.documentServices.components.is.anchorableTo(a)},duplicatable:function(a,b){return f(this,"duplicatable",a,b)&&this.documentServices.components.is.duplicatable(a,b)},containable:function(a,b){return f(this,"containable",a,b)&&f(this,"canContain",b,a)&&this.documentServices.components.is.containable(a,b)},containableByStructure:function(b,c){var d=b.componentType;var g=e(d,"containableByStructure");var h=a.isFunction(g)?g(b,c):g;return h&&f(this,"canContainByStructure",c,b)&&this.documentServices.components.is.containableByStructure(b,c)},styleCanBeApplied:function(a,b){return this.documentServices.components.is.styleCanBeApplied(a,b)},movable:function(a){return f(this,"movable",a)&&this.documentServices.components.is.movable(a)},horizontallyMovable:function(a){if(b.isOpen("layoutTractor")){return this.documentServices.components.is.horizontallyMovable(a)&&!this.components.layout.isPinned(a)&&!this.components.layout.isHorizontallyStretched(a)}return this.documentServices.components.is.horizontallyMovable(a)&&!this.components.layout.isPinned(a)&&!this.components.layout.isHorizontallyStretchedToScreen(a)},verticallyMovable:function(a){if(b.isOpen("layoutTractor")){return f(this,"verticallyMovable",a)&&this.documentServices.components.is.verticallyMovable(a)&&!this.components.layout.isPinned(a)&&!this.components.layout.isVerticallyStretched(a)}return f(this,"verticallyMovable",a)&&this.documentServices.components.is.verticallyMovable(a)&&!this.components.layout.isPinned(a)},canMoveUp:function(a){return f(this,"canMoveUp",a)&&this.documentServices.components.is.canMoveUp(a)},focusable:function(a){return f(this,"focusable",a)},fullWidth:function(a){return this.documentServices.components.is.fullWidth(a)},rotatable:function(a){return f(this,"rotatable",a)&&this.documentServices.components.is.rotatable(a)},slidesContainer:function(a){return f(this,"slidesContainer",a)},slideContainer:function(a){return f(this,"slideContainer",a)},hoverBox:function(a){return f(this,"hoverBox",a)},resizable:function(a){return f(this,"resizable",a)&&this.documentServices.components.is.resizable(a)},horizontallyResizable:function(a){return!this.components.layout.isHorizontallyStretchedToScreen(a)&&(this.documentServices.components.is.horizontallyResizable(a)||this.components.is.group(a))},verticallyResizable:function(a){return this.documentServices.components.is.verticallyResizable(a)||this.components.is.group(a)},proportionallyResizable:function(a){return!this.components.is.fullWidth(a)&&!this.components.layout.isPinned(a)&&!this.components.is.controlledByParent(a)&&this.components.is.horizontallyResizable(a)&&this.components.is.verticallyResizable(a)},resizeOnlyProportionally:function(a){return this.documentServices.components.is.resizeOnlyProportionally(a)},group:function(a){return this.documentServices.components.is.group(a)},groupable:function(a){return this.documentServices.components.is.groupable(a)&&!f(this,"controlledByParent",a)},topMost:function(a,b){return this.documentServices.components.is.topMost(a,b)},leftMost:function(a,b){return this.documentServices.components.is.leftMost(a,b)},groupedComponent:function(a){return this.documentServices.components.is.groupedComponent(a)},animatable:function(a,b){return this.documentServices.components.is.animatable(a,b)},pinnable:function(a){return f(this,"pinnable",a)&&this.components.layout.canBeFixedPosition(a)&&!this.components.is.fullWidth(a)&&!this.components.layout.isRotated(a)&&!this.components.layout.isHorizontallyStretchedToScreen(a)&&!this.components.is.controlledByParent(a)},showLegacyFixedPosition:function(a){return f(this,"showLegacyFixedPosition",a)},alignable:function(a){return this.documentServices.components.is.alignable(a)&&this.components.is.movable(a)},draggable:function(a){return this.components.is.movable(a)&&!this.components.layout.isPinned(a)&&!this.components.is.page(a)},showMarginsIndicator:function(a){return f(this,"showMarginsIndicator",a)},focusBoxNavType:function(a){return f(this,"focusBoxNavType",a)},focusBoxNavContent:function(a){return f(this,"focusBoxNavContent",a)},selectedBeforeDescendants:function(a,b){return f(this,"selectedBeforeDescendants",a,b)},disabledKnobs:function(a){return f(this,"disabledKnobs",a)},shouldBeOverlayed:function(a){return f(this,"shouldBeOverlayed",a)},getOverlay:function(a,b){return f(this,"getOverlay",a,b)},getOverlayProperties:function(a){return f(this,"getOverlayProperties",a)},gridLinesVisible:function(a){return f(this,"gridLinesVisible",a)}}};return g});define("rEditor/app/APISections/componentsFacade/componentsMetaDataFacade",["lodash","rEditor/utils/multiSelectHandler","rEditor/app/APISections/singleCompHandlers/componentsMetaData"],function(a,b,c){"use strict";function d(d){function e(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.controlledByParent,singleCompHandler:c.is.controlledByParent})}function f(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.fixed,singleCompHandler:c.is.fixed})}function g(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.exist,singleCompHandler:c.is.exist})}function h(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.container,singleCompHandler:c.is.container})}function i(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.selectable,singleCompHandler:c.is.selectable})}function j(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.siteSegment,singleCompHandler:c.is.siteSegment})}function k(b){if(a.includes(b,undefined)){return false}var c=b.pop();var e=d.components.getSiblings(c);return a.every(b,function b(c){return a.find(e,c)})}function l(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.removable,singleCompHandler:c.is.removable})}function m(a,e){return b.call(d,a,e,{multiCompHandler:d.multiselect.is.duplicatable,singleCompHandler:c.is.duplicatable})}function n(a,e){return b.call(d,a,e,{multiCompHandler:d.multiselect.is.showMarginsIndicator,singleCompHandler:c.is.showMarginsIndicator})}function o(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.showLegacyFixedPosition,singleCompHandler:c.is.showLegacyFixedPosition})}function p(a,e){return b.call(d,a,e,{multiCompHandler:d.multiselect.is.containable,singleCompHandler:c.is.containable})}function q(a,e){return b.call(d,a,e,{multiCompHandler:d.multiselect.is.containableByStructure,singleCompHandler:c.is.containableByStructure})}function r(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.styleCanBeApplied,singleCompHandler:c.is.styleCanBeApplied})}function s(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.movable,singleCompHandler:c.is.movable})}function t(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.horizontallyMovable,singleCompHandler:c.is.horizontallyMovable})}function u(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.verticallyMovable,singleCompHandler:c.is.verticallyMovable})}function v(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.canMoveUp,singleCompHandler:c.is.canMoveUp})}function w(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.fullWidth,singleCompHandler:c.is.fullWidth})}function x(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.resizable,singleCompHandler:c.is.resizable})}function y(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.horizontallyResizable,singleCompHandler:c.is.horizontallyResizable})}function z(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.verticallyResizable,singleCompHandler:c.is.verticallyResizable})}function A(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.proportionallyResizable,singleCompHandler:c.is.proportionallyResizable})}function B(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.resizeOnlyProportionally,singleCompHandler:c.is.resizeOnlyProportionally})}function C(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.group,singleCompHandler:c.is.group})}function D(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.groupable,singleCompHandler:c.is.groupable})}function E(a){var b=d.components.asArray(a);return d.pages.isPageExist(b[0].id)}function F(a,e){return b.call(d,a,e,{multiCompHandler:d.multiselect.is.topMost,singleCompHandler:c.is.topMost})}function G(a,e){return b.call(d,a,e,{multiCompHandler:d.multiselect.is.leftMost,singleCompHandler:c.is.leftMost})}function H(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.groupedComponent,singleCompHandler:c.is.groupedComponent})}function I(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.rotatable,singleCompHandler:c.is.rotatable})}function J(a,e){return b.call(d,a,e,{multiCompHandler:d.multiselect.is.animatable,singleCompHandler:c.is.animatable})}function K(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.pinnable,singleCompHandler:c.is.pinnable})}function L(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.focusable,singleCompHandler:c.is.focusable})}function M(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.slidesContainer,singleCompHandler:c.is.slidesContainer})}function N(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.slideContainer,singleCompHandler:c.is.slideContainer})}function O(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.hoverBox,singleCompHandler:c.is.hoverBox})}function P(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.alignable,singleCompHandler:c.is.alignable})}function Q(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.draggable,singleCompHandler:c.is.draggable})}function R(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.anchorableFrom,singleCompHandler:c.is.anchorableFrom})}function S(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.anchorableTo,singleCompHandler:c.is.anchorableTo})}function T(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.focusBoxNavType,singleCompHandler:c.is.focusBoxNavType})}function U(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.focusBoxNavContent,singleCompHandler:c.is.focusBoxNavContent})}function V(a){var b=d.components.asArray(a);return b.length===1&&d.documentServices.components.is.potentialContainerForScreenWidthComp(b[0])}function W(a,e){return b.call(d,a,e,{multiCompHandler:d.multiselect.is.selectedBeforeDescendants,singleCompHandler:c.is.selectedBeforeDescendants})}function X(a){return b.call(d,a,{multiCompHandler:d.multiselect.is.disabledKnobs,singleCompHandler:c.is.disabledKnobs})}function Y(a){return c.is.shouldBeOverlayed.call(d,a)}function Z(a){return c.is.getOverlay.call(d,a)}function $(a){return c.is.getOverlayProperties.call(d,a)}function _(a){return c.is.gridLinesVisible.call(d,a)}return{controlledByParent:e,fixed:f,exist:g,container:h,selectable:i,siteSegment:j,siblings:k,removable:l,duplicatable:m,showMarginsIndicator:n,showLegacyFixedPosition:o,containable:p,containableByStructure:q,styleCanBeApplied:r,movable:s,horizontallyMovable:t,verticallyMovable:u,canMoveUp:v,fullWidth:w,resizable:x,horizontallyResizable:y,verticallyResizable:z,proportionallyResizable:A,resizeOnlyProportionally:B,group:C,groupable:D,page:E,topMost:F,leftMost:G,groupedComponent:H,rotatable:I,animatable:J,pinnable:K,focusable:L,slidesContainer:M,slideContainer:N,hoverBox:O,alignable:P,draggable:Q,anchorableFrom:R,anchorableTo:S,focusBoxNavType:T,focusBoxNavContent:U,potentialContainerForScreenWidthComp:V,selectedBeforeDescendants:W,disabledKnobs:X,shouldBeOverlayed:Y,getOverlay:Z,getOverlayProperties:$,gridLinesVisible:_}}return{create:d}});define("rEditor/app/APISections/componentsWrapper",["lodash","core","util","editorEventRegistry","rEditor/utils/removeUtil","rEditor/utils/multiSelectHandler","rEditor/app/APISections/componentsFacade/layoutWrapper","rEditor/app/APISections/componentsFacade/arrangementFacade","rEditor/app/APISections/componentsFacade/behaviorsFacade","rEditor/app/APISections/componentsFacade/componentsMetaDataFacade","rEditor/app/APISections/singleCompHandlers/componentsMetaData","experiment"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";function m(m){var n="wysiwyg.viewer.components.BoxSlideShow";var o="wysiwyg.viewer.components.StripContainerSlideShow";function p(b){return a.compact(a.isArray(b)?b:[b])}function q(b,c){return a.every(c,function(c,d){return a.isEqual(b[d],c)})}function r(c,d,e){var f=m.documentServices.components.properties;var g=f.get(c);var h=!g||!q(g,d);var i=f.mobile.isForked(c);if(!h){return}d.type=a.get(d,"type")||a.get(g,"type");d=b.utils.updatePropertiesUtil.fixProperties(d,c,m.documentServices,m.isMobileEditor());if(m.isMobileEditor()&&g&&!i){f.mobile.fork(c)}f.update(c,d);if(!e){m.history.debouncedAdd("comp properties changed")}m.pluginService.getPlugin("propertiesChange","*")(c,d)}function s(a,c,d){c.type=c.type||m.components.data.get(a).type;c=b.utils.updateDataUtil.fixData(c);var e=m.components.data.get(a);var f=!e||!q(e,c);if(f){m.documentServices.components.data.update(a,c);if(!d){m.history.debouncedAdd("comp data changed")}}}function t(a,c,d,e){c.type=c.type||m.components.design.get(a).type;c=b.utils.updateDataUtil.fixData(c);var f=m.components.design.get(a);var g=!f||!q(f,c);if(g){m.documentServices.components.design.update(a,c,d);if(!e){m.history.debouncedAdd("comp design changed")}}}function u(b,c,d){var e=m.selection.getSelectedComponents();var f=m.selection.getFocusedContainer(e);if(e&&!m.documentServices.components.modes.isComponentDisplayedInModes(a.head(e),[c])){m.selection.selectComponentByCompRef(f)}if(c){m.documentServices.components.modes.activateComponentMode(b,c)}else if(d){m.documentServices.components.modes.deactivateComponentMode(b,d)}}function v(a){return f.call(m,a,{multiCompHandler:m.multiselect.componentModes.addDefaultSingleModeAnimations,singleCompHandler:Ka})}function w(){return{defaultInAnimtaion:{action:"modeIn",name:"FadeIn",delay:0,duration:.35},defaultOutAnimtaion:{action:"modeOut",name:"FadeOut",delay:0,duration:.35}}}function x(b,c){return a.zipWith(b,c,function(a,b){return{ref:a,root:b}})}function y(b,c){return a.zipWith(b,c,function(a,b){return{ref:a,ancestor:b}})}function z(a){if(l.isOpen("se_editHoverBox")){var b=p(a)[0];var c=m.components.modes.getFirstAncestorWithActiveModes(b);if(c){var d=true;m.waitForChangesApplied(function(){m.tabIndicationState.activateAddAnimation(d)})}}}function A(b){var c=m.components.getPage(b);if(c.id!=="masterPage"){return false}var d=m.siteSegments.getSiteStructure();var e=m.utils.findAncestorMatchesCondition(b,function(a){return m.utils.isSameRef(d,m.components.getContainer(a))});var f=m.siteSegments.getPagesContainer();var g=m.components.getChildren(d);var h=a.findIndex(g,function(a){return m.utils.isSameRef(a,e)});var i=a.findIndex(g,function(a){return m.utils.isSameRef(a,f)});return h>i}function B(a,b){var c={multiCompHandler:m.multiselect.canBeMasterChild,singleCompHandler:m.documentServices.layouters.canBeMasterChild};if(b){return f.call(m,a,b,c)}return f.call(m,a,n,c)||f.call(m,a,o,c)}function C(b){return a.filter(b,m.documentServices.components.is.visible)}function D(a,b,c,d){return C(m.documentServices.components.get.byXYRelativeToStructure(a,b,c,d))}function E(a,b,c,d){return C(m.documentServices.components.get.byXYRelativeToScreen(a,b,c,d))}function F(a,b){return C(m.documentServices.components.get.byType(a,b))}function G(a,b){return C(m.documentServices.components.getAllComponents(a,b))}function H(){var c=b.utils.componentPreviewReadyPlugins;a.forEach(c,function(a){a(m)})}function I(a){return f.call(m,a,{multiCompHandler:m.multiselect.getPage,singleCompHandler:m.documentServices.components.getPage})}function J(){m.clipboard.setItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT,undefined)}function K(a){return f.call(m,a,{multiCompHandler:m.multiselect.isShowOnAllPages,singleCompHandler:m.documentServices.components.isShowOnAllPages})}function L(b){var c=m.selection.getSelectedComponents();c=m.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(c);b=m.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(b);if(a.isEqual(c,b)){m.selection.deselectComponents()}if(m.isMobileEditor()){m.openCantCopyPastePanel();return}if(m.components.is.duplicatable(b)){m.copyPaste.copy(b,true);a.forEach(b,function(a){e.cutComponent(m.documentServices,a,m.cutComponentPlugins)})}}function M(c,d,e,f){var g=b.utils.addUtil.addComponent(m,m.documentServices.components.add,c,d,e,f);var h;if(l.isOpen("se_editHoverBox")){h=!a.isEmpty(m.components.modes.getModes(c))}if(m.utils.isSameRef(c,m.siteSegments.getHeader())){m.openDragToHeaderPanel()}if(!l.isOpen("dontCloseAddPanelOnAdd")){m.panelManager.closePanelByName("addPanelInfra.addPanel")}m.waitForChangesApplied(function(){if(h&&g.id){var b=m.components.modes.getComponentActiveModeIds(c);m.components.modes.showComponentOnlyInModesCombination(g,a.keys(b));m.tabIndicationState.activateAddAnimation(true);v(g)}});return g}function N(a,c,d,e){return b.utils.addUtil.addComponent(m,m.documentServices.components.addAndAdjustLayout,a,c,d,e)}function O(b,c){var d=a.noop;var f=m.selection.getFocusedContainer();var g=m.components.asArray(b);if(!m.components.is.removable(g)){a.forEach(g,function(a){var b=m.components.getType(a);if(m.cannotRemovePlugins[b]){m.cannotRemovePlugins[b](a)}});return}if(f&&!a.find(g,f)){m.selection.selectComponentByCompRef(f)}else if(!c||!c.isReplacingComp){m.selection.deselectComponents(g)}if(l.isOpen("se_editHoverBox")){v(b)}if(m.components.is.controlledByParent(b)){var h=m.components.getContainer(b);var i=m.selection.getSelectedComponents();var j=a.isEqual(h,i&&i[0]);d=j?a.noop:function(){if(m.components.is.exist(h)){m.panelManager.closeAllPanels();m.selection.selectComponentByCompRef(h,null)}else{m.selection.deselectComponents()}}}e.removeComponent(m.documentServices,m.removePlugins,g,m,d,c);if(l.isOpen("se_editHoverBox")){var k=m.components.modes.getFirstAncestorWithActiveModes(p(b)[0]);if(k){m.waitForChangesApplied(function(){m.tabIndicationState.activateDeleteAnimation()})}}}function P(b,c){var e=m.components.isShowOnAllPages(b);var g=p(b);var h=a.map(g,m.components.getPage);var i=a.map(g,m.components.modes.getFirstAncestorWithActiveModes);var j=f.call(m,b,c,{multiCompHandler:m.multiselect.setContainer,singleCompHandler:m.documentServices.components.setContainer});var k=p(j);var l=x(k,h);var n=y(k,i);m.pluginService.getPlugin("setContainer","*")(c,l,n,m.components,m.behaviors);if(!e&&m.utils.isSameRef(c,m.siteSegments.getHeader())){
m.openDragToHeaderPanel()}d.dispatch(d.constants.events.SET_CONTAINER,m,b,c);m.waitForChangesApplied(function(){var a=m.selection.getSelectedComponents();m.editor.setState({focusedContainer:m.selection.getParentToFocus(a)});z(b);v(b)});return j}function Q(a,b){var c=f.call(m,a,b,{multiCompHandler:m.multiselect.reparentComponentToPage,singleCompHandler:m.documentServices.components.reparentComponentToPage});return c}function R(a){return f.call(m,a,{multiCompHandler:m.multiselect.getType,singleCompHandler:m.documentServices.components.getType})}function S(a){return f.call(m,a,{multiCompHandler:m.multiselect.getSiblings,singleCompHandler:m.documentServices.components.getSiblings})}function T(a,b){return f.call(m,a,b,{multiCompHandler:m.multiselect.getChildren,singleCompHandler:m.documentServices.components.getChildren})}function U(a){var b=m.documentServices.components.getType(a);var d=m.compNamePlugins[b]?m.compNamePlugins[b](a):c.translate("component_label_"+b.split(".").pop());return d}function V(a){return m.documentServices.components.code.getNickname(a)}function W(a){var b=m.components.asArray(a);if(!m.components.is.exist(b[0])){return}var c=m.documentServices.components.getChildren(b[0]);m.selection.selectComponentByCompRef(c);m.documentServices.components.ungroup(b[0]);m.history.add("ungroup")}function X(a,b){var d=m.documentServices.components.getType(a);if(m.compIconPlugins[d]){return m.compIconPlugins[d](a)}return c.compIcon.getCompIconInfo(a,d,b,m)}function Y(a){var b=m.components.asArray(a);return m.documentServices.components.getContainer(b[0])}function Z(b){var c=15;var d=a.negate(m.components.is.controlledByParent);var e=d(b)?b:m.utils.findAncestorMatchesCondition(b,d);var f=m.components.layout.getRelativeToStructure(e);var g=m.siteSegments.getFooter();var h=m.components.layout.get(g);var i=m.components.setContainer(e,g);m.components.layout.update(i,{y:f.y-f.bounding.y+c});var j=h.height<f.bounding.height+c;if(j){m.components.layout.update(g,{height:f.bounding.height+2*c})}}function $(a,b){return f.call(m,a,b,{multiCompHandler:m.multiselect.isDescendantOfComp,singleCompHandler:m.documentServices.components.isDescendantOfComp})}function _(b,c){return a.some(b,function(a){return m.components.isDescendantOfComp(c,a)})}function aa(a){var b=m.components.asArray(a);return{componentType:m.components.getType(a),component_id:b[0].id}}function ba(a,b,c){f.call(m,a,b,c,{multiCompHandler:m.multiselect.data.update,singleCompHandler:s})}function ca(a){return f.call(m,a,{multiCompHandler:m.multiselect.data.get,singleCompHandler:m.documentServices.components.data.get})}function da(a,b){f.call(m,a,{multiCompHandler:m.multiselect.data.remove,singleCompHandler:m.documentServices.components.data.remove});if(!b){m.history.add("comp data removed")}}function ea(a,b,c,d){if(m.documentServices.components.design){f.call(m,a,b,c,d,{multiCompHandler:m.multiselect.data.update,singleCompHandler:t})}return null}function fa(a){if(m.documentServices.components.design){return f.call(m,a,{multiCompHandler:m.multiselect.data.get,singleCompHandler:m.documentServices.components.design.get})}return null}function ga(a,b){if(m.documentServices.components.design){f.call(m,a,{multiCompHandler:m.multiselect.design.remove,singleCompHandler:m.documentServices.components.design.remove});if(!b){m.history.add("comp design removed")}}}function ha(a,b,c){return f.call(m,a,b,c,{multiCompHandler:m.multiselect.properties.update,singleCompHandler:r})}function ia(a){return f.call(m,a,{multiCompHandler:m.multiselect.properties.get,singleCompHandler:m.documentServices.components.properties.get})}function ja(a,b){f.call(m,a,b,{multiCompHandler:m.multiselect.alignment.align,singleCompHandler:m.documentServices.components.alignment.alignInContainer});m.history.add("component - align - "+b)}function ka(a,b){return m.documentServices.components.alignment.canAlign(a,b)}function la(b,c){f.call(m,b,c,{multiCompHandler:m.multiselect.multiComponents.distribute,singleCompHandler:a.noop});m.history.add("component - distribute - "+c)}function ma(b,c){f.call(m,b,c,{multiCompHandler:m.multiselect.multiComponents.matchSize,singleCompHandler:a.noop});m.history.add("component - matchSize - "+c)}function na(a,b){return m.documentServices.components.multiComponents.canDistribute(a,b)}function oa(a,b){return m.documentServices.components.multiComponents.canMatchSize(a,b)}function pa(a){var b=m.components.asArray(a);if(m.multiselect.isMultiselect(b)){throw"components.style.getId isn't supported for multi select"}return m.documentServices.components.style.getId(b[0])}function qa(a,b){var c=m.components.asArray(a);if(m.multiselect.isMultiselect(c)){throw"components.style.setId isn't supported for multi select"}return m.documentServices.components.style.setId(c[0],b)}function ra(a,b){var c=m.components.asArray(a);if(m.multiselect.isMultiselect(c)){throw"components.style.update isn't supported for multi select"}return m.documentServices.components.style.update(c[0],b)}function sa(a,b){return f.call(m,a,b,{multiCompHandler:m.multiselect.getRestrictions,singleCompHandler:k.getRestrictions})}function ta(a){return f.call(m,a,{multiCompHandler:m.multiselect.skin.getComponentSkinExports,singleCompHandler:m.documentServices.components.skin.getComponentSkinExports})}function ua(a){return f.call(m,a,{multiCompHandler:m.multiselect.skin.get,singleCompHandler:m.documentServices.components.skin.get})}function va(a,b){m.documentServices.components.code.setNickname(a,b);m.history.debouncedAdd("comp nick name changed")}function wa(a){return m.components.canShowOnAllPages(a)&&m.components.canShowOnCurrentPage(a)}function xa(a){if(!a||!m.components.isShowOnAllPages(a)){return false}return m.components.isDescendantOfFrozen(a,m.siteSegments.getHeader())||m.components.isDescendantOfFrozen(a,m.siteSegments.getFooter())||A(a)}function ya(a,b){return m.components.isDescendantOfComp(a,b)&&m.components.layout.isFixedPosition(b)}function za(a){var b=m.documentServices.pages.getFocusedPage();return m.components.is.containable(a,b)&&!m.components.isDescendantOfComp(a,m.siteSegments.getFooter())}function Aa(b){b=m.components.asArray(b);var c=m.documentServices.siteSegments.getSiteStructure();var d=a.some(b,function a(b){return m.documentServices.components.is.groupedComponent(b)});var e=m.components.is.containable(b,c)&&!a.some(b,m.components.is.controlledByParent);return!m.isCurrentPageLandingPage()&&e&&!d&&!m.pages.popupPages.isPopupOpened()}function Ba(a,b){var c;a=m.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(a);if(b){c=m.documentServices.siteSegments.getSiteStructure()}else{c=m.documentServices.pages.getReference(m.pages.getPrimaryPageId())}return m.components.setContainer(a,c)}function Ca(a){var b=m.selection.getSelectedComponents();var c=!m.components.isShowOnAllPages(a);var d=m.components.setShowOnAllPages(a,c);if(b===a){m.selection.selectComponentByCompRef(d)}m.history.add(c?"Show component on all pages":"Show component on current page");return c}function Da(a,b){if(l.isOpen("se_editHoverBox")){u(a,b)}m.panelManager.closePanelByName("compPanels.dynamicPanels.applyPanel")}function Ea(a,b){if(l.isOpen("se_editHoverBox")){u(a,null,b)}m.panelManager.closePanelByName("compPanels.dynamicPanels.applyPanel")}function Fa(a){return f.call(m,a,{multiCompHandler:m.multiselect.componentModes.applyCurrentToAllModes,singleCompHandler:m.documentServices.components.modes.applyCurrentToAllModes})}function Ga(b){if(l.isOpen("se_editHoverBox")&&!a.isEmpty(b)){var c=Fa(b);m.waitForChangesApplied(function(){m.tabIndicationState.activateApplyAnimation(false)});m.history.add("comp applyCurrentToAllModes");return c}}function Ha(a,b){m.documentServices.components.modes.applyComponentToMode(a,b)}function Ia(a,b){if(l.isOpen("se_editHoverBox")){return Ha(a,b)}}function Ja(b){var c=m.documentServices.components.modes.getTypes().DEFAULT;var d=a.head(m.documentServices.components.modes.getModesByType(b,c));if(d){var e=m.documentServices.components.modes.getComponentActiveModeIds(b);return a.includes(a.keys(e),d.modeId)}return false}function Ka(a){var b=w();var c=m.components.is.animatable(a,b.defaultInAnimtaion.action);var d=m.documentServices.components.modes.getFirstAncestorWithActiveModes(a);if(d&&c){m.documentServices.components.behaviors.update(a,b.defaultInAnimtaion);m.documentServices.components.behaviors.update(a,b.defaultOutAnimtaion)}}function La(a){var b=a;while(b&&!m.components.modes.getModes(b)){b=m.components.getContainer(b)}return b}function Ma(a){var b=m.components.getContainer(a);return m.components.modes.getFirstAncestorOrSelfWithModeDefinitions(m.components,b)}return{getAllComponents:G,get:{byXYRelativeToStructure:D,byXYRelativeToScreen:E,byType:F},canBeMasterChild:B,onPreviewReady:H,getPage:I,asArray:p,reset:J,isShowOnAllPages:K,cut:L,add:M,addAndAdjustLayout:N,remove:O,setContainer:P,reparentComponentToPage:Q,getType:R,getSiblings:S,getChildren:T,getDisplayName:U,getNickname:V,ungroup:W,getIconInfo:X,getContainer:Y,moveToFooter:Z,isDescendantOfComp:$,isAscendantOfComp:_,getDefaultBiParams:aa,data:{update:ba,get:ca,remove:da},design:{update:ea,get:fa,remove:ga},properties:{update:ha,get:ia},alignment:{align:ja,canAlign:ka},multiComponents:{distribute:la,matchSize:ma,canDistribute:na,canMatchSize:oa},layout:g.create(m),style:{getId:pa,setId:qa,update:ra},arrangement:h.create(m),getRestrictions:sa,is:j.create(m),skin:{getComponentSkinExports:ta,get:ua},behaviors:i.create(m),code:{setNickname:va},canToggleShowOnAllPages:wa,shouldDisableShowOnAllPages:xa,isDescendantOfFrozen:ya,canShowOnCurrentPage:za,canShowOnAllPages:Aa,setShowOnAllPages:Ba,toggleShowOnAllPages:Ca,modes:{activateComponentMode:Da,deactivateComponentMode:Ea,applyCurrentToAllModes:Ga,applyComponentToMode:Ia,isCompDefaultModeActive:Ja,addDefaultSingleModeAnimations:Ka,getFirstAncestorOrSelfWithModeDefinitions:La,getFirstAncestorWithModeDefinitions:Ma}}}return{create:m}});define("rEditor/app/APISections/rulersAPI",["lodash","core","util"],function(a,b,c){"use strict";function d(d){function e(){var a=d.rulers.getGuidesState();d.rulersHistory={stack:[a],currentIndex:0}}function f(){if(d.rulers.canUndo()){A();d.rulersHistory.currentIndex-=1;var a=d.rulersHistory.stack[d.rulersHistory.currentIndex];x(a)}}function g(){if(i()){A();d.rulersHistory.currentIndex+=1;var a=d.rulersHistory.stack[d.rulersHistory.currentIndex];x(a)}}function h(){return d.rulersHistory.currentIndex>0}function i(){return d.rulersHistory.stack.length>d.rulersHistory.currentIndex+1}function j(c){var e=c.guidesState;d.userPreferences.site.set(b.constants.USER_PREFS.VIEW_TOOLS.GUIDES_STATE,e);u(c);if(!a.isEqual(d.rulersHistory.stack[d.rulersHistory.currentIndex],c.guidesState)){d.rulersHistory.stack=a.take(d.rulersHistory.stack,d.rulersHistory.currentIndex+1);d.rulersHistory.stack.push(e);d.rulersHistory.currentIndex+=1}}function k(){return d.editor.state.viewTools.rulersEnabled}function l(b,c){var e=a.cloneDeep(d.editor.state.viewTools.rulers);e[b]=c;return e}function m(){var b;if(a.get(d,"editor.state.viewTools.rulers")){b=a.cloneDeep(d.editor.state.viewTools.rulers.guidesState)}b=a.isEmpty(b)?r():b;return b}function n(){var a=m();return d.isMobileEditor()?a.mobile.horizontalGuides:a.desktop.horizontalGuides}function o(){var a=m();return d.isMobileEditor()?a.mobile.verticalGuides:a.desktop.verticalGuides}function p(b){var c=m();var d;if(a.some(c.mobile.verticalGuides,["guideId",b])){d="mobile.verticalGuides"}else if(a.some(c.mobile.horizontalGuides,["guideId",b])){d="mobile.horizontalGuides"}else if(a.some(c.desktop.verticalGuides,["guideId",b])){d="desktop.verticalGuides"}else if(a.some(c.desktop.horizontalGuides,["guideId",b])){d="desktop.horizontalGuides"}var e=a.find(a.get(c,d),{guideId:b}).guidePosition;return{guideId:b,guidePosition:e,guidePath:d}}function q(){var a=d.editor.state.viewTools.rulers.selectedGuide;return p(a)}function r(){return{desktop:{verticalGuides:[],horizontalGuides:[]},mobile:{verticalGuides:[],horizontalGuides:[]}}}var s=0;function t(a){s++;return{guideId:"GUIDE_"+Date.now().toString(36)+s.toString(36),guidePosition:a}}function u(a){d.updateEditorViewTools("rulers",a)}function v(a,c){var f=!k();d.updateEditorViewTools("rulersEnabled",f);d.userPreferences.site.set(b.constants.USER_PREFS.VIEW_TOOLS.RULERS_ENABLED,f,a,c);e()}function w(b,c){var e=a.clone(d.editor.state.viewTools.rulers);e[b]=c;u(e)}function x(a){d.userPreferences.site.set(b.constants.USER_PREFS.VIEW_TOOLS.GUIDES_STATE,a);w("guidesState",a)}function y(b){var c=a.clone(d.editor.state.viewTools.rulers);c.isDragging=false;if(!b){c.isHovered=false}u(c)}function z(a,b){if(b){K("GUIDE_TOOLTIP_IN_EDIT_MODE",{origin:b})}if(a){d.selection.deselectComponents();c.keyboardShortcuts.setContext(c.keyboardShortcuts.CONTEXTS.RULERS)}w("selectedGuide",a)}function A(){z(null);c.keyboardShortcuts.setContext(d.getPreviewMode()?c.keyboardShortcuts.CONTEXTS.PREVIEW:c.keyboardShortcuts.CONTEXTS.EDITOR)}function B(b,e){var f=m();var g=t(e);a.get(f,b).push(g);var h=l("guidesState",f);d.selection.deselectComponents();h.selectedGuide=g.guideId;c.keyboardShortcuts.setContext(c.keyboardShortcuts.CONTEXTS.RULERS);j(h);return g.guideId}function C(a){var b=M("vertical",d.isMobileEditor());return B(b,a)}function D(a){var b=M("horizontal",d.isMobileEditor());return B(b,a)}function E(b,c,e){var f=M(b,d.isMobileEditor());var g=G(f,c);var h={guidePosition:e,guideId:c};a.get(g,f).push(h);var i=l("guidesState",g);j(i)}function F(b,c){var d=q();if(a.includes(d.guidePath,b)){E(b,d.guideId,d.guidePosition+c)}}function G(b,c){var d=m();var e=a.reject(a.get(d,b),{guideId:c});a.set(d,b,e);return d}function H(a){var b=p(a);var e=G(b.guidePath,b.guideId);var f=l("guidesState",e);f.selectedGuide=null;c.keyboardShortcuts.setContext(d.getPreviewMode()?c.keyboardShortcuts.CONTEXTS.PREVIEW:c.keyboardShortcuts.CONTEXTS.EDITOR);j(f)}function I(){H(d.editor.state.viewTools.rulers.selectedGuide)}function J(){K("GUIDE_DELETED",{origin:"delete_button"});I()}function K(c,e){var f=b.bi.events.rulers[c];var g={editor_view_mode:d.getDeviceType()};a.merge(g,e);d.bi.event(f,g)}function L(a){var b=d.siteSegments.getPagesContainerAbsLayout();return a+Math.round(b.x)}function M(a,b){var c=b?"mobile.":"desktop.";return c+a+"Guides"}return{getGuidesState:m,getHorizontalGuides:n,getVerticalGuides:o,isRulersEnabled:k,toggleRulers:v,getGuidesInitialState:r,setVerticalGuide:C,setHorizontalGuide:D,removeSelectedGuide:I,removeGuideById:H,selectGuide:z,deselectGuide:A,changeGuidePosition:E,updateEditorRulersState:w,getVerticalGuideRealPosition:L,sendBIEvent:K,undo:f,redo:g,canUndo:h,canRedo:i,resetRulersHistory:e,updateStateOnDragEnd:y,getSelectedGuideData:q,removeGuideViaDelBtn:J,changeGuidePositionByPixels:F}}return{create:d}});define("rEditor/app/APISections/tabIndicationState",[],function(){"use strict";function a(a){function b(){a.editor.setState({tabIndicationState:{indication:"INACTIVE",activeMode:undefined}})}function c(){a.editor.setState({tabIndicationState:{indication:"DELETE",activeMode:undefined}},b)}function d(c){a.editor.setState({tabIndicationState:{indication:"ADD",activeMode:c}},b)}function e(c){a.editor.setState({tabIndicationState:{indication:"APPLY",activeMode:c}},b)}function f(){return a.editor.state.tabIndicationState}return{activateDeleteAnimation:c,activateAddAnimation:d,activateApplyAnimation:e,getState:f}}return{create:a}});define("rEditor/app/APISections/feedback",["lodash","jquery","constants","util"],function(a,b,c,d){"use strict";function e(a){var e="/_api/feedback-server/getNewCommentsCount/";var f="/_api/feedback-server/siteIsShared/";function g(){var a=d.serviceTopology.baseDomain;return"http://editor."+a}function h(){var b=a.generalInfo.getSiteId();var c=a.generalInfo.getMetaSiteId();return g()+e+b+"?metaSiteId="+c}function i(){return g()+f+a.generalInfo.getSiteId()+"?metaSiteId="+a.generalInfo.getMetaSiteId()}function j(b){if(a.editor.state.unreadComments!==b){a.editor.setState({unreadComments:b})}}function k(){var a=h();b.ajax({url:a,type:"GET",success:function(a){j(a.count)}})}function l(){if(!a.account.isUserOwner()){return}var d=i();b.ajax({url:d,type:"GET",success:function(b){if(b.shared){j(b.count);k();window.setInterval(k,c.FEEDBACK.CHECK_COMMENTS_INTERVAL)}else{window.setTimeout(a.feedback.init,c.FEEDBACK.CHECK_SITE_SHARED_INTERVAL)}}})}function m(){return a.editor.state.unreadComments}return{init:l,getNewCommentsCounter:m}}return{create:e}});define("rEditor/app/APISections/mainMenuWrapper",["lodash","pagesMenu","experiment"],function(a,b,c){"use strict";function d(d){var e=b.specialPages.menuLogic;var f=/Link$/;function g(a){return a.replace("#","")}function h(b){var c;a.some(b,function(a){if(a.type.isPage&&!d.pages.isHomePage(a.pageData.id)){c=a;return true}if(a.items&&a.items.length){c=h(a.items);if(c){return true}}});return c}function i(b,c){var d;a.some(b,function(a){var b=a.link&&a.link.pageId;var e=b&&b.substr(1);if(e===c){d=a;return true}if(a.items&&a.items.length){d=i(a.items,c);if(d){return true}}});return d}function j(a){var b=a.link&&a.link.type,c=a.link&&a.link.pageId,e=b==="PageLink",g=c&&d.pages.popupPages.isPopup(c.replace("#",""));return{raw:b,isDropdown:!b,isLink:!e&&f.test(b)||g,isPage:e&&!g}}function k(a,b,c){return{id:a.id,type:j(a),label:a.label,parent:c,isVisible:a.isVisible,isVisibleMobile:a.isVisibleMobile,pageData:b,link:a.link}}function l(b,d,e,f){var h=[];a.forEach(b,function(b){var i;var m=j(b);var n;if(c.isOpen("pagesPanelOpenCollapsed")){n=m.isPage?d.pagesDataMap[g(b.link.pageId)]:null}else{n=m.isPage?a.find(d.pagesDataList,["id",g(b.link.pageId)]):null}if(!e||e(b,n)){i=k(b,n,d.parent);if(b.items.length>0){i.items=l(b.items,a.defaults({parent:i},d),e,f)}else{i.items=[]}h.push(i);if(f){f(i)}}});return h}function m(b){var c=a.slice(b),d=[],e;while(c.length){e=c.pop();if(e.items&&e.items.length){d=d.concat(e.items)}d.push(e)}return d}function n(b,c){function e(c){var d,h,i;a.forEach(c,function(c){h=j(c);if(h.isPage){i=a.findIndex(b,{id:g(c.link.pageId)});if(i>-1){d=b[i];f[i]=k(c,d)}}if(c.items.length>0){e(c.items)}})}var f=[];e(c||d.mainMenu.getMenu(true));return a.compact(f)}function o(b,e,f,g){g=g||d.mainMenu.getMenu(true);if(c.isOpen("pagesPanelOpenCollapsed")){var h=a.keyBy(b,"id");return l(g,{parent:null,homePageId:d.homePage.get(),pagesDataMap:h},e,f)}return l(g,{parent:null,homePageId:d.homePage.get(),pagesDataList:b},e,f)}function p(){var b=d.documentServices.pages.getPagesData(),c=a.filter(b,function(a){return!e.isSpecialPage(d,a)});return c.length===1}function q(){var a=d.mainMenu.getMenuItemsTreeForMainMenu();return h(a)}function r(){var a=d.documentServices.mainMenu.getMenu(),b=d.documentServices.pages.getCurrentUrlPageId(),c=i(a,b);return c&&c.id}function s(){var a=d.pages.getPagesData();return d.mainMenu.extendMenuItemsTreeWithPageData(a)}function t(){var b=d.mainMenu.getMenu(true);var c=d.pages.getPagesData();var f=e.getSectionPagesIds(d,c);var g=[];var h=Array.prototype.push;var i=function a(b,c){if(!c&&b.items.length===0){return false}if(c&&e.isSpecialPage(d,c)){return false}return true};var j=function(b){if(b.pageData&&a.includes(f,b.pageData.id)){g.push(b)}};var k=d.mainMenu.extendMenuItemsTreeWithPageData(c,i,j,b);a.forEach(g,function(a){var f=e.getSpecialPagesListBySectionPageOrBySibling(d,a.pageData,c);var g=d.mainMenu.convertPagesDataListToMenuItemsList(f,b);h.apply(a.items,g)});return k}function u(a){a=a||d.pages.getPagesData();var b=function(a,b){if(!b){return true}return!e.isSpecialPage(d,b)};return d.mainMenu.extendMenuItemsTreeWithPageData(a,b)}function v(a){var b=d.mainMenu.getMenuItemsTreeForMainMenu(a)||[];return m(b)}return{hasOnlyLastPageMenuItem:p,getFirstNonHomePageMenuItem:q,getMenuItemIdForCurrentPage:r,getMenuItemsTree:s,getMenuItemsTreeForPagesFixed:t,getMenuItemsTreeForMainMenu:u,getMenuItemsFlattened:v,extendMenuItemsTreeWithPageData:o,convertPagesDataListToMenuItemsList:n}}return{create:d}});define("rEditor/app/APISections/multiselect",["lodash","core","util"],function(a,b,c){"use strict";function d(d){function e(b){return a.some(b,d.selection.isSingleSelectionComponent)}function f(b,e){return a.map(b,function b(f){var g=a.pick(d.components.layout.get(f),["x","y"]);var h=c.layoutUtils.addXYOffsetsToLayout(g,e);return{component:f,newLayout:h}})}function g(b,e,g){var h=c.layoutUtils.getLayoutsXYDiff(g,e);var i=f(b,h);a.forEach(i,function a(b){d.components.layout.update(b.component,b.newLayout)})}function h(a){var b=d.components.getContainer(a);while(b&&!d.components.is.group(b)){b=d.components.getContainer(b)}return b}function i(a,b){var d=c.layoutUtils.calcLayoutFromLayoutAndRatio(b,a.proportions);var e=c.layoutUtils.addXYOffsetsToLayout(d,b);return e}function j(){return false}function k(){return false}function l(){}function m(b,c){return a.every(b,function(a){return d.documentServices.components.isDescendantOfComp(a,c)})}function n(){return b.constants.MULTISELECT.TYPE}function o(b){if(d.multiselect.areComponentsOfSamePage(b)){return d.documentServices.components.getPage(a.head(b))}return null}function p(b){if(!a.isArray(b)){return 0}return b.length}function q(a){return d.multiselect.count(a)>1}function r(b){if(d.multiselect.containsSiblingsOnly(b)){return d.documentServices.components.getContainer(a.head(b))}return null}function s(){return[]}function t(b){if(!d.multiselect.containsSiblingsOnly(b)){throw"Cannot obtain siblings of the given compoents since they are not siblings"}var c=d.documentServices.components.getSiblings(b[0]);var e=a.reject(c,function(c){return a.some(b,{id:c.id})});return e}function u(b){var c=a.every(b,function(a){return d.documentServices.components.isShowOnAllPages(a)});return c}function v(a){if(d.multiselect.count(a)<=1){return true}return!e(a)}function w(b){if(!d.multiselect.isMultiselect(b)){return true}var c=d.components.getSiblings(a.head(b));var e=a.tail(b);return a.every(e,function b(d){return!!a.find(c,d)})}function x(b){if(!d.multiselect.isMultiselect(b)){return false}return a.every(b,function c(e,f){var g=b.slice(f+1);return a.every(g,function(a){return d.components.isDescendantOfComp(e,a)||d.components.isDescendantOfComp(a,e)})})}function y(b){if(!d.multiselect.isMultiselect(b)){return true}var c=a.head(b);var e=a.tail(b);var f=d.documentServices.components.getPage(c);return a.every(e,function b(c){var e=d.documentServices.components.getPage(c);return a.isEqual(e,f)})}function z(b){var c=a.clone(b);a.forEach(b,function(e,f){var g=b.slice(f+1);a.forEach(g,function(b){if(d.components.isDescendantOfComp(e,b)){a.remove(c,e);return false}else if(d.components.isDescendantOfComp(b,e)){a.remove(c,b)}})});return c}function A(b){return a.reject(b,function c(d){var e=h(d);return e&&!!a.find(b,e)})}function B(b,c){var e=a.map(b,function(a){return d.documentServices.components.setContainer(a,c)});return e}function C(b,c){var e=a.map(b,function(a){return d.documentServices.components.reparentComponentToPage(a,c)});return e}function D(){throw"Cannot update data for multiple components"}function E(b){var c=a.map(b,function(a){return d.documentServices.components.data.get(a)});return c}function F(){throw"Cannot remove data for multiple components"}function G(){throw"Cannot update design for multiple components"}function H(b){var c=a.map(b,function(a){return d.documentServices.components.design.get(a)});return c}function I(){throw"Cannot remove design for multiple components"}function J(){throw"cannot update multiple components properties"}function K(b){var c=a.map(b,function(a){return d.documentServices.components.properties.get(a)});return c}function L(){return false}function M(){return false}function N(a,b){d.documentServices.components.alignment.alignComponents(a,b)}function O(a,b){d.documentServices.components.multiComponents.distribute(a,b)}function P(a,b){d.documentServices.components.multiComponents.matchSize(a,b)}function Q(a){if(!d.multiselect.containsSiblingsOnly(a)){throw"Cannot get layout for non-siblings components"}var b=d.documentServices.components.layout.getSnugLayout(a);return b}function R(b){var c=a.every(b,function(a){return d.documentServices.components.layout.canBeFixedPosition(a)});return c}function S(a){return d.documentServices.components.layout.getSnugLayoutRelativeToScreen(a)}function T(a){return d.documentServices.components.layout.getSnugLayoutRelativeToScreenConsideringScroll(a)}function U(a){return d.documentServices.components.layout.getSnugLayoutRelativeToStructure(a)}function V(b){if(d.multiselect.is.proportionallyResizable(b)){return a.values(d.components.layout.RESIZE_SIDES)}return[]}function W(a,b){if(!d.multiselect.containsSiblingsOnly(a)){throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container"}var c=d.documentServices.components.layout.getSnugLayout(a);g(a,c,b)}function X(b,c){var e=a.pick(d.multiselect.layout.getRelativeToStructure(b),["x","y"]);g(b,e,c)}function Y(b,c){var e=a.pick(d.multiselect.layout.getRelativeToScreen(b),["x","y"]);g(b,e,c)}function Z(b,c,e){a.defaults(c,e.layout);a.forEach(e.children,function a(b){var e=i(b,c);d.components.layout.updateRelativeToScreenAndPreserveProportions(b.component,e,b)})}function $(a,b,e){var f=c.layoutUtils.getLayoutRelativeToScreenFromRelativeToStructure(d,a,b);d.multiselect.layout.updateRelativeToScreenAndPreserveProportions(a,f,e)}function _(a,b,e){if(!d.multiselect.containsSiblingsOnly(a)){throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container"}var f=c.layoutUtils.getLayoutRelativeToScreenFromRelativeToParent(d,a,b);d.multiselect.layout.updateRelativeToScreenAndPreserveProportions(a,f,e)}function aa(b,e){var f=d.components.layout.getRelativeToScreen(b);return{component:null,layout:f,children:a.map(b,function b(g){var h=d.components.layout.getRelativeToScreen(g);var i=c.layoutUtils.getLayoutsXYDiff(h,f);var j=a.defaults(i,h);var k=c.layoutUtils.getChildContainerLayoutRatio(j,f);var l=d.components.layout.getProportionStructure(g,e);l.proportions=k;l.minLayout=a.omit(l.minLayout,["x","y"]);return l})}}function ba(b,e){if(!d.multiselect.containsSiblingsOnly(b)){throw"Cannot update and adjust layout of non-siblings components"}var g=d.documentServices.components.layout.getSnugLayout(b);g=a.pick(g,"y");var h=c.layoutUtils.getLayoutsXYDiff(e,g);var i=f(b,h);a.forEach(i,function(a){d.documentServices.components.layout.updateAndAdjustLayout(a.component,a.newLayout)})}function ca(c,e){return a.map(c,function a(c){return b.utils.fixedPositionUtils.setFixedPosition(d,c,e)})}function da(b){a.forEach(b,function(a){d.documentServices.components.layout.updateAspectRatio(a)})}function ea(b){a.forEach(b,function(a){d.documentServices.components.layout.removeAspectRatio(a)})}function fa(){throw"Dock / Undock not supported for multiselect"}function ga(){throw"Dock / Undock not supported for multiselect"}function ha(){throw"Dock / Undock not supported for multiselect"}function ia(){throw"Dock / Undock not supported for multiselect"}function ja(){return false}function ka(b){return a.some(b,function(a){return d.components.layout.isStretchedToScreen(a)})}function la(){throw"cannot get skin of multiple components"}function ma(){throw"Cannot get component skin exports for multiple components"}function na(b,c){return a.reduce(c,function(a,c){a[c]=d.multiselect.is[c](b);return a},{})}function oa(b){return a.every(b,d.components.is.controlledByParent)}function pa(b){return a.every(b,d.components.is.fixed)}function qa(){return true}function ra(b){return a.every(b,d.components.is.alignable)}function sa(){return false}function ta(b){return a.every(b,function a(b){return d.components.is.exist(b)})}function ua(){return false}function va(b){var c=a.every(b,function(a){return d.components.is.removable(a)});return c}function wa(b){var c=a.every(b,function(a){return d.components.is.duplicatable(a)});return c}function xa(){return false}function ya(b,c){var e=a.every(b,function(a){return d.components.is.containable(a,c)});return e}function za(b,c){var e=a.every(b,function(a){return d.components.is.containableByStructure(a,c)});return e}function Aa(b){var c=a.every(b,function(a){return d.components.is.movable(a)});return c}function Ba(b){var c=a.every(b,function(a){return d.components.is.horizontallyMovable(a)});return c}function Ca(b){var c=a.every(b,function(a){return d.components.is.verticallyMovable(a)});return c}function Da(b){var c=a.every(b,function(a){return d.components.is.canMoveUp(a)});return c&&d.multiselect.containsSiblingsOnly(b)}function Ea(b){var c=a.some(b,function(a){return d.components.is.anchorableFrom(a)});return c&&d.multiselect.containsSiblingsOnly(b)}function Fa(b){var c=a.some(b,function(a){return d.components.is.anchorableTo(a)});return c&&d.multiselect.containsSiblingsOnly(b)}function Ga(b){var c=a.every(b,function(a){return d.components.is.fullWidth(a)});return c}function Ha(b){return a.every(b,d.components.is.horizontallyResizable)}function Ia(b){return a.every(b,d.components.is.verticallyResizable)}function Ja(b){return a.every(b,d.components.is.proportionallyResizable)}function Ka(b){return a.every(b,d.components.is.resizeOnlyProportionally)}function La(){return false}function Ma(b){return a.every(b,function a(b){return d.components.is.groupable(b)})}function Na(b){var c=a.every(b,function(a){return d.documentServices.components.is.groupedComponent(a)});return c}function Oa(b,c){var e=a.some(b,function(a){return d.documentServices.components.is.topMost(a,c)});return e}function Pa(b,c){var e=a.some(b,function(a){return d.documentServices.components.is.leftMost(a,c)});return e}function Qa(){return false}function Ra(){return false}function Sa(b,c){var e=a.every(b,function(a){return d.components.is.animatable(a,c)});return e}function Ta(){return false}function Ua(){return false}function Va(){return false}function Wa(){return false}function Xa(){return false}function Ya(b){return a.every(b,d.components.is.draggable)}function Za(){return false}function $a(){return false}function _a(b){var c=a(b).map(d.components.is.disabledKnobs).map("length").compact().get("length");return c?a.values(d.components.layout.RESIZE_SIDES):[]}function ab(b,c,e){a.forEach(b,function(a){d.documentServices.components.behaviors.update(a,c,e)})}function bb(b){var c=a.reduce(b,function(a,b){return a.concat(d.documentServices.components.behaviors.get(b)||[])},[]);return c}function cb(b,c,e){a.forEach(b,function(a){d.documentServices.components.behaviors.remove(a,c,e)})}function db(b){a.forEach(b,function(a){d.documentServices.components.behaviors.removeAll(a)})}function eb(b,c,e){var f=a.map(b,function(b,f,g){return d.documentServices.components.behaviors.previewAnimation(b,a.cloneDeep(c),f===g.length-1?e:undefined)});return f}function fb(b){a.forEach(b,function(a){d.documentServices.components.behaviors.stopPreviewAnimation(a)})}function gb(b,c,e){a.forEach(b,function(a){d.documentServices.components.behaviors.execute(a,c,e)})}function hb(b){return a.map(b,function(a){return d.documentServices.components.behaviors.getRuntimeState(a)})}function ib(b){a.forEach(b,function(a){d.components.modes.applyCurrentToAllModes(a)})}function jb(b){a.forEach(b,function(a){d.components.modes.addDefaultSingleModeAnimations(a)})}function kb(b){if(!d.multiselect.isMultiselect(b)){return true}var c=a.map(b,function(a){return d.components.modes.getFirstAncestorWithActiveModes(a)});return a.every(c,a.partial(a.isEqual,c[0]))}return{canBeMasterChild:j,getParentCompWithOverflowHidden:k,getNonMasterChildren:l,isDescendantOfComp:m,getType:n,getPage:o,count:p,isMultiselect:q,getContainer:r,getChildren:s,getSiblings:t,isShowOnAllPages:u,canBeSelectedTogether:v,containsSiblingsOnly:w,containsAncestorsAndDescendants:x,areComponentsOfSamePage:y,getComponentsWhichDontHaveAncestorsInTheArray:z,removeGroupedCompsIfTheirGroupIsInArray:A,setContainer:B,reparentComponentToPage:C,data:{update:D,get:E,remove:F},design:{update:G,get:H,remove:I},properties:{update:J,
get:K},arrangement:{canMoveForward:L,canMoveBackward:M},alignment:{align:N},multiComponents:{distribute:O,matchSize:P},layout:{get:Q,canBeFixedPosition:R,getRelativeToScreen:S,getRelativeToScreenConsideringScroll:T,getRelativeToStructure:U,getResizableSides:V,update:W,updateRelativeToStructure:X,updateRelativeToScreen:Y,updateRelativeToScreenAndPreserveProportions:Z,updateRelativeToStructureAndPreserveProportions:$,updateAndPreserveProportions:_,getProportionStructure:aa,updateAndAdjustLayout:ba,setFixed:ca,updateAspectRatio:da,removeAspectRatio:ea,unDock:fa,setDock:ga,updateDock:ha,getDock:ia,canBeStretched:ja,isStretchedToScreen:ka},skin:{get:la,getComponentSkinExports:ma},getRestrictions:na,is:{controlledByParent:oa,fixed:pa,selectable:qa,alignable:ra,container:sa,exist:ta,siteSegment:ua,removable:va,duplicatable:wa,styleCanBeApplied:xa,containable:ya,containableByStructure:za,movable:Aa,horizontallyMovable:Ba,verticallyMovable:Ca,canMoveUp:Da,anchorableFrom:Ea,anchorableTo:Fa,fullWidth:Ga,horizontallyResizable:Ha,verticallyResizable:Ia,proportionallyResizable:Ja,resizeOnlyProportionally:Ka,group:La,groupable:Ma,groupedComponent:Na,topMost:Oa,leftMost:Pa,resizable:Qa,rotatable:Ra,animatable:Sa,focusable:Ta,pinnable:Ua,slidesContainer:Va,slideContainer:Wa,hoverBox:Xa,draggable:Ya,selectedBeforeDescendants:Za,showLegacyFixedPosition:$a,disabledKnobs:_a},behaviors:{update:ab,get:bb,remove:cb,removeAll:db,previewAnimation:eb,stopPreviewAnimation:fb,execute:gb,getRuntimeState:hb},componentModes:{applyCurrentToAllModes:ib,addDefaultSingleModeAnimations:jb,areComponentsOfSameModefulContainer:kb}}}return{create:d}});define("rEditor/app/APISections/leftBarAPI",["lodash","core"],function(a,b){"use strict";function c(c){function d(c,d,e,f,g,h,i){return{panelName:c,panelProps:d,label:e,className:f,symbolName:g,order:a.indexOf(b.constants.LEFT_BAR.SUPER_APPS_ORDER.DESKTOP,c),collapseOnClick:h||false,isButtonOpen:i}}function e(a,b){delete a.notifications[b];c.panelManager.closePanelByName(b)}function f(){var b=a.cloneDeep(c.editor.state.leftBar);b.isCollapsed=true;c.editor.setState({leftBar:b})}function g(){c.leftBar.collapseMenu();c.panelManager.openPanel("addPanelInfra.addPanel")}function h(b,e,f,g,h,i,j,k){var l=d(b,e,f,g,h,j,k);var m=a.cloneDeep(c.editor.state.leftBar);var n=[m.superApps.desktop];if(i){n.push(m.superApps.mobile)}n.forEach(function c(d){var e=a.find(d,{panelName:b});if(e){a.assign(e,l)}else{d.push(l)}});c.editor.setState({leftBar:m})}function i(b){var d=a.cloneDeep(c.editor.state.leftBar);d.superApps.desktop=a.reject(c.editor.state.leftBar.superApps.desktop,{panelName:b});d.superApps.mobile=a.reject(c.editor.state.leftBar.superApps.mobile,{panelName:b});e(d,b);c.editor.setState({leftBar:d})}function j(b,d){var e=a.cloneDeep(c.editor.state.leftBar);e.notifications[b]=d;c.editor.setState({leftBar:e})}function k(a){return c.editor.state.leftBar.notifications[a]}function l(b,d){var e=a.cloneDeep(c.editor.state.leftBar);e.notifications[b]+=d||1;c.editor.setState({leftBar:e})}function m(b,d){var e=a.cloneDeep(c.editor.state.leftBar);e.notifications[b]-=d||1;c.editor.setState({leftBar:e})}return{collapseMenu:f,openAddPanel:g,superApps:{addButton:h,removeButton:i},notifications:{setCount:j,getCount:k,increaseCount:l,decreaseCount:m}}}return{create:c}});define("rEditor/app/APISections/selection",["lodash","core","util","baseUI","experiment"],function(a,b,c,d,e){"use strict";function f(f){var g="compPanels.panels.MultiSelect.layoutPanel";var h=2;var i=d.uiConstants;var j=c.browserUtil;var k=b.utils.mouseCoordinatesHandler;var l=false;var m=false;var n=false;var o=null;function p(b){var c=b&&b.length===1&&b[0];var d=f.editor.state.selectedComponents;var e=d&&d.length===1&&d[0];return f.editor.state.focusedContainer&&!a.isEqual(e,c)&&a.isEqual(c,f.editor.state.focusedContainer)}function q(a,b){var c=t(a);if(p(a)){f.panelManager.closeAllPanelsOfType("compPanelFrame")}r({selectedComponents:a,focusedContainer:c},b)}function r(b,c){var d=a.has(b,"selectedComponents")&&!a.isEqual(b.selectedComponents,f.editor.state.selectedComponents);f.editor.setState(b,function(){var b=f.editor.state.selectedComponents;if(d){var e=f.pluginService.getPlugin("selection","*");if(a.isFunction(e)){e(b)}}if(c){c(b)}})}function s(b,c){var d=c.getContainer(a.head(b));return a(b).tail().every(function(b){return a.isEqual(c.getContainer(b),d)})}function t(b){if(b&&b.length>=2&&!s(b,f.components)){return null}var c=a.head(b);var d=e.isOpen("se_editHoverBox");while(c&&!f.components.is.focusable(c)&&(!d||a.isEmpty(f.components.modes.getModes(c)))){c=f.components.getContainer(c)}return c}function u(a,b){if(_(a)){if(b.button===h){return null}return $(a)}f.closeCompPanelIfExists();return S(a)}function v(b,c){f.closeCompPanelIfExists();var d=f.utils.getParentIfCompCanBeSelected(b);if(d){b=d}var e=c?a.partial(f.openFirstTimePanel,b):a.noop;R(b,e)}function w(b){var c=f.components.getSiblings(b);var d=a.reject(c,function a(b){return f.components.is.siteSegment(b)});return d}function x(a){var b=f.getComponentType(a);return b==="Page"||b==="AppPage"}function y(a){return f.utils.findAncestorMatchesCondition(a,f.components.is.selectedBeforeDescendants)}function z(b){var c=y(b);var d=c?a(c).thru(z).flatten().value():[];return a.compact([c].concat(d))}function A(b,c){function d(a){return c&&f.components.isDescendantOfComp(c,a)}var e=_(b);if(e){return b}var g=z(b);if(g.length===0){return b}var h=a.head(g);var i=a.last(g);var j=d(h);if(j){return b}var k=d(i);if(k){return h}return i}var B=function(){var b="";var c=null;function d(a,b){return[b.clientX,b.clientY,a.timeStamp].join(",")}return{get:function(e,f){if(e.timeStamp){var g=d(e,f);if(g===b){return a.clone(c)}}return null},set:function(a,e,f){if(a.timeStamp){b=d(a,f);c=e}}}}();function C(a){return a.shiftKey||j.isSpecialKeyPressed(a)}function D(c){var d=f.components.getType(c);return a.includes(b.constants.MULTISELECT.SINGLE_SELECTION_COMPONENT_TYPES,d)||f.components.layout.isShowOnFixedPosition(c)}function E(a){l=a}function F(){return l}function G(a){m=!!a}function H(){return m}function I(){return n}function J(b,c){var d={x:b,y:c};var e=f.pages.getReference(f.pages.getFocusedPageId());var g=f.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor",e);return a.filter(g,function(a){var b=f.components.layout.getRelativeToScreenConsideringScroll(a);b.y+=i.ANCHOR_OFFSET_TOP;return d.x>=b.x&&d.x<=b.x+i.ANCHOR_WIDTH&&d.y>=b.y&&d.y<=b.y+i.ANCHOR_HEIGHT})}function K(a,b){var c={x:a,y:b};var d=f.components.get.byXYRelativeToScreen(c.x,c.y,0,f.pages.getFocusedPageId());var e=J(a,b);return e.concat(d)}function L(a){var b=k.fitMouseCoordinatesToViewer(f,a);var c=B.get(a,b);if(!c){c=K(b.clientX,b.clientY);B.set(a,c,b)}return c}function M(b){var c=L(b);if(a.isEmpty(c)){return null}var d=0;var e=c[d];if(e){var g=f.layouters.getParentCompWithOverflowHidden(e);while(f.components.is.group(e)||!f.components.is.selectable(e)||(g?!a.includes(a.map(c,"id"),g.id):false)){d++;e=c[d];g=e?f.layouters.getParentCompWithOverflowHidden(e):null}}else{while(f.components.is.group(e)||!f.components.is.selectable(e)){d++;e=c[d]}}return e||null}function N(b){var c=M(b);var d=a.head(U());if(!c){return null}c=A(c,d);return c}function O(a){var b=N(a);return o&&b?o:b}function P(a){var b=N(a);if(o&&b&&o.id!==b.id){b=o;n=false}else{n=true}var c=_(b);var d=U();var e=a.button!==h;if(!b){$();return}if(C(a)&&!c){u(b,a);aa(null)}else{if(!f.multiselect.isMultiselect(d)){var g=f.components.layout.isShowOnFixedPosition(b);var i;var j=k.fitMouseCoordinatesToViewer(f,a);if(g){i={x:j.clientX,y:j.clientY}}else{var l=f.ui.scroll.getScroll();i={x:j.clientX+l.scrollLeft,y:j.clientY+l.scrollTop}}aa(i)}if(c){E(true);return}v(b,e)}}function Q(a){var b=M(a);b=b&&o?o:b;var c=a.button!==h;if(_(b)){return null}if(C(a)){return u(b)}return v(b,c)}function R(b,d){var e=f.components.asArray(b);e=a.uniqBy(e,"id");if(e.length>30){return}if(e.length>0&&!f.components.is.selectable(e)){return}if(!f.multiselect.canBeSelectedTogether(e)){return}e=a.isEmpty(e)?null:f.multiselect.removeGroupedCompsIfTheirGroupIsInArray(e);var h=a.find(f.panelManager.getOpenPanels(),{name:g});if(a.size(e)<2&&h){f.panelManager.closePanelByName(g)}if(f.components.layout.isPinned(e)){c.keyboardShortcuts.setContext(c.keyboardShortcuts.CONTEXTS.PIN_MODE)}else if(c.keyboardShortcuts.getContext()===c.keyboardShortcuts.CONTEXTS.PIN_MODE){c.keyboardShortcuts.setContext(c.keyboardShortcuts.CONTEXTS.EDITOR)}q(e,d)}function S(a){var c=f.components.asArray(a);var d=U()||[];var e=d.concat(c);if(e.length>1){f.bi.event(b.bi.events.selection.MULTISELECT,{num_of_elements_selected:e.length,selection_method:"keyboard"})}R(e);return d}function T(){var b=U();return!!b&&a.head(b).id}function U(){return f.editor.state.selectedComponents}function V(){return f.editor.state.focusedContainer}function W(a){return t(a)}function X(){var b=U();if(!a.isEmpty(b)){return f.getComponentType(a.head(b))}return null}function Y(){var c=U();var d,e;if(!f.multiselect.containsSiblingsOnly(c)||!_()){d=(c||[]).concat(f.components.getChildren(f.pages.getFocusedPage()))}else if(f.components.is.siteSegment(c)||x(c)){d=f.components.getChildren(c)}else{e=w(c);d=c.concat(e)}if(!a.isEmpty(d)){f.closeCompPanelIfExists();if(d.length>1){f.bi.event(b.bi.events.selection.MULTISELECT,{num_of_elements_selected:d.length,selection_method:"keyboard"})}R(d)}}function Z(){var a=U();if(a){return f.components.data.get(a)}return null}function $(b){if(c.keyboardShortcuts.getContext()===c.keyboardShortcuts.CONTEXTS.PIN_MODE){c.keyboardShortcuts.setContext(c.keyboardShortcuts.CONTEXTS.EDITOR)}var d=!b;var e=f.components.asArray(b);var g=U();var h=a.reject(g,function b(c){return d||a.some(e,c)});R(h)}function _(b){var c=U();if(a.isEmpty(b)){return!!c}var d=f.components.asArray(b);return a.every(d,function b(d){return a.some(c,d)})}function aa(a){r({lastSelectionClickPos:a})}function ba(b,c){var d=L(c);var e=f.pages.getReference(f.pages.getPrimaryPageId());var g=f.siteSegments.getRefs().concat(e);var h=a.findIndex(d,function(b){return a.some(g,b)});if(h===-1){return false}return a.some(b,function(b){return a.some(d,function(c,d){return a.isEqual(b,c)&&d>h})})}function ca(a){o=a}return{isMultiSelectKeyPressed:C,isSingleSelectionComponent:D,setIsMouseUpSelectionEnabled:E,getIsMouseUpSelectionEnabled:F,setIsHiddenComponentDraggedNext:G,isHiddenComponentDraggedNext:H,isComponentExplicitlySelected:I,getAnchorsUnderClick:J,getComponentsByXY:K,getComponentsUnderClick:L,getNonGroupCompUnderCursor:M,getComponentUnderClickToBeSelected:N,getComponentToBeMarkedByHoverBox:O,selectComponentByClick:P,selectNonGroupCompUnderCursor:Q,selectComponentByCompRef:R,addComponentToSelectionByRef:S,getSelectedComponentId:T,getSelectedComponents:U,getFocusedContainer:V,getParentToFocus:W,getSelectedComponentType:X,selectAll:Y,getSelectedComponentData:Z,deselectComponents:$,isComponentSelected:_,setLastSelectionClickPos:aa,isSelectedCompUnderCursorAndBeneathSiteSegment:ba,setModalComponent:ca}}return{create:f}});define("rEditor/app/APISections/databaseEditor",["lodash","experiment"],function(a,b){"use strict";function c(c){function d(a,d,e){c.panelManager.openPanel("compPanels.panels.AppPart2.databaseEditorPanel",{selectedComponentType:e,listId:a,compRef:d,autoSave:!b.isOpen("disableDbEditorAutoSave")})}function e(){c.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"PUBLISH_ERROR_TITLE_LABEL",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["SAVE_PUBLISH_ERROR_OPTION_1","SAVE_PUBLISH_ERROR_OPTION_2"],helpMessage:"SAVE_ERROR_LEARN_MORE_LABEL",helpLinkMessage:"SAVE_PUBLISH_ERROR_LEARN_MORE_LINK",helpLink:"http://www.wix.com/"})}function f(f,g){var h=c.selection.getSelectedComponentType();if(!b.isOpen("disableDbEditorAutoSave")&&c.generalInfo.isFirstSave()){c.saveManager.saveInBackground(c,a.partial(d,f,g,h),e)}else{d(f,g,h)}}return{openDatabaseEditor:f}}return{create:c}});define("rEditor/app/APISections/welcomeScreensWrapper",["lodash","util","core","experiment"],function(a,b,c,d){"use strict";function e(a){return a==="na"}function f(a){var b=a.account.getEditorVersionsInfo();var c=!!b&&b.isEligibleForSwitch;return c&&(a.compatibility.hasOldApp()||a.compatibility.hasAppPage())}function g(a){var b=a.account.getEditorVersionsInfo();var c=window.editorModel.firstSave===false&&b.isEligibleForSwitch===false;return b&&!b.isNewUser&&!c}function h(a,c){var d=a.account.getEditorVersionsInfo();var e=d.isEligibleForSwitch?"START_NOW_CLICK_WITH_BACK_OPTION":"START_NOW_CLICK_WITHOUT_BACK_OPTION";j(a,e,c);b.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","new")}function i(a,c){j(a,"BACK_TO_OLD_EDITOR_CLICK",c);b.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","old");b.windowInteractionUtils.reloadPageWithoutQuestion()}function j(a,b,d){var e=c.bi.events.newEditorWelcomeScreens[b];var f={site_id:a.generalInfo.getSiteId()};if(e.fields.duration){f.duration=Date.now()-d}a.bi.event(e,f)}function k(b){return a(b.components.get.byType("wixapps.integration.components.AppPart2")).map(b.components.data.get).map("appPartName").map(b.wixapps.appbuilder.data.lists.getListVersion).some(function(a){return!a||a==="1.0"})}function l(a){if(!g(a)){return false}var b=a.account.getEditorVersionsInfo();var c=b.userOverride==="new";var d=b.userOverride==="old"&&b.isEligibleForSwitch;return!c&&!d}function m(a){return g(a)&&k(a)}function n(a){a.panelManager.openPanel("panels.focusPanels.newUserIntroVideoPanel",{linkedVideoData:q,title:b.translate("Intro_video_new_user_dialog_title"),subtitle:b.translate("Intro_video_new_user_dialog_sub_heading"),buttonLabel:"Intro_video_new_user_button"})}function o(a){var b=a.account.getEditorVersionsInfo();var c=m(a);a.panelManager.openPanel("panels.focusPanels.newEditorWelcomeScreenPanel",{isEligibleForSwitch:b.isEligibleForSwitch,onNextClick:c?p.bind(this,a):h.bind(this,a,Date.now()),nextBtnLabel:c?"Notification_Box_Next":"Notification_Box_Start_Now",onBackClick:i.bind(this,a,Date.now())})}function p(a){var b=a.account.getEditorVersionsInfo();a.panelManager.openPanel("panels.focusPanels.newEditorListWelcomeScreenPanel",{isEligibleForSwitch:b.isEligibleForSwitch,onNextClick:h.bind(this,a,Date.now()),onBackClick:i.bind(this,a,Date.now())})}var q;function r(a){var c=a.siteName.getUsed();var d=c?c.length===0:true;var f=!!a.getUserPreferences().global.get("didPassNewUserVideoCheck");q=b.translate("Intro_video_new_user_video_link");if(f||e(q)){return false}a.getUserPreferences().global.set("didPassNewUserVideoCheck",true);return d&&!a.getUserPreferences().global.get(u)}function s(a){var b=a.account.getEditorVersionsInfo();var c=a.siteName.getUsed();var d=c?c.length===0:true;var e=b&&b.userOverride!=="old";return e&&!d}function t(a){var b=a.getUserPreferences().global.get("didPassNewFeaturesVideoCheck");if(!d.isOpen("newFeaturesIntroVideo")||b){return false}return!g(a)&&s(a)}var u="didPassCameFromADIVideo";var v;function w(a){v=b.translate("Notification_Box_ADI_Migration_URL");return a.generalInfo.isSiteFromOnBoarding()&&!a.getUserPreferences().global.get(u)&&!e(v)}function x(a){a.getUserPreferences().global.set("didPassNewFeaturesVideoCheck",true);a.panelManager.openPanel("panels.focusPanels.newFeaturesVideoPanel",{linkedVideoData:b.translate("Notification_Box__video_url_EN"),title:b.translate("Notification_Box_New_Editor_Features_Title"),subtitle:b.translate("Notification_Box_New_Editor_Features_Subtitle"),buttonLabel:"Intro_video_new_user_button"})}function y(a){a.getUserPreferences().global.set(u,true);a.panelManager.openPanel("panels.focusPanels.cameFromADIVideoPanel",{linkedVideoData:v,title:b.translate("Notification_Box_ADI_Migration_Title"),subtitle:b.translate("Notification_Box_ADI_Migration_Subtitle"),buttonLabel:"Notification_Box_ADI_Migration_Button"})}function z(c){var d=[{shouldShow:w,show:y},{shouldShow:r,show:n},{shouldShow:t,show:x},{shouldShow:f,show:function(){c.panelManager.openPanel("panels.focusPanels.editorMigrationFailedPanel",{})}},{shouldShow:l,show:o},{shouldShow:m,show:p},{shouldShow:function(){return true},show:a.noop}];var e=b.url.getParameterByName("disableWelcomeScreen")==="true";if(c.wixStores.isSiteInWixStoreTestDrive()||e){return}a.find(d,function(a){return a.shouldShow(c)}).show(c)}return{initWelcomeScreen:z}});define("rEditor/app/APISections/copyPasteWrapper",["lodash","core","experiment","boxSlideshow"],function(a,b,c,d){"use strict";function e(e){var f=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"];var g=d.utils.boxSlideShowUtils;function h(a){var b={compRef:a};if(e.components.canBeMasterChild(a)){var c=g.getSlideShowParent(e,a);var d=g.getSlideShowSlideParent(e,a);if(d){b.originalParent=d;b.originalGrandParent=c;var f=e.components.layout.getRelativeToStructure(a);var h=e.components.layout.getRelativeToStructure(d);b.relativeToParentPosition={x:f.x-h.x,y:f.y-h.y}}}return b}function i(b,c){if(b.originalGrandParent&&e.components.is.slidesContainer(b.originalGrandParent)){var d=e.components.get.byXYRelativeToStructure(c.x,c.y);return!!a.find(d,b.originalGrandParent)}return false}function j(a,b){if(i(a,b)){return g.findCurrentSlide(e,a.originalGrandParent)}return null}function k(b,c){if(i(b,c)){if(!a.isEqual(g.findCurrentSlide(e,b.originalGrandParent),b.originalParent)){return b.relativeToParentPosition}return null}return null}function l(b){if(a.isEmpty(b)){return false}var c=e.isMobileEditor();var d=e.pages.data.get(e.pages.getPrimaryPageId()).isLandingPage;var f=a.some(b.components,"isShowOnAllPages");return!c&&!(d&&f)}function m(b){return a.has(b,"x")&&a.has(b,"y")}function n(b){return a.includes(f,b)}function o(a,b){return[].concat(a[b]||[],a["*"]||[])}function p(b,c,d){var f=e.pages.getFocusedPageId();var g=[];var h=e.components.asArray(a.cloneDeep(b.components));var i=e.siteSegments.getPagesContainer();var l=e.siteSegments.layout.get(i);c=m(c)?c:null;var p=e.pasteLogic.pasteContext.getPastePosition(e,b.snugLayoutRelativeToStructure,f);a.forEach(h,function(b){var h=b.serializedComp;var i=n(h.componentType);var m=e.pages.getReference(i?e.pages.getMasterPageId():f);var r;var s=j(b,p);if(s){var t=e.components.layout.getRelativeToStructure(s);c=c||{};c.x=p.x-t.x;c.y=p.y-t.y;m=s}var u=a.clone(c);var v=a.clone(p);if(!u){if(!i){v.y-=l.y}u=v}else if(i){u.y+=l.y}h.layout.x=u.x+b.positionRelativeToSnug.x;h.layout.y=u.y+b.positionRelativeToSnug.y;if(d){h.layout.x-=h.layout.width/2;h.layout.y-=h.layout.height/2}var w=k(b,p);if(w){h.layout.x=w.x;h.layout.y=w.y}var x=o(e.pasteComponentPlugins,h.componentType);a.forEach(x,function(a){h=a(e,h)});if(e.components.is.containableByStructure(h,m)){r=q(m,h);g.push(r)}});return g}function q(a,b){if(e.addComponentPlugins[b.componentType]){return e.addComponentPlugins[b.componentType](e,a,b)}return e.components.add(a,b,b.id)}function r(a){return e.components.is.duplicatable(a)}function s(b){if(b&&b.length>0){var c=e.components.modes.getFirstAncestorWithActiveModes(a.head(b));var d=a.curry(a.isEqual)(c);if(a(b).tail().map(e.components.modes.getFirstAncestorWithActiveModes).every(d)){return c}}}function t(a){if(a.styleId){a.previousStyleId=a.styleId}}function u(b,d){var f=e.components.layout.getRelativeToStructure(b);var g=e.pages.getFocusedPageId();e.pasteLogic.pasteContext.setPasteData(f,g,e.ui.scroll.getScroll());var i={snugLayoutRelativeToStructure:f,components:a.map(b,function(b){var g=e.components.serialize(b,null,false,d,null,t);var i=e.components.style.getId(b);if(i){g.style=i}if(c.isOpen("layoutTractor")&&e.components.layout.isDocked(b)&&!e.components.layout.isDockedToScreen(b)){delete g.layout.docked}var j=e.components.layout.getRelativeToStructure(b);var k=e.components.getType(b);if(e.copyComponentPlugins[k]){g=e.copyComponentPlugins[k](b,g)}var l=h(b);return a.merge({serializedComp:g,positionRelativeToSnug:{x:j.x-f.x,y:j.y-f.y},isShowOnAllPages:e.components.isShowOnAllPages(b)},l)})};var j=s(b);if(j){i.containerWithModes=j}return i}function v(b){var c=e.pages.getFocusedPageId();var d=e.siteSegments.getPagesContainer();var f=e.siteSegments.layout.get(d);var g=e.ui.scroll.getScroll();return a.map(b,function(a){var b=e.components.serialize(a);z(a,b);var d=y(a,c,g,b.componentType,f);b.layout.x=d.x;b.layout.y=d.y;w(a,b);var h=x(c,b,a,d);return e.components.add(h,b)})}function w(a,b){var c=e.components.getType(a);if(e.copyComponentPlugins[c]){b=e.copyComponentPlugins[c](a,b)}return b}function x(b,c,d,f){var g=n(c.componentType);var i=e.pages.getReference(g?e.pages.getMasterPageId():b);var k=a.merge({serializedComp:c},h(d));var l=j(k,f);if(l){i=l}return i}function y(a,b,c,d,f){var g=e.components.layout.getRelativeToStructure(a).bounding;e.pasteLogic.duplicateContext.setPasteData(g,b,c);var h=e.pasteLogic.duplicateContext.getPastePosition(e,g,b);var i=n(d);if(!i){h.y-=f.y}return h}function z(a,b){var c=e.components.style.getId(a);if(c){b.style=c}}function A(a,c){if(!a){return}var d=e.components.asArray(a);d=e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(d);if(!r(d)){if(e.isMobileEditor()){e.openCantCopyPastePanel()}return}var f=u(d,c);e.clipboard.setItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT,f)}function B(a,c){var d=D();var f=e.editor.state.selectedComponents;var g=e.clipboard.getItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(!l(g)){if(e.isMobileEditor()){e.openCantCopyPastePanel()}return}e.panelManager.closeAllPanels();var h=p(g,a,c);if(!e.editor.state.performingMouseMoveAction){e.waitForChangesApplied(function(){e.selection.selectComponentByCompRef(h,function(){e.openFirstTimePanel(h);if(d){e.editor.setState({applyModeFromClipboardSuggestion:{selectedComponents:h,container:f}})}})})}}function C(){e.editor.setState({applyModeFromClipboardSuggestion:undefined})}function D(){var d=e.clipboard.getItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(c.isOpen("se_editHoverBox")&&d&&d.containerWithModes){var f=e.components;var g=e.editor.state.selectedComponents;if(g&&g.length===1){var h=g[0];if(a.isEqual(h,d.containerWithModes)){var i=f.modes.getModes(h);if(i&&i.length>0){var j=f.modes.getComponentActiveModeIds(h);if(a.size(j)===1){var k=a.keys(j)[0];var l=a(i).reject({modeId:k}).map("modeId").value();return a(d.components).map("compRef").every(function(b){var c=a.some(l,function(a){return f.modes.isComponentDisplayedInModes(b,[a])});return c&&!f.modes.isComponentDisplayedInModes(b,[k])})}}}}}return false}function E(){var a=e.editor.state.applyModeFromClipboardSuggestion.container;e.components.remove(e.editor.state.applyModeFromClipboardSuggestion.selectedComponents);e.waitForChangesApplied(function(){e.copyPaste.applyModeFromClipboard(a)})}function F(c){var d=e.clipboard.getItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);var f=a.map(d.components,function(a){return{compRef:a.compRef,compDefinition:a.serializedComp}});if(c&&c.length===1){var g=e.components;var h=c[0];if(a.isEqual(h,d.containerWithModes)){var i=g.modes.getModes(h);if(i&&i.length>0){var j=g.modes.getComponentActiveModeIds(h);if(a.size(j)===1){var k=a.keys(j)[0];g.modes.applyComponentToMode(f,k);var l=a.map(f,"compRef");e.waitForChangesApplied(function(){e.selection.selectComponentByCompRef(l)})}}}}e.history.add("apply mode from clipboard");e.tabIndicationState.activateApplyAnimation(true)}function G(b){if(a.isEmpty(b)){return[]}e.panelManager.closeAllPanels();var c=e.selection.getSelectedComponents();var d=e.components.asArray(b);var f=e.components.getType(c);if(e.duplicatePlugins[f]){return e.duplicatePlugins[f](c)}c=e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(c);d=e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(d);var g=e.components.getContainer(b);if(!e.components.is.duplicatable(d,g)){return[]}if(a.isEqual(d,c)){e.selection.deselectComponents()}var h=v(d);e.waitForChangesApplied(function(){var a=e.openFirstTimePanel.bind(e,h);e.selection.selectComponentByCompRef(h,a)});return h}return{copy:A,paste:B,hideApplyModeFromClipboardSuggestion:C,canApplyModeFromClipboard:D,removePastedComponentAndApplyModeFromClipboard:E,applyModeFromClipboard:F,duplicate:G}}return{create:e}});define("rEditor/app/APISections/wixStoresFlowAPI",["lodash","util"],function(a,b){"use strict";function c(){return{isSiteInWixStoreTestDrive:function(){return a.includes(b.editorModel.metaSiteFlags,"EComTestDrive")}}}return{create:c}});define("rEditor/app/APISections/editorUI",[],function(){"use strict";function a(a){function b(){return a.editor.getScroll()}function c(b){return a.editor.setScroll(b)}function d(b,c,d){a.editor.animateScroll(b,c,d)}function e(b){return a.editor.addScrollListener(b)}function f(b){return a.editor.removeScrollListener(b)}function g(){return a.editor.getEditingAreaLayout()}function h(){a.editor.setFocus()}return{scroll:{getScroll:b,setScroll:c,animateScroll:d,addListener:e,removeListener:f},stage:{getEditingAreaLayout:g},focus:{setOnEditor:h}}}return{create:a}});define("rEditor/app/APISections/wixCode",["lodash","util","core"],function(a,b,c){"use strict";function d(d){var e="wixCodeLoaded";function f(){return d.editor.state[e]}function g(){d.toggleEditorStateParam(e,true)}function h(b){function c(c){var e=d.data.createItem("DynamicPageLink");a.assign(e,{innerRoute:c.innerRoute||"/",routerId:c.routerId});d.pages.navigateTo(e,b)}var e=d.routers.getCurrentInnerRoute();if(e&&e.isDynamic){if(!e.innerRoute){d.routers.getRouterInnerRoutes(e.routerId,d.pages.getPrimaryPageId(),function(b){e.innerRoute=a.isEmpty(b)?"":b[0].url;c(e)});return}c(e);return}b()}function i(c){var e={loggedInUserId:b.editorModel.permissionsInfo.loggedInUserId};var f=a.assign({},e,c);return d.documentServices.wixCode.log.trace(f)}function j(a,b){var e="previewingStatus";if(d.wixCode.isLoaded()){i();d.toggleEditorStateParam(e,c.constants.PROGRESS_STATUS.IN_PROGRESS);d.wixCode.fileSystem.flush().then(function(){h(function(){g();k()})}).catch(function(){f();k()})}else{g()}function f(){d.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"WixCode_PreviewSaveFail_Title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",stepsTitle:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION_BOLD",steps:["SAVE_PUBLISH_ERROR_OPTION_1","WixCode_PreviewSaveFail_Step2_Text","WixCode_DeveloperModeFail_Step3_Text"],helpMessage:"WixCode_PreviewSaveFail_Learn_More_Label",helpLinkMessage:"WixCode_PreviewSaveFail_Learn_More_Link",helpLink:"",errorCode:"1234"});j()}function g(){j();b()}function i(){if(!a.areActionsLocked){a.lockActions()}}function j(){a.unlockActions()}function k(){d.toggleEditorStateParam(e,c.constants.PROGRESS_STATUS.IDLE)}}return{isLoaded:f,setLoaded:g,log:{trace:i},flushBeforePreview:j}}return{create:d}});define("rEditor/app/APISections/columns",["lodash"],function(a){"use strict";function b(b){var c="compPanels.panels.StripColumnsContainer.managePanel";var d=5;var e=a.times(d,function(){return 1});var f={LEFT:0,CENTER:50,RIGHT:100};var g={BoxSlideShow:true,StripContainerSlideShow:true};var h={background:{type:"BackgroundMedia",mediaRef:null,alignType:"center",fittingType:"fill",color:"#FFFFFF",colorOpacity:0,colorOverlay:"",colorOverlayOpacity:1,imageOverlay:""}};var i=false;function j(c){c.components=a.reject(c.components,b.components.is.fullWidthByStructure);a.forEach(c.components,j);return c}function k(b){var c=a.sum(b);return a.map(b,function(a){return 100*a/c})}function l(c){var d=b.components.getChildren(c);return a(d).keyBy("id").mapValues(b.components.layout.get).mapValues("width").value()}function m(b){var c=a.sum(b);var d=980/c;return a.map(b,function(a){return a*d})}function n(c,d,e){var f=p(c);var g=b.components.getChildren(c);var h=true;d=m(d);a.forEach(g,function(a,c){b.components.layout.update(a,{width:d[c]},h)});var i=k(d);D(g,f,i);if(!e){b.history.add("Change Columns Proportions")}}function o(c,d,e){if(!a.isUndefined(d)){b.components.arrangement.moveToIndex(c,d,e)}}function p(c){var d=b.components.getChildren(c);var e=a(d).map(b.components.layout.get).map("width").value();return k(e)}function q(a,c){if(b.components.getChildren(a).length===d){n(a,e,c)}}function r(a){var b=p(a);var c=b.reverse();n(a,c)}function s(c){var e=a(c).thru(b.components.serialize).thru(j).value();var f=b.components.getContainer(c);var g=b.components.getChildren(f);if(g.length===d||i){return}i=true;var h=a.findIndex(g,c)+1;var l=p(f);l.splice(h,0,l[h-1]);var m=k(l);var n=b.components.add(f,e);b.waitForChangesApplied(function(){var a=true;o(n,h,a);q(f,true);var c=b.components.getChildren(f);D(c,l,m);i=false;b.waitForChangesApplied(function(){b.history.add("added column")})});return n}function t(c){var e=b.components.getChildren(c);var f=a.last(e);if(e.length===d){return}return s(f)}function u(a,c){b.components.properties.update(a,{alignment:c})}function v(a){return b.components.properties.get(a).alignment}function w(a){b.components.arrangement.moveBackward(a)}function x(a){b.components.arrangement.moveForward(a)}function y(a){return b.components.getChildren(a).length<d}function z(a){var c=b.getComponentType(a);return!!g[c]}function A(c){var d=b.components.getChildren(c);return a(d).reject(z).flatMap(A).union(d).value()}function B(a,c,d,e){var g=b.components.layout.getRelativeToStructure(c);var h=g.x-a.x;var i=g.width;var j=b.components.is.resizable(c);var k=j?i*d:i;var l={width:k};if(b.components.is.group(c)){return}if(e===f.LEFT){l.x=h*d}else if(e===f.CENTER){var m=h+i/2;var n=m*d;l.x=n-k/2}else{var o=h+i;var p=o*d;l.x=p-k}l.x+=a.x;var q=true;b.components.layout.updateRelativeToStructure(c,l,q)}function C(a,b,c){var d=a[c];var e=b[c];return d&&e?d/e:null}function D(c,d,e){a.forEach(c,function(c,f){var g=C(e,d,f);if(g){var h=A(c);var i=b.components.properties.get(c).alignment;var j=b.components.layout.getRelativeToStructure(c);a.forEach(h,function(a){B(j,a,g,i)})}})}function E(c,d,e,f){var g=f||a.partial(b.documentServices.components.remove,c,e);var i=b.components.getContainer(c);var j=b.components.getChildren(i);var k=l(i);g();b.waitForChangesApplied(function(){var c=l(i);a.forEach(c,function(c,d){var e=c/k[d];var f=a.find(j,{id:d});var g=A(f);var h=b.components.properties.get(f).alignment;var i=b.components.layout.getRelativeToStructure(f);a.forEach(g,function(a){B(i,a,e,h)})});if(a.keys(c).length===1){b.components.design.update(i,h,undefined,true)}})}function F(a){var c=b.components.getChildren(a);return c.length===1}function G(a){return!F(a)}function H(a){return b.components.getType(a)==="wysiwyg.viewer.components.Column"}function I(a,c){b.editor.setState({managedColumnPointer:a},c)}function J(){var a=b.editor.state.managedColumnPointer;return a&&b.components.is.exist(a)?a:null}function K(d,e){if(a.isArray(e)){e=a.head(e)}e=e||a(d).thru(b.components.getChildren).head();b.columns.manage.setManagedColumn(e,function(){b.selection.selectComponentByCompRef(d,function(){b.panelManager.openComponentPanel(c,{selectedComponent:d})})})}function L(){b.columns.manage.setManagedColumn(null,function(){b.panelManager.closePanelByName(c)})}return{isColumn:H,isMultiColumnsStrip:G,isSingleColumnStrip:F,addColumn:t,duplicateColumn:s,removeColumn:E,canAdd:y,proportions:{set:n,get:p,flip:r,toPercentages:k},columnAlignment:{set:u,get:v},move:{left:w,right:x},manage:{setManagedColumn:I,getManagedColumn:J,openPanel:K,closePanel:L}}}return{create:b}});define("rEditor/app/APISections/pagesWrapper",["lodash","core","util","rEditor/utils/removeUtil","rEditor/app/updateOperationsPlugins","platform","pLoader!santa:utils"],function(a,b,c,d,e,f,g){"use strict";function h(h){function i(a,b){k(a,b);j()}function j(){if(!h.getPreviewMode()){h.shouldUpdateEditorScrollAfterHeightUpdate=true;h.applyPreviewScrollToEditorScroll()}}function k(b,d){c.keyboardShortcuts.enable();a(h.pageNavigationCallbacks).concat(d).compact().forEach(function(a){a(b)})}function l(b){var c=a(f.constants.pages.page_actions).mapKeys("title").mapValues("icon").value();return c&&b?c[b]:null}function m(b,d){return a.reduce(b,function(b,e){if(a.isObject(e)){b.push(a.assign(e,{type:d,event:e.event||e.title}));return b}var f=l(e);b.push({
title:c.translate(e),event:e,type:d,icon:f});return b},[])}function n(c){var d=c.style;if(a.isObject(c.style)){d=b.styleManager.getStyleIdByDef(h.theme,h.components,c.style,c.componentType)}if(d){c.style=d}a.forEach(c.components,function(a){n(a)})}function o(){var b=["type","name"];var c=h.actions.getDefinition("load");var d=h.behaviors.getDefinition("openPopup");return{action:a.pick(c,b),behavior:a.pick(d,b)}}function p(b,c){var d=b.pages.data.get(c);return a.get(d,"title")||""}function q(a){return a==="dataBinding"?c.translate("DYNAMIC_PAGES_APP_TYPE_DATA_BINDING"):c.translate("DYNAMIC_PAGES_APP_TYPE_CUSTOM_ROUTER")}function r(a){return a==="dataBinding"?b.constants.ROUTER_TYPES.DATA_BINDING:b.constants.ROUTER_TYPES.CUSTOM_ROUTER}function s(a,b){if(b){b.data.pageUriSEO=h.pages.data.pageUriSEO.getValid("",b.data.pageUriSEO)}return h.documentServices.pages.add(a,b)}function t(a,d,e){h.selection.deselectComponents();c.keyboardShortcuts.disable();h.documentServices.pages.navigateTo(a);h.documentServices.waitForChangesApplied(function(){var a=h.documentServices.pages.getFocusedPageId();i(a,d)});if(e){return}h.developerMode.setContext(h.developerMode.createContext(b.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))}function u(c,d,e){h.selection.deselectComponents();h.documentServices.pages.navigateToAndScroll(c,d,j);h.documentServices.waitForChangesApplied(a.partial(i,c,e));h.developerMode.setContext(h.developerMode.createContext(b.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))}function v(){if(!h.documentServices){return null}var a=h.documentServices;var b=a.pages.getCurrentUrlPageId();return p(a,b)}function w(a){return p(h.documentServices,a)}function x(a,b,c,e){h.selection.deselectComponents();d.removePage(h,h.documentServices,h.removePlugins,a,b,c,e)}function y(a,b){var c=h.homePage.get();var d;if(c===a){d=h.mainMenu.getFirstNonHomePageMenuItem();if(d){h.homePage.set(d.pageData.id);c=d.pageData.id.replace(/^#/,"")}}h.documentServices.pages.navigateTo(c,b)}function z(a){return h.pages.doesPageExist(a)}function A(a){return a===h.homePage.get()}function B(a,b){var c=h.documentServices.pages.serialize(a,true);if(b){n(c)}return c}function C(a,c){if(c.isLandingPage){h.selection.deselectComponents()}if(c.pageUriSEO){c.pageUriSEO=h.pages.data.pageUriSEO.getValid(a,c.pageUriSEO)}c=b.utils.updateDataUtil.fixData(c);h.documentServices.pages.data.update(a,c);h.waitForChangesApplied(function(){e.updatePagePlugins.run(h,a)})}function D(a,c,d){c=b.utils.updateDataUtil.fixData(c);h.documentServices.pages.background.update(a,c,d)}function E(a){h.documentServices.pages.transitions.set(a);h.history.add("page transition")}function F(){h.hideFloatingBubble();var a=h.documentServices.pages.getPrimaryPageId();h.pages.navigateTo(a)}function G(){var a=h.pages.popupPages.getCurrentPopupId();return h.components.get.byId(a)}function H(){var a=h.documentServices.pages.popupPages.getCurrentPopupId();return h.pages.data.get(a)}function I(b){b=b||h.documentServices.pages.popupPages.getCurrentPopupId();var c=h.documentServices.components.get.byId(b);return a.head(h.documentServices.components.get.byType(g.constants.POPUP.POPUP_CONTAINER.COMPONENT_TYPE,c))}function J(){var b=o();return a(h.pages.getPageIdList(true)).map(a.ary(h.components.get.byId,1)).flatMap(a.ary(h.behaviors.get,1)).filter(b).map(function(a){return{pageId:a.action.sourceId,popupId:a.behavior.targetId,params:a.behavior.params}}).value()}function K(b){return a.filter(h.pages.popupPages.getOpenBehaviorsForPopups(),{popupId:b})}function L(){return a.sortBy(h.documentServices.pages.popupPages.getDataList(),"id")}function M(){if(!h.pages.popupPages.isPopupOpened()){return false}var a=h.components.properties.get(h.pages.popupPages.getPopupContainer());return a&&a.alignmentType==="fullWidth"}function N(){function b(a,b){return{id:b.id,label:b.title,type:{isPage:true,isDynamicPage:true,routerType:a},isVisible:true,isVisibleMobile:true,pageData:b}}var d=h.routers.pages.getDynamicPagesList();var e=[];a.forEach(d,function(d,f){var g=q(d.appDefinitionId);var h=r(d.appDefinitionId);var i={id:"router_"+f,isRoot:true,isVisible:true,isVisibleMobile:true,label:a.upperFirst(d.prefix)+" "+c.translate("DYNAMIC_PAGES_ROUTER_PAGES")+" ("+g+")",prefix:d.prefix,routerType:h,type:{isRouter:true},items:a.map(d.pages,a.partial(b,h))};e.push(i)});return e}function O(a){var b=h.documentServices.routers.getRouterDataForPageIfExist(a);if(!b){return""}return q(b.appDefinitionId)}function P(a,b){var c=h.documentServices;var d=c.pages.getReference(a);if(!d){return[]}var e=c.routers.getRouterRef.byPage(d);if(!e){return[]}var f=c.routers.get.byRef(e);var g=h.platform.routers.getDataFromRoutersAppManifest(f.appDefinitionId,b);var i=m(g,b);return i?i:[]}function Q(b){var c=h.documentServices;var d=c.routers.getRouterRef.byPrefix(b);var e=c.routers.get.byRef(d);var f=h.platform.routers.getDataFromRoutersAppManifest(e.appDefinitionId,"routerActions");if(!a.isEmpty(e.pages)){return f?a.reject(f,{event:"removeRouterClicked"}):[]}return f?f:[]}return{add:s,navigateTo:t,navigateToAndScroll:u,getCurrentUrlPageTitle:v,getPageTitle:w,remove:x,beforePageRemoveHook:y,isPageExist:z,isHomePage:A,serialize:B,data:{update:C},background:{update:D},transitions:{set:E},popupPages:{close:F,getCurrentPopup:G,getCurrentPopupData:H,getPopupContainer:I,getOpenBehaviorsForPopups:J,getOpenBehaviorsForPopupWithId:K,getDataListOrdered:L,isFullWidthPopupOpened:M},dynamicPages:{getMenuItems:N,getRouterPageType:O,getDynamicPageOptions:P,getRouterActionOptions:Q}}}return{create:h}});define("rEditor/app/APISections/layoutersWrapper",["rEditor/utils/multiSelectHandler"],function(a){"use strict";function b(b){function c(c){return a.call(b,c,{multiCompHandler:b.multiselect.getNonMasterChildren,singleCompHandler:b.documentServices.layouters.getNonMasterChildren})}function d(c){return a.call(b,c,{multiCompHandler:b.multiselect.getParentCompWithOverflowHidden,singleCompHandler:b.documentServices.layouters.getParentCompWithOverflowHidden})}return{getNonMasterChildren:c,getParentCompWithOverflowHidden:d}}return{create:b}});define("rEditor/app/APISections/platformWrapper",["lodash","platform","editorEventRegistry"],function(a,b,c){"use strict";function d(d){function e(b,c){var e=d.platform.getAppManifest(b);return a.get(e,c)}function f(){if(d.wixCode.isProvisioned()){var a=d.wixCode.fileSystem;var b=a.getVirtualDescriptor(a.getRoots().schemas.location,true);a.getChildren(b).then(function(a){if(a.length>0){d.toggleEditorStateParam("hasDatabaseCollections",true)}})}}function g(c){var f=d.components.data.get(c);var g=f.applicationId;var h=f.controllerType;var i=d.platform.controllers.getState(c);var j=e(g,["controllersStageData",h,i]);if(i===b.constants.controller.DEFAULT_STATE){return j}var k=e(g,["controllersStageData",h,b.constants.controller.DEFAULT_STATE]);return a.defaults({},j,k)}c.register(c.constants.events.PREVIEW_READY,f);return{controllers:{getControllerTypeDisplayName:function(b){return a.get(g(b),"controllerTypeDisplayName")}},routers:{getDataFromRoutersAppManifest:function(a,b){return e(a,["routers",b,"default"])||[]}}}}return{create:d}});define("rEditor/app/APISections/pinModeWrapper",["lodash","baseUI","constants","util"],function(a,b,c,d){"use strict";function e(e){var f={default:{panelName:"compPanels.dynamicPanels.pinnedDockPanel",open:function(){e.blockingLayer.show();e.editorControls.hide()},close:function(){e.hideComponentPreviewRect();e.blockingLayer.hide();e.editorControls.show()}},PopupContainer:{panelName:c.COMP_PANELS.POPUP.CONTAINER.POPUP_GRID_LAYOUT_PANEL.NAME,open:function(){e.blockingPopupLayer.show();e.editorControls.hide()},close:function(){e.hideComponentPreviewRect();e.blockingPopupLayer.hide();e.editorControls.show()}}};function g(b){return a.get(f,a.has(f,b)?b:"default")}function h(b){return a.get(g(b),"panelName")}function i(b,c){var d=a.get(g(b),c);if(d){d()}}function j(d,f){var g=e.editor.editorAPI.selection.getSelectedComponentType();b.tooltipManager.hide(c.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE);f=a.assign({origin:d,selectedComponents:e.editor.state.selectedComponents},f);e.panelManager.openComponentPanel(h(g),f);i(g,"open")}function k(){if(n()){var a=e.editor.state.pinnedCompType;e.panelManager.closePanelByName(h(a));i(a,"close")}}function l(){k();m()}function m(){if(!e.getPreviewMode()){e.waitForChangesApplied(function(){var b=e.components.layout.getDock(e.editor.state.selectedComponents);if(!a.isUndefined(b)){var c=d.pinModeUtils.getDockedDirection(b);var f=e.components.layout.get(e.editor.state.selectedComponents);if(d.pinModeUtils.checkSizeRestrictions(c,f)){e.openPinModeSizeRestrictionPanel({state:"on pin",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}}})}}function n(){return Boolean(e.editor.state.pinnedCompType)}function o(){return e.editor.state.pinnedCompType}return{open:j,close:k,closeAndCheckSizeRestrictions:l,checkSizeRestrictionsAndShowPopup:m,isOpened:n,getPinnedCompType:o}}return{create:e}});define("rEditor/app/APISections/promotionsWrapper",["jquery","lodash","core","util","staticAssets","experiment"],function(a,b,c,d,e,f){"use strict";function g(g){var h=d.serviceTopology.wixStoresMigrationServiceUrl.replace(/ecommerce-migration-web\//,"bi-profile-server/userprofile")||"http://editor.wix.com/_api/wix-bi-profile-server/userprofile";var i;function j(c){var d=h+"?fields=post_reg_category,post_reg_sub_category&accept=json";a.ajax(d).complete(function(a,d){if(d==="success"){var e=a.responseJSON;var f=e.payload&&e.payload.fields;var g=b.find(f,{name:"post_reg_category"});c(b.get(g,"value")||"")}else{c("")}})}function k(a){var c=b.template("panels/focusPanels/<%= promotionName %>PromotionPopup.png");var f=b.template("panels/focusPanels/<%= promotionName %>PromotionPopupRetina.png");var g=d.browserUtil.getDevicePixelRatio();if(g>=2){return d.media.getMediaUrl(e.staticAssetsMap[f({promotionName:a})])}return d.media.getMediaUrl(e.staticAssetsMap[c({promotionName:a})])}function l(){if(f.isOpen("musicPromotionFixed")||f.isOpen("musicPromotionRotation")){var a=g.promotions.music;g.tpa.app.registerOnInstalled(c.constants.MUSIC_PROMO.APP_DEFINITION_ID,a.displayPopup);if(a.isActive()){a.displayPopup()}}}function m(){if(!g.userPreferences.session.get("photo-promo-popup-displayed")){g.userPreferences.session.set("photo-promo-popup-displayed",true);g.promotions.photography.displayPopup()}}function n(){if(f.isOpen("photographyPromotionFixed")||f.isOpen("photographyPromotionRotation")){b.forEach(c.constants.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,function(a){g.tpa.app.registerOnInstalled(a,m)})}}function o(){j(function(a){i=a.toLowerCase();l();n()})}function p(){if(f.isOpen("musicPromotionFixed")||f.isOpen("musicPromotionRotation")){var a=g.generalInfo.getSiteOriginalTemplateId();var d=b.includes(c.constants.MUSIC_PROMO.TEMPLATE_IDS,a);var e=g.tpa.app.isInstalled(c.constants.MUSIC_PROMO.APP_DEFINITION_ID);return d||e||b.includes(i,"music")}return false}function q(){g.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"music-promo-popup",headerFirstLineText:"MUSIC_PROMOTION_HEADER_2",imageSrc:k("music"),bodyText:"MUSIC_PROMOTION_BODY_LINE1",bodyLinkText:"MUSIC_PROMOTION_BODY_B4_ENDS",bodyBottomText:"MUSIC_PROMOTION_BODY_EASY",actionText:"MUSIC_PROMOTION_BUTTON_SUBMIT",actionUrl:"MUSIC_PROMOTION_BUTTON_SUBMIT_URL",biEvent:c.bi.events.musicPromotionPopup.submit_video_clicked})}function r(){if(f.isOpen("photographyPromotionFixed")||f.isOpen("photographyPromotionRotation")){var a=g.generalInfo.getSiteOriginalTemplateId().toUpperCase();var d=b.includes(c.constants.PHOTOGRAPHY_PROMO.TEMPLATE_IDS,a);var e=b.some(c.constants.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,b.bind(g.tpa.app.isInstalled,g));var h=b.includes(i,"photography")||b.includes(i,"design");return d||e||h}return false}function s(){g.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"photo-promo-popup",headerFirstLineText:"PHOTO_PROMO_POP_HEADER1",headerSecondLineText:"PHOTO_PROMO_POP_HEADER2",imageSrc:k("photo"),bodyText:"PHOTO_PROMO_POP_TEXT1",isImageLinkActive:false,actionText:"PHOTO_PROMO_POP_BUTTON_TEXT",actionUrl:"PHOTO_PROMO_POP_BUTTON_URL",biEvent:c.bi.events.photographyPromotionPopup.submit_video_clicked})}return{initPromotions:o,music:{isActive:p,displayPopup:q},photography:{isActive:r,displayPopup:s}}}return{create:g}});define("rEditor/app/APISections/togglePreviewWrapper",["lodash","reactDOM","baseUI","constants","util","experiment"],function(a,b,c,d,e,f){"use strict";function g(g){function h(c){var d=b.findDOMNode(a.get(c.refs,"editorView.refs.preview"));var e=a.get(d,"contentWindow",{});if(e.selection){e.selection.empty()}else if(e.getSelection){e.getSelection().removeAllRanges()}}function i(a){h(g.editor);c.tooltipManager.hide(d.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE);g.panelManager.closeAllPanels();g.selection.deselectComponents();e.keyboardShortcuts.setContext(e.keyboardShortcuts.CONTEXTS.PREVIEW);j(a)}function j(b){g.goToPreviewCallbacks=g.goToPreviewCallbacks||[];var c=g.goToPreviewCallbacks.concat(b||[]);g.editor.setState({previewMode:true,contextMenu:null},function(){g.waitForChangesApplied(g.actions.executeAnimationsInPage);a.forEach(c,function(a){a()})})}function k(a){var b=!g.editor.state.previewMode;g.prepareDocumentForPreviewMode(b);g.setRenderPlugins(b,g.isMobileEditor());if(b){i(a)}else{l(a)}}function l(){if(f.isOpen("se_editHoverBox")){g.documentServices.components.modes.resetAllActiveModes()}g.editor.setState({previewMode:false},function(){g.applyPreviewScrollToEditorScroll();g.shouldUpdateEditorScrollAfterHeightUpdate=true;g.hideFloatingBubble();e.keyboardShortcuts.setContext(e.keyboardShortcuts.CONTEXTS.EDITOR)})}function m(b){if(!a.isArray(g.goToPreviewCallbacks)){g.goToPreviewCallbacks=[]}g.goToPreviewCallbacks.push(b)}function n(b){var c=!g.editor.state.previewMode;if(c&&f.isOpen("se_platform1")){g.wixCode.flushBeforePreview(g.editor.refs.editorView.refs.topbar,a.partial(k,b))}else{k(b)}}function o(){return!!g.editor.state.previewMode}return{registerToGoToPreview:m,togglePreview:n,isInPreviewMode:o}}return{create:g}});define("rEditor/app/APISections/account",["lodash","jquery","util","core","rEditor/bi/bi"],function(a,b,c,d,e){"use strict";function f(f){var g=c.serviceTopology.dashboardUrl.replace(/create\//,"")+"/";var h="1480c568-5cbd-9392-5604-1148f5faffa0";var i={};var j="https://www."+c.serviceTopology.serverName+"/_api/wix-laboratory-server/laboratory/conductAllInScope?scope=my-account";var k="specs.wos.OpenNewSEOWizard";function l(){var a=c.editorModel.permissionsInfo;return a&&a.ownerId===a.loggedInUserId}function m(){return!f.account.isUserOwner()}function n(b,c){var d=f.generalInfo.isFirstSave();c=a.isBoolean(c)?c:!f.generalInfo.isSitePublished();var e=f.site.isPremium();f.panelManager.openPanel("savePublish.panels.connectDomain",{isFirstSave:d,isFirstPublish:c,isPremium:e,title:"PREMIUM_PUBLISH_TITLE",subtitle:e?"PREMIUM_PUBLISH_SUBTITLE":"CONNECT_DOMAIN_DIALOG_FREE_SUBTITLE",flowId:b},true)}function o(a,b){var c="49cebc11-f15c-4cf8-82d9-2c36c5397520";f.panelManager.openPanel("rEditor.panels.siteSettingsPanel",{helpId:c,tab:a,referrer:b})}function p(){var a=!!f.userPreferences.site.get(d.constants.USER_PREFS.SITE_REVISIONS.SITE_HISTORY_DONT_SHOW_AGAIN);if(a){r()}else{f.panelManager.openPanel("panels.messagePanels.siteRevisionsPanel",{onButtonClick:function(a){if(a){f.account.openSiteHistory()}}})}}function q(){var a=f.documentServices.generalInfo.getMetaSiteId();window.open(g+"sites/"+a+"/?referralInfo=EDITOR")}function r(){var a=f.documentServices.generalInfo.getMetaSiteId();window.open(g+"history/"+a+"/?forceHttp&referralInfo=EDITOR")}function s(a){var b=a.replace(/edhtml_/,"")||"unknown";f.bi.event(e.events.UPGRADE_EVENT,{origin:b});var d=f.documentServices.generalInfo.getMetaSiteId();var g=a?"referralAdditionalInfo="+a:"";var h=c.serviceTopology.premiumServerUrl||"https://premium.wix.com";h+="/wix/api/premiumStart?"+g+"&siteGuid="+d;window.open(h)}function t(){return window.editorVersionsInfo||null}function u(){var a=f.documentServices.generalInfo.getMetaSiteId();return g+"sites/"+a+"/app/"+h+"?app=seo"}function v(){window.open(f.account.getWixSEOWizURL(),"_blank")}function w(){b.ajax({url:j,xhrFields:{withCredentials:true},success:function(a){i=a}})}function x(){return i[k]==="true"}return{isUserOwner:l,isUserContributor:m,openConnectDomain:n,openSettings:o,openRevisions:p,manage:q,openSiteHistory:r,upgrade:s,getEditorVersionsInfo:t,getWixSEOWizURL:u,openWixSEOWiz:v,initMyAccountExperiments:w,isWixSEOWizExperimentOpen:x}}return{create:f}});define("rEditor/app/pluginService",["lodash"],function(a){"use strict";var b={};var c={DOUBLE_CLICK:"doubleClick"};var d=function(c,d,e){a.set(b,[c,d],e)};var e=function(c,d){return a.get(b,[c,d])};return{pluginConstants:c,registerPlugin:d,getPlugin:e}});define("rEditor/app/updateThemePlugins/tinyMenu",["lodash"],function(a){"use strict";return function(b,c){if(!c||!c.style||!c.style.properties){return}var d=c.style.properties;var e=c.style.propertiesSource;var f=d["alpha-txt"];if(!a.isUndefined(f)){if(a.isUndefined(d["alpha-iconcolor"])){d["alpha-iconcolor"]=f}if(a.isUndefined(d["alpha-bordercolor"])){d["alpha-bordercolor"]=f}}delete d["alpha-txt"];delete d["alpha-txts"];if(e){var g=e["alpha-txt"];e["alpha-iconcolor"]=e["alpha-iconcolor"]||g;e["alpha-bordercolor"]=e["alpha-bordercolor"]||g;delete e["alpha-txt"];delete e["alpha-txts"]}}});define("rEditor/app/updateThemePlugins/designDataThemeChangeHandler",["lodash","util"],function(a,b){"use strict";function c(c,d){var e=d.values;if(d.type==="COLOR"){a(c.components.getAllComponents()).reduce(function(a,b){var d=c.components.design.get(b);if(d){a.push({pointer:b,data:d})}return a},[]).forEach(function(a){var d=a.data;b.designData.updateThemeColors(d,e);c.components.design.update(a.pointer,d,true)})}}return c});define("rEditor/app/updateThemePlugins",["lodash","rEditor/app/updateThemePlugins/tinyMenu","rEditor/app/updateThemePlugins/designDataThemeChangeHandler"],function(a,b,c){"use strict";var d={"wysiwyg.viewer.skins.mobile.TinyMenuSkin":b};function e(a,b){var c=d[b.skin];if(c){c(a,b)}}return{register:function(b){b.theme.styles.registerHook(e);var d=a.bind(c,{},b);b.theme.events.onChange.addListener(d)}}});define("rEditor/app/tooltipTextService",["lodash"],function(a){"use strict";var b={};function c(c,d,e){if(a.isUndefined(b[c])){b[c]={}}b[c][d]=e}function d(a,c){if(b[a]){return b[a][c]||null}return null}function e(a){var b=this.selection.getSelectedComponents();return this.tooltipTextService.getComponentTooltipText(b,a)}function f(a,b){var c=this.components.getType(a);return this.tooltipTextService.getTooltipText(c,b)}function g(){b={}}return{registerTooltipText:c,getTooltipText:d,getSelectedComponentTooltipText:e,getComponentTooltipText:f,clearAllToolTipsText:g}});define("rEditor/pasteLogic/pasteLogicCalculations",[],function(){"use strict";var a={xOffset:40,yOffset:30,newStackOffset:{x:60,y:40},bottomThreshold:80,rightThreshold:80};function b(b){return{x:b.x+a.xOffset,y:b.y+a.yOffset}}function c(b){return{x:b.x+a.newStackOffset.x,y:b.y-a.newStackOffset.y}}function d(b,c,d){var e=a.rightThreshold;var f=a.bottomThreshold;if(d){e=0;f=0}return c.x+e>b.rightX||c.y+f>b.stageLayout.bottom+b.scrollTop}function e(a,b,c){var d=a.siteSegments.getPagesContainer();var e=a.siteSegments.layout.get(d);return{x:(e.width-c.width)/2,y:(b.stageLayout.height-c.height)/2+b.scrollTop-e.y}}function f(a,b,c){var d=a.siteSegments.getPagesContainer();var e=a.siteSegments.layout.get(d);return c.y>e.height+b.stageLayout.top}function g(b,c){return c.y>=b.stageLayout.top&&c.y+a.bottomThreshold<=b.stageLayout.bottom-b.stageLayout.top+b.scrollTop}return{getNextComponentPosition:b,getNewStackComponentPosition:c,cannotFitIntoViewPort:d,getCenteredCompPosition:e,isComponentInViewPort:g,cannotFitIntoPageHeight:f}});define("rEditor/pasteLogic/ComponentPasteLogic",["lodash","core","rEditor/pasteLogic/pasteLogicCalculations"],function(a,b,c){"use strict";function d(){return a.isEmpty(this.firstCompPosition)}function e(a){return a!==this.lastCompPage}function f(a,b,d){return this.centerOnFirstPaste||e.call(this,d)&&c.cannotFitIntoPageHeight(a,b,this.originalCompPosition)}function g(a,b,d){if(!c.isComponentInViewPort(b,d)){a.ui.scroll.setScroll({scrollLeft:0,scrollTop:d.y})}}function h(a){if(!this.lastCompPage){this.lastCompPage=a}if(e.call(this,a)){this.resetPastePosition()}}function i(a){return a.y<0}function j(a,b,d,h){var j={};if(f.call(this,a,b,h)){j=c.getCenteredCompPosition(a,b,d);if(i(j)){j.y=0}}else if(e.call(this,h)){j=this.originalCompPosition;g(a,b,j)}else{var k=a.ui.scroll.getScroll();j={x:this.originalCompPosition.x,y:this.originalCompPosition.y-this.originalScrollPosition+k.scrollTop}}this.firstCompPosition=j;return j}function k(a){var b=c.getNextComponentPosition(this.lastCompPosition);if(c.cannotFitIntoViewPort(a,b)){b=c.getNewStackComponentPosition(this.firstCompPosition);this.firstCompPosition=b}return b}function l(a){a=a||{};this.originalCompPosition={};this.originalScrollPosition=0;this.firstCompPosition={};this.lastCompPosition={};this.lastCompPage="";this.centerOnFirstPaste=a.centerOnFirstPaste||false;this.lastScrollPosition=null}l.prototype.setPasteData=function(a,b,c){this.originalScrollPosition=c.scrollTop;this.originalCompPosition={x:a.x,y:a.y};this.firstCompPosition={x:a.x,y:a.y};this.lastCompPosition={x:a.x,y:a.y};this.lastCompPage=b};l.prototype.resetPastePosition=function(){this.firstCompPosition={};this.lastCompPosition={}};l.prototype.getPastePosition=function(c,e,f){var g=c.ui.scroll.getScroll();if(this.lastScrollPosition&&!a.isEqual(g,this.lastScrollPosition)){this.resetPastePosition()}var i=b.utils.stageUtils.getViewPort(true);var l=a.pick(e,["width","height"]);var m={};h.call(this,f);if(d.call(this)){m=j.call(this,c,i,l,f)}else{m=k.call(this,i)}this.lastCompPosition=m;this.lastCompPage=f;this.lastScrollPosition=g;return a.clone(m)};return l});define("rEditor/pasteLogic/AddPanelPasteLogic",["rEditor/pasteLogic/ComponentPasteLogic"],function(a){"use strict";function b(){a.call(this,{centerOnFirstPaste:true});this.lastCompTypeAdded=""}b.prototype=Object.create(a.prototype);b.prototype.constructor=b;b.prototype.getPastePosition=function(b,c,d,e){if(e!==this.lastCompTypeAdded){this.resetPastePosition()}this.lastCompTypeAdded=e;return a.prototype.getPastePosition.call(this,b,c,d)};return b});define("rEditor/pasteLogic/pasteLogicContext",["lodash","rEditor/pasteLogic/ComponentPasteLogic","rEditor/pasteLogic/AddPanelPasteLogic"],function(a,b,c){"use strict";var d=new b;var e=new b;var f=new b({centerOnFirstPaste:true});var g=new c;return{pasteContext:d,duplicateContext:e,addContext:f,addPanelPasteLogic:g}});define("rEditor/utils/openPanelByURLData",["lodash"],function(a){"use strict";var b="1380b703-ce81-ff05-f115-39571d94dfcd";var c={addPanel:{name:"addPanelInfra.addPanel",propsGenarator:function(a,b){return{category:a,section:b}}},siteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(a){return{tab:a}}},pagesPanel:{name:"rEditor.panels.pagesAndPopupsPanel",propsGenarator:function(a){return{tabForSettingsPanel:a}}},feedMe:{name:"panels.focusPanels.feedbackPanel"},blog:{name:"blog.menuPanel"},background:{name:"rEditor.panels.backgroundPanel"},wixStore:{name:"wixStore.panels.wixStorePanel",shouldOpenPanelByRestrictions:function(a){return a.tpa.app.isInstalled(b)}}};var d={mobileHidden:{name:"mobileEditor.hiddenItemsPanel"},mobileBackground:{name:"rEditor.panels.backgroundPanel"},mobileSiteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(a){return{tab:a}}},mobileElements:{name:"mobileEditor.mobileElementsPanel",propsGenarator:function(a){return{mobileElementId:a}}}};function e(){var b=a.merge({},c,d);return a.mapKeys(b,function(a,b){return b.toLowerCase()})}function f(){return a.mapKeys(d,function(a,b){return b.toLowerCase()})}return{allPanels:e(),mobilePanels:f()}});define("rEditor/utils/openPanelByURL",["lodash","rEditor/utils/openPanelByURLData"],function(a,b){"use strict";var c=b.allPanels;var d=b.mobilePanels;function e(a){return a&&!!d[a]}function f(a){var b=i(a);var c=b?b.split("."):"";var d=c?c[0]:"";return d==="mobile"||e(d)}function g(b){var d=b.split(".");var e=d[0];var f=d.slice(1);if(c[e]&&a.isFunction(c[e].propsGenarator)&&f.length){var g=c[e].propsGenarator.apply(null,f);return a.omit(g,a.isUndefined)}return{}}function h(b,d){if(b){var e=b.split(".")[0];var f=a.isFunction(a.get(c[e],"shouldOpenPanelByRestrictions"))?c[e].shouldOpenPanelByRestrictions(d):true;return!!c[e]&&f}}function i(b){var c=a.mapKeys(b,function(a,b){return b.toLowerCase()}).openpanel;return c?c.toLowerCase():""}function j(a,b){var d=i(a);if(h(d,b)){var e=c[d.split(".")[0]].name;var f=g(d);b.panelManager.openPanel(e,f)}}return{shouldLoadMobileEditor:f,openPanel:j}});define("rEditor/app/EditorAPI",["pLoader!santa:utils","lodash","jquery","core","baseUI","panels","util","mediaServices","compPanels","rEditor/app/panelHelpers","rEditor/app/updateOperationsPlugins","rEditor/app/pluginsRegistrar","userPreferences","savePublish","rEditor/app/APISections/concurrentUsersWrapper","rEditor/app/APISections/themeWrapper","rEditor/app/APISections/historyWrapper","rEditor/app/APISections/imageCrop","rEditor/app/APISections/siteWrapper","rEditor/app/APISections/domainWrapper","rEditor/app/APISections/developerMode","rEditor/app/APISections/selectedComponent","rEditor/app/APISections/savePublishWrapper","rEditor/app/APISections/componentsWrapper","rEditor/app/APISections/rulersAPI","rEditor/app/APISections/tabIndicationState","rEditor/app/APISections/feedback","rEditor/app/APISections/mainMenuWrapper","rEditor/app/APISections/multiselect","rEditor/app/APISections/leftBarAPI","rEditor/app/APISections/selection","rEditor/app/APISections/databaseEditor","rEditor/app/APISections/welcomeScreensWrapper","rEditor/app/APISections/copyPasteWrapper","rEditor/app/APISections/wixStoresFlowAPI","rEditor/app/APISections/editorUI","rEditor/app/APISections/wixCode","rEditor/app/APISections/columns","rEditor/app/APISections/pagesWrapper","rEditor/app/APISections/layoutersWrapper","rEditor/app/APISections/platformWrapper","rEditor/app/APISections/pinModeWrapper","rEditor/app/APISections/promotionsWrapper","rEditor/app/APISections/togglePreviewWrapper","rEditor/app/APISections/account","rEditor/app/pluginService","rEditor/app/updateThemePlugins","rEditor/app/tooltipTextService","rEditor/pasteLogic/pasteLogicContext","rEditor/utils/openPanelByURL","textControls","blog","editorEventRegistry","experiment","constants","uiAnimations"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa){"use strict";var ba=g.serviceTopology.dashboardUrl.replace(/create\//,"")+"/"||"http://www.wix.com/my-account/";var ca=.5;var da=e.uiConstants;function ea(){return{topBarHeight:da.TOPBAR_HEIGHT,previewHeight:null,previewWidth:null,languages:["latin"],extraSiteHeight:40,previewPosition:{top:da.TOPBAR_HEIGHT,left:0,height:0,width:0}}}var fa={toolbarEnabled:true,developerModeEnabled:false,showHiddenComponents:true,guidelinesEnabled:true,sectionsHandlesEnabled:true,snapToEnabled:true,rulersEnabled:undefined,rulers:{guidesState:{},selectedGuide:undefined,isHovered:false,isDragging:null}};var ga=["latin"];var ha=null;var ia={};function ja(a,c){var d=b.pick(a,["top","left","height","width"]);d.top+=c;return d}function ka(a){var b=g.url.parseUrl(window.document.location.href).query||"";X.openPanel(b,a)}function la(a){var b=a.generalInfo.getUserInfo().email;a.mediaServices.setIsEmailWithWixDomain(/@wix\.com$/.test(b));a.mediaServices.setSiteMediaToken(a.generalInfo.getSiteToken());a.savePublish.registerFirstSaveCallback(function(){a.mediaServices.setSiteMediaToken(a.generalInfo.getSiteToken())})}function ma(){var a=g.url.isQA();var b=g.url.getParameterByName("forceAutosave")==="true";return a&&!b}function na(){var a=g.url.isQA();var b=g.url.getParameterByName("qa_1stTimeMobileOn")==="true";return a?b:_.isOpen("se_1stTimeMobile")}function oa(X){function oa(){var a=$.constants.events.USER_PREFERENCES_LOADED;$.dispatch(a,$d)}function pa(a){$d.previewReady=true;$d.setDocumentServices(a);$d.bi.event=$d.bi.eventWithEditorPresets($d.bi.event);$d.onViewerChanged();$d.updateUserPreferencesOnPreviewReady();var b=$.constants.events.PREVIEW_READY;$.dispatch(b,$d);$d.components.onPreviewReady();$d.account.initMyAccountExperiments();$d.synchronizeSiteSEOToMainPageSEO();$d.saveManager.setTimerForSaveReminder($d);$d.panelManager.initBIHandler($d.bi);$d.feedback.init();$d.documentServices.registerToSiteChanged($d.notifyViewerUpdate);if(!ma()){$d.documentServices.initAutosave(n.getAutosaveConfig($d))}$d.documentServices.documentMode.enableAction("screenIn",false);if(_.isOpen("se_editHoverBox")){$d.documentServices.documentMode.enableAction("modeChange",false)}$d.documentServices.documentMode.enableAction("load",false);$d.documentServices.documentMode.enableAction("exit",false);$d.documentServices.documentMode.enableBgVideoAutoplay(false);if(!$d.documentServices.generalInfo.isFirstSave()){$d.leftBar.collapseMenu()}d.bi.registerEvents($d);$d.initPlugins();$d.campaigns.fetchCampaignInfo();if($d.documentServices.generalInfo.isFirstSave()){$d.initTemplateCharacterSet()}la($d);if(_.isOpen("fontsUpload")||_.isOpen("fontsUploadAsync")){$d.mediaServices.fontsManager.init()}$d.promotions.initPromotions();ka($d)}function qa(a){return b.includes(g.editorModel.metaSiteFlags,a)}function ra(a){$d.editor.onMouseUp(a)}function sa(){var a=$d.seo.title.get()||"";var b=$d.seo.description.get()||"";var c=$d.seo.keywords.get()||"";var d=$d.homePage.get();var e=$d.pages.data.get(d);e.pageTitleSEO=a;e.descriptionSEO=b;e.metaKeywordsSEO=c;$d.pages.data.update(d,e)}function ta(){var a=$d.documentServices.theme.fonts.getCharacterSet();function c(a){return b.isEqual(a,ga)}function d(a){return b.includes(a,"arabic")&&b.includes(a,"hebrew")}if(c(a)||d(a)){var e=$d.documentServices.theme.fonts.getLanguageCharacterSet($d.getLanguageCode());if(e){$d.documentServices.theme.fonts.updateCharacterSet(e)}else{var f=$d.documentServices.theme.fonts.getCharacterSetByGeo();$d.documentServices.theme.fonts.updateCharacterSet(f)}}}function ua(){$d.panelManager.registerObserver(function(){if(_.isOpen("se_platform1")){$d.resetContextIfFullStagePanelClosed()}$d.onPanelsUpdated()})}function va(a){b.defaultsDeep($d,a);$d.documentServices=a}function wa(){l.register($d);U.register($d)}function xa(){return g.languages.getLanguageCode()}function ya(){return b.clone($d.editor.state.viewTools)}function za(){var a=$d.generalInfo.getSiteId();var c,e;var f=$d.documentServices.generalInfo.isFirstSave();function g(){$d.userPreferencesInitCallbacksInvoked=true;b.forEach($d.userPreferencesInitCallbacks,function(a){a()})}function h(a){c=c||a===d.constants.USER_PREFS.TYPES.GLOBAL;e=e||a===d.constants.USER_PREFS.TYPES.SITE;if(c&&(e||f)){g()}}$d.userPreferences.loadGlobalPreferences(b.partial(h,d.constants.USER_PREFS.TYPES.GLOBAL));if(!f){$d.userPreferences.loadSitePreferences(a,false,b.partial(h,d.constants.USER_PREFS.TYPES.SITE),b.partial(h,d.constants.USER_PREFS.TYPES.SITE))}}function Aa(){$d.newEditorWelcomeScreenWrapper.initWelcomeScreen($d)}function Ba(){var a=$d.userPreferences.site.get(d.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS);$d.documentServices.documentMode.showHiddenComponents(a);$d.documentServices.documentMode.showControllers($d.getViewTools().developerModeEnabled)}function Ca(){var a=d.constants.USER_PREFS.VIEW_TOOLS;var c={showHiddenComponents:$d.userPreferences.site.get(a.SHOW_HIDDEN_COMPS),developerModeEnabled:$d.userPreferences.site.get(a.DEVELOPER_MODE_ENABLED),developerToolBarEnabled:$d.userPreferences.site.get(a.DEVELOPER_TOOLBAR_ENABLED),guidelinesEnabled:$d.userPreferences.site.get(a.GUIDELINES_ENABLED),
sectionsHandlesEnabled:$d.userPreferences.site.get(a.SECTIONS_HANDLES_ENABLED),snapToEnabled:$d.userPreferences.site.get(a.SNAPTO_ENABLED),rulersEnabled:$d.userPreferences.site.get(a.RULERS_ENABLED),rulers:{guidesState:$d.userPreferences.site.get(a.GUIDES_STATE)}};b.defaults(c,fa);$d.editor.setState({viewTools:c});$d.rulers.resetRulersHistory()}function Da(){var a=$d.documentServices.theme.colors.getCustomUsedInSkins();var c=d.constants.USER_PREFS.THEME.COLORS.CUSTOM.USER_ADDED;var e=$d.userPreferences.session.get(c);e=b.intersection(e,a);$d.userPreferences.session.set(c,e)}function Ea(a){var c=b.isUndefined(a)?$d.editor.state.hideTools&&!$d.editor.state.hideToolsAndMaintainStagePosition:a;$d.editorConfig.previewPosition.top=da.TOPBAR_HEIGHT;if(c){$d.editorConfig.previewPosition.top-=da.OFFSET_TOP_WHEN_TOOLS_HIDDEN}if($d.isMobileEditor()){$d.editorConfig.previewPosition.top+=da.MOBILE_PREVIEW_TOP}}function Fa(){$d.editorConfig.previewHeight=$d.documentServices.site.getHeight();$d.updatePreviewTop()}function Ga(){var a=b.pick($d.editor.getPreviewPosition(),["top","left","height","width"]);if(!b.isEqual(a,$d.editorConfig.previewPosition)){b.assign($d.editorConfig,{previewPosition:a});$d.editor.setState({config:$d.editorConfig})}}function Ha(){var a=$d.editor.state.openPanels;var c=$d.panelManager.getOpenPanels();var e=b.difference(a,c);var f=b.filter(e,{name:"platformPanels.fullStagePanel"});if(!b.isEmpty(f)&&$d.developerMode.getContext().type===d.constants.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION){$d.developerMode.setContext($d.developerMode.createContext(d.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))}}function Ia(){$d.editor.setState({openPanels:$d.panelManager.getOpenPanels(),helpProps:$d.panelManager.getHelpPanelProps()})}function Ja(){if(_.isOpen("layoutTractor")){$d.editor.setState({isLayoutTractorOpen:true})}}function Ka(){$d.editor.setState({isLayoutTractorOpen:false})}function La(a){$d.waitForChangesApplied(function(){b.forEach($d.viewerUpdateCallbacks,function(b){b(a)})})}function Ma(a){b.assign($d.pendingStateChanges,a)}function Na(a){$d.pendingEditorStateUpdateCallbacks.push(a)}function Oa(){return b.reduce($d.pendingEditorStateUpdateCallbacks,function(a,c){return b.assign(a,c())},$d.pendingStateChanges)}function Pa(){window.addEventListener("mousedown",$d.preventEvent,true);$d.preventMouseDownTimeout=window.setTimeout($d.allowMouseDown,5e3)}function Qa(){window.clearTimeout($d.preventMouseDownTimeout);window.removeEventListener("mousedown",$d.preventEvent,true)}function Ra(a){a.stopPropagation();a.preventDefault()}function Sa(){if(!$d.editor.state.editorIsInit){$d.prepareDocumentForPreviewMode(false)}$d.updateConfig();var a=$d.getPendingStateChanges();$d.pendingStateChanges={};$d.pendingEditorStateUpdateCallbacks=[];var c=b.filter($d.editor.state.selectedComponents,$d.components.is.rendered);c=b.isEmpty(c)?null:c;var d=!b.isEqual(c,$d.editor.state.selectedComponents);var e={};if(d){e=$d.editor.getCancelMouseHandlerStateParams();e.focusedContainer=null;$d.editor.turnOffMouseEvents()}var f={config:$d.editorConfig,editorIsInit:true,selectedComponents:c,renderIndex:$d.editor.state.renderIndex+1};f.isMobileEditor=$d.viewMode&&$d.viewMode.get()===$d.viewMode.VIEW_MODES.MOBILE;$d.editor.setState(b.defaults(f,e,a));if($d.shouldUpdateEditorScrollAfterHeightUpdate){$d.applyPreviewScrollToEditorScroll();$d.shouldUpdateEditorScrollAfterHeightUpdate=false}}function Ta(a){$d.userPreferencesInitCallbacks.push(a);if($d.userPreferencesInitCallbacksInvoked){a()}}function Ua(){window.open(ba+"?referralInfo=EDITOR","_self")}function Va(){return $d.userPreferences}function Wa(a){return $d.documentServices.tpa.isTpaByCompType(a)}function Xa(a){$d.viewerUpdateCallbacks.push(a)}function Ya(a,b){$d.removePlugins[a]=b}function Za(a,b){$d.duplicatePlugins[a]=b}function $a(a,b){$d.cannotRemovePlugins[a]=b}function _a(a,b){$d.copyComponentPlugins[a]=b}function ab(a,b){$d.addComponentPlugins[a]=b}function bb(a,b){$d.pasteComponentPlugins[a]=$d.pasteComponentPlugins[a]||[];$d.pasteComponentPlugins[a].push(b)}function cb(a,b){$d.cutComponentPlugins[a]=b}function db(a){$d.pageNavigationCallbacks.push(a)}function eb(a,b){$d.compNamePlugins[a]=b}function fb(a,b){$d.compIconPlugins[a]=b}function gb(a){$d.sitePublishedCallbacks.push(a)}function hb(a){$d.deviceTypeChangeCallbacks.push(a)}function ib(){if(!$d.getPreviewMode()){var a=$d.site.getScroll();$d.editor.setScroll({scrollLeft:a.x,scrollTop:a.y})}}function jb(a){$d.renderPlugins.allowSiteOverflow(a);$d.renderPlugins.setExtraSiteHeight(a||$d.isMobileEditor()?0:$d.editorConfig.extraSiteHeight);$d.renderPlugins.setPreviewTooltipCallback(function(a,b){var c=ja(a,$d.editorConfig.previewPosition.top);$d.showFloatingBubble(b,c);ha=window.setTimeout($d.hideFloatingBubble,d.constants.PREVIEW.FLOATING_BUBBLE_TIMEOUT)})}function kb(a){$d.documentServices.components.modes.resetAllActiveModes();$d.documentServices.documentMode.enablePlaying(a);$d.documentServices.documentMode.enableZoom(a);$d.documentServices.documentMode.enableSocialInteraction(false);$d.documentServices.documentMode.enableExternalNavigation(false);$d.documentServices.documentMode.enableSlideShowGalleryClick(a);$d.documentServices.documentMode.enableTinyMenuOpening(a);$d.documentServices.documentMode.enableRenderFixedPositionContainers(a);$d.documentServices.documentMode.enableRenderFixedPositionBackgrounds(a);$d.documentServices.documentMode.enableBackToTopButton(a);$d.documentServices.documentMode.enablePageProtection(false);$d.documentServices.documentMode.toggleWixAds(a);$d.documentServices.documentMode.enableBgVideoAutoplay(a&&$d.isDesktopEditor());$d.documentServices.documentMode.enableSiteMembersDialogsOpening(a);$d.documentServices.documentMode.enableResetGalleryToOriginalState(a);$d.documentServices.documentMode.enableResetComponent(!a);$d.documentServices.documentMode.resetBehaviors(a);$d.documentServices.documentMode.enableAction("screenIn",a&&$d.isDesktopEditor());$d.documentServices.documentMode.enableAction("load",a);if(_.isOpen("se_editHoverBox")){$d.documentServices.documentMode.enableAction("modeChange",a&&$d.isDesktopEditor())}$d.documentServices.documentMode.enableAction("exit",a&&$d.isDesktopEditor());$d.documentServices.documentMode.enableAction("bgScrub",a&&$d.isDesktopEditor());$d.documentServices.documentMode.setExtraSiteHeight(a||$d.isMobileEditor()?0:$d.editorConfig.extraSiteHeight);$d.documentServices.documentMode.enableShouldUpdateJsonFromMeasureMap(!a);$d.documentServices.documentMode.allowSiteOverflow(a);if(!a){$d.documentServices.documentMode.runtime.reset()}$d.documentServices.documentMode.setComponentViewMode(a?"preview":"editor");$d.documentServices.documentMode.allowWixCodeInitialization(a);$d.documentServices.documentMode.showHiddenComponents(a?!a:$d.getViewTools().showHiddenComponents);$d.documentServices.documentMode.showControllers(a?!a:$d.getViewTools().developerModeEnabled);$d.developerMode.setContext($d.developerMode.createContext(d.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))}function lb(){return $d.editor.getPreviewSize()}function mb(){return $d.editor.state.previewMode}function nb(){var a=$d.pages.data.get($d.pages.getPrimaryPageId());return a.isLandingPage}function ob(){return!$d.isMobileEditor()}function pb(){return $d.editor.state&&$d.editor.state.isMobileEditor}function qb(){return $d.isMobileEditor()?"mobile":"desktop"}function rb(a){return $d.components.is.resizeOnlyProportionally(a)}function sb(){var a=$d.userPreferences.site.get(d.constants.USER_PREFS.CANT_MAKE_CHANGES.MOBILE_CANT_MAKE_CHANGE_DONT_SHOW_AGAIN);if(a){return}$d.panelManager.openPanel("mobileEditor.panels.cantMakeChangeMobile",{},true)}function tb(){$d.setEditorMode(false)}function ub(){e.tooltipManager.hide(aa.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE);$d.setEditorMode(true)}function vb(a,c){if(a===$d.isMobileEditor()){return}b.forEach($d.deviceTypeChangeCallbacks,function(a){a()});if(!a){$d.editor.setState({isMobileEditor:false})}var e=a?$d.viewMode.VIEW_MODES.MOBILE:$d.viewMode.VIEW_MODES.DESKTOP;if(!c&&$d.developerMode.getContext().type===d.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE){$d.panelManager.closeAllPanels()}$d.selection.deselectComponents();$d.viewMode.set(e);$d.documentServices.waitForChangesApplied(function(){var b=$d.getPreviewMode()&&!a;$d.documentServices.documentMode.enableAction("screenIn",b);$d.documentServices.documentMode.enableAction("load",$d.getPreviewMode());if(_.isOpen("se_editHoverBox")){$d.documentServices.documentMode.enableAction("modeChange",b)}$d.documentServices.documentMode.enableAction("exit",b);$d.documentServices.documentMode.enableAction("bgScrub",b);$d.documentServices.documentMode.enableAction("pageTransition",b);$d.documentServices.documentMode.enableBgVideoAutoplay(b);if(a&&na()){j.openMobileEditorFirstTimePanel($d)}});$d.setRenderPlugins($d.getPreviewMode(),a);if(!c&&a&&$d.documentServices.history.canUndo()){$d.history.add("mobile structure was updated")}$d.documentServices.documentMode.setExtraSiteHeight($d.editor.state.previewMode||a?0:$d.editorConfig.extraSiteHeight);$d.documentServices.documentMode.resetBehaviors($d.getPreviewMode());$d.rulers.resetRulersHistory();if(_.isOpen("se_editHoverBox")&&!a){$d.documentServices.components.modes.resetAllActiveModes()}}function wb(){if(!$d.documentServices){return false}return $d.documentServices.mobile.isOptimized()}function xb(a){if(!$d.documentServices){return}$d.documentServices.mobile.enableOptimizedView(a)}function yb(a){if($d.components.is.groupedComponent(a)){return}$d.selection.deselectComponents();var b=$d.components.groupComponents(a);$d.closeCompPanelIfExists();$d.history.add("group components");$d.waitForChangesApplied(function(){$d.selection.selectComponentByCompRef(b)})}function zb(){return b.get($d.editor,"refs.editorView.refs.leftBar")?$d.editor.refs.editorView.refs.leftBar.getButtonsBoundingRect():0}function Ab(a,b,c,d){var e={editorMousePosition:{x:a,y:b},viewerPosition:{x:c,y:d}};$d.editor.setState({contextMenu:e})}function Bb(a){if(!_.isMultiValueExperimentOpen("editorHintsConfigs")||!$d.rightClickMenuCloseOnOuterClickDisabled){$d.editor.setState({contextMenu:null},a)}}function Cb(){$d.rightClickMenuCloseOnOuterClickDisabled=true}function Db(){$d.rightClickMenuCloseOnOuterClickDisabled=false}function Eb(){var a=$d.panelManager.getPanelsOfType("compPanelFrame");if(a.length){$d.panelManager.closeAllPanelsOfType("compPanelFrame")}}function Fb(a){var b="firstTimePanelsNotToShow";var c=$d.selection.getSelectedComponentType(a);var d=$d.userPreferences.site.get(b)||{};if(!d[c]&&!$d.isMobileEditor()){$d.panelManager.openFirstTimePanel(c)}}function Gb(a){var b;if($d.components.isShowOnAllPages(a)){b=$d.documentServices.pages.getReference($d.pages.getPrimaryPageId())}else{b=$d.documentServices.siteSegments.getSiteStructure()}return $d.components.setContainer(a,b)}function Hb(a){if(!a||$d.editor.state.isOpenTextEditor||$d.pinMode.isOpened()){return{horizontallyMovable:false,verticallyMovable:false}}return $d.components.getRestrictions(a,["horizontallyMovable","verticallyMovable"])}function Ib(a){var c=$d.getCompDragRestrictions(a);if(a){b.assign(c,{canMoveForward:$d.components.arrangement.canMoveForward(a),canMoveBackward:$d.components.arrangement.canMoveBackward(a)})}return c}function Jb(a){var c=$d.getCompMoveRestrictions(a);if(a){var d=$d.components.layout.isPinned(a);var e=$d.editor.state.isOpenTextEditor;var f=["container","containable","movable","alignable","canMoveUp","resizable","disabledKnobs","duplicatable","fixed","showLegacyFixedPosition","anchorableFrom","anchorableTo"];if(!d){f.push("horizontallyResizable","verticallyResizable","rotatable","duplicatable")}if(!e){f.push("removable")}b.assign(c,$d.components.getRestrictions(a,f));if(d){c.horizontallyResizable=false;c.verticallyResizable=false;c.rotatable=false;c.duplicatable=false}if(e){c.removable=false}b.assign(c,{resizeableSides:$d.components.layout.getResizableSides(a),canBeFixed:$d.components.layout.canBeFixedPosition(a),canShowOnAllPages:$d.components.canShowOnAllPages(a),resizeOnlyProportionally:$d.resizeOnlyProportionally(a),canToggleShowOnAllPages:$d.components.canToggleShowOnAllPages(a)})}return c}function Kb(a){return $d.components.getType(a).split(".").pop()}function Lb(a,b){$d.pages.navigateTo(a,function(){$d.openPagesPanel(b)})}function Mb(a,c){c=c||{};var d=$d.getComponentType(b.get(c,"selectedComponent",$d.editor.state.selectedComponents));var e=$d.getPanelPathByType(d,a);$d.panelManager.openComponentPanel(e,c)}function Nb(a,b){b=b||{};var c=$d.getComponentType($d.editor.state.selectedComponents);var d=$d.getPanelPathByType(c,a);$d.panelManager.replaceComponentPanel(d,b)}function Ob(a){var b=$d.utils.findAncestorMatchesCondition(a,$d.components.is.showMarginsIndicator);if(b&&$d.components.layout.isCompExceedingContainerMargin(a,b)){var c=true;$d.openCompOutOfGridPanel({},c);$d.bi.event(d.bi.events.columns.COLUMNS_ELEMENTS_PLACED_IN_DEAD_SPOT)}else if(!b&&$d.components.layout.isCompOutOfPageBounds(a)){$d.openCompOutOfGridPanel()}}function Pb(a,c){var e="compPanels.panels."+a+"."+c;if(!b.get(i,["panels",a,c])){if($d.isTpa(a)){if(c===d.constants.componentPanels.settings){e="tpa.compPanels.tpaSettings"}}else if(c===d.constants.componentPanels.animation){e="compPanels.dynamicPanels."+d.constants.componentPanels.animation}else if(c===d.constants.componentPanels.stretching){e="compPanels.dynamicPanels."+d.constants.componentPanels.stretching}else if(c===d.constants.componentPanels.filters){e="compPanels.dynamicPanels."+d.constants.componentPanels.filters}else if(c===d.constants.componentPanels.apply){e="compPanels.dynamicPanels."+d.constants.componentPanels.apply}else if(c===d.constants.componentPanels.design){e="designPanel."+d.constants.componentPanels.design}else if(c===d.constants.componentPanels.customizeDesign){e="advancedStylePanel."+d.constants.componentPanels.customizeDesign}}return e}function Qb(b){if(b&&typeof b==="string"){a.log.info("opening learn more with key - ",b)}}function Rb(){return $d.previewReady}function Sb(a,b,c){$d.editor.registerMouseMoveAction(a,b,c);if(_.isMultiValueExperimentOpen("editorHintsConfigs")){T.getPlugin("mouseMoveStartPlugin","*")()}}function Tb(){return $d.editor.isPerformingMouseMoveAction()}function Ub(a,c){var d=b.cloneDeep($d.editor.state.portalComps);if(b.isEmpty(c)){delete d[a]}else{d[a]=c}$d.editor.setState({portalComps:d})}function Vb(a){return $d.documentServices.tpa.isTpaByCompType($d.components.getType(a))}function Wb(a,b){if(b){$d.editor.setState({attachCandidate:a})}else{$d.setStateWaitForViewer({attachCandidate:a})}}function Xb(a){$d.setStateWaitForViewer({constraintArea:a})}function Yb(a,c){var d=b.clone($d.editor.state.pageSections);b.assign(d,{sections:a,selectedSection:c});$d.editor.setState({pageSections:d})}function Zb(){$d.setPageSections(null,null)}function $b(a,b){if(a!==$d.editor.state.siteScale){$d.editor.setState({siteScale:a})}$d.documentServices.site.setScrollAndScale(0,b,a,ca);$d.ui.scroll.animateScroll({x:0,y:b},ca)}function _b(){return!!$d.clipboard.getItem(d.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT)}function ac(a,c){var d=a;if(b.isString(a)){d={};d[a]=c}var e=b.defaults(d,$d.getViewTools());$d.editor.setState({viewTools:e})}function bc(){$d.panelManager.openPanel("rEditor.panels.editorVersionInfoPanel")}function cc(a,b,c,d){$d.editor.showFloatingBubble(a,b,c,d)}function dc(){$d.editor.hideFloatingBubble();window.clearTimeout(ha)}function ec(a){$d.editor.setState({pinPreviewRectStyle:a})}function fc(){var a=$d.editor.state.pinPreviewRectStyle;b.assign(a,{opacity:0});$d.editor.setState({pinPreviewRectStyle:a})}function gc(){return $d.editor.state.siteScale}function hc(a){if($d.editor.state.registeredMouseMoveAction){$d.editor.onMouseUp(a)}}function ic(){var a=window.document.body.clientHeight>window.innerHeight;return!a||a&&window.document.body.clientWidth===window.innerWidth}function jc(){$d.toggleEditorStateParam("hasDatabaseCollections",true)}function kc(a,b){var c={};c[a]=typeof b==="undefined"?!$d.editor.state[a]:b;$d.editor.setState(c)}function lc(){return $d.editor.state.viewTools.sectionsHandlesEnabled}function mc(a,b){var c=!$d.sectionsHandles.areSectionsHandlesEnabled();$d.updateEditorViewTools("sectionsHandlesEnabled",c);$d.userPreferences.site.set(d.constants.USER_PREFS.VIEW_TOOLS.SECTIONS_HANDLES_ENABLED,c,a,b)}function nc(){e.tooltipManager.hide(aa.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE);$d.setSiteScale(.5,0);$d.documentMode.allowShowingFixedComponents(false);g.keyboardShortcuts.setContext(g.keyboardShortcuts.CONTEXTS.ZOOM_MODE)}function oc(){$d.setSiteScale(1,0);$d.documentMode.allowShowingFixedComponents(true);g.keyboardShortcuts.setContext(g.keyboardShortcuts.CONTEXTS.EDITOR)}function pc(){return $d.editor.state.siteScale!==1}function qc(a,b){if(b){$d.editor.setState({snapData:a})}else{$d.setStateWaitForViewer({snapData:a})}}function rc(a){if(a){$d.editor.setState({snapData:null})}else{$d.setStateWaitForViewer({snapData:null})}}function sc(a){$d.editor.setState({lassoCandidates:a})}function tc(a){$d.editor.setState({lassoLayout:a})}function uc(){$d.editor.setState({lassoLayout:null,lassoCandidates:[]})}function vc(a,b){$d.editor.setHoverBox(a,b)}function wc(){$d.editor.clearHoverBox()}function xc(){return $d.editor.state.focusedContainer}function yc(a,c){var d=b.cloneDeep($d.editor.state.clipboard);d[a]=c;$d.editor.setState({clipboard:d})}function zc(a){return $d.editor.state.clipboard[a]}function Ac(a){$d.panelManager.openPanel("rEditor.panels.applyStylePanel",{selectedComp:a,editorAPI:$d})}function Bc(a){return function(c,d){c=b.defaults({},c,{src:38,endpoint:"editor",sampleRatio:0});d=d||{};var e=g.editorModel.permissionsInfo;if(e){var f=e.ownerId;var h=b.map(e.loggedInUserRoles,"role").join(",");d=b.assign({},d,{ownerId:f,roles:h})}if(_.isMultiValueExperimentOpen("editorHintsConfigs")){T.getPlugin("biPlugin","*")(c,d)}a(c,d)}}function Cc(a){return b.map(a,function(a){var c={};if(a){c.component_id=a.id;var d=$d.components.getType(a);c.component_type=d;if(d&&$d.isTpa(d)){b.assign(c,$d.bi.getTpaComponentBIParams(a))}}return c})}function Dc(a){var b={};var c=$d.components.data.get(a)||{};var d=$d.tpa.app.getData(c.applicationId);b.app_id=d.appDefinitionId;b.instance_id=a.id;b.app_site_id=d.instanceId;b.widget_id=c.widgetId;var e=c.type==="TPAWidget";var f=$d.tpa.app.isLastAppComp(c.applicationId);var g=f||!(e||$d.tpa.app.isMultiSectionInstalled(c.applicationId));b.is_last_tpa=g?1:0;return b}function Ec(a,c,d){if(!d||b.isFunction(d)&&d()){b.forEach(c,b.bind(function(c){var d=b.isFunction(c)?c():c;d.is_last=d.is_last||d===$d;$d.bi.event(a,d)},c[c.length-1]))}else if(b.isFunction(d)){$d.biConditionedEventsQueue.push({event:a,biParamArray:c,condition:d})}}function Fc(a){T.registerPlugin("biPlugin","*",a)}function Gc(){if(b.isEmpty($d.biConditionedEventsQueue)){return}var a=b.remove($d.biConditionedEventsQueue,function(a){return b.isFunction(a.condition)&&a.condition()});b.forEach(a,function(a){$d.bi.reportBI(a.event,a.biParamArray)})}function Hc(){if(!$d.text.isEditorReady()){return}if(CKEDITOR&&!CKEDITOR.wixDocumentServices){CKEDITOR.wixDocumentServices=$d}if(!$d.editor.state.isOpenTextEditor){var a=$d.selection.getSelectedComponents();$d._textCompForEdit=b.head(a);if(Y.migrationUtils.isOldTextComponent($d._textCompForEdit,$d)){$d.bi.error(d.bi.errors.OLD_TEXT_MIGRATION);Y.migrationUtils.migrateComponent($d._textCompForEdit,$d);$d.waitForChangesApplied(function(){$d.editor.setState({isOpenTextEditor:true})})}else{$d.editor.setState({isOpenTextEditor:true})}}}function Ic(){if($d.editor.state.isOpenTextEditor){$d.editor.setState({isOpenTextEditor:false})}}function Jc(a){$d._currentTextEditor=a}function Kc(){return $d._currentTextEditor}function Lc(){return $d._textCompForEdit}function Mc(){return!!$d.editor.state.isOpenTextEditor}function Nc(){$d._currentTextEditor.editor.undoManager.undo()}function Oc(){return $d._currentTextEditor.editor.undoManager.hasUndo}function Pc(){$d._currentTextEditor.editor.undoManager.redo()}function Qc(){return $d._currentTextEditor.editor.undoManager.hasRedo}function Rc(){return $d._currentTextEditor&&$d._currentTextEditor.editor.status==="ready"&&b.get(window,"CKEDITOR.WIX.status")==="ready"}function Sc(b,c,d,e){a.log.error("editorAPI.help.openHelpCenter is deprecated. Use panelManager.openHelpCenter instead");$d.panelManager.openHelpCenter(b,d,e)}function Tc(a){$d.documentServices.mobile.mobileOnlyComponents.enableBackToTopButton(a)}function Uc(a){var c=$d.documentServices.mobile.hiddenComponents.get(a);return b.filter(c,function(b){var c=$d.documentServices.components.get.byId(b,a,$d.documentServices.viewMode.VIEW_MODES.DESKTOP);if(!$d.documentServices.components.is.group(c)){return true}return false})}function Vc(a,c){var d=$d.components.asArray(a);var e=$d.components.asArray(c);if($d.multiselect.isMultiselect(d)||$d.multiselect.isMultiselect(e)){if(d.length!==e.length){return false}var f=b.sortBy(d,"id");var g=b.sortBy(e,"id");var h=b.every(f,function(a,b){return $d.documentServices.utils.isSameRef(a,g[b])});return h}return $d.documentServices.utils.isSameRef(b.head(d),b.head(e))}function Wc(a){var b=$d.components.asArray(a);if($d.multiselect.isMultiselect(b)){return false}return $d.documentServices.utils.isPage(b[0])}function Xc(a){if(!$d.components.is.selectable(a)){return $d.components.getContainer(a)}return null}function Yc(a,b){if(!a){return null}var c=$d.components.getContainer(a);while(c&&!b(c,a)){c=$d.components.getContainer(c)}return c}function Zc(a){var b=$d.documentServices.siteName.validate(a);var c={};c[$d.documentServices.siteName.ERRORS.SITE_NAME_IS_EMPTY]="SAVE_SITE_NAME_IS_EMPTY";c[$d.documentServices.siteName.ERRORS.SITE_NAME_IS_NOT_STRING]="SITE_NAME_IS_NOT_STRING";c[$d.documentServices.siteName.ERRORS.SITE_NAME_INVALID_CHARS]="SAVE_SITE_NAME_INVALID_CHARS";c[$d.documentServices.siteName.ERRORS.SITE_NAME_ENDS_WITH_HYPHEN]="SAVE_SITE_NAME_ENDS_WITH_HYPHEN";c[$d.documentServices.siteName.ERRORS.SITE_NAME_TOO_SHORT]="SAVE_SITE_NAME_TOO_SHORT";c[$d.documentServices.siteName.ERRORS.SITE_NAME_TOO_LONG]="SAVE_SITE_NAME_TOO_LONG";c[$d.documentServices.siteName.ERRORS.SITE_NAME_ALREADY_EXISTS]="SAVE_SITE_NAME_ALREADY_EXISTS";b.errorMessage=c[b.errorCode];return b}function $c(a){$d.documentServices.siteName.set(a);if(!$d.domain.isDomainConnected()){$d.documentServices.generalInfo.setPublicUrl($d.domain.getFreeDomainPrefix()+a)}}function _c(a){return $d.documentServices.siteName.sanitize(a)}function ad(a,b,d){var e=g.serviceTopology.editorServerRoot||"//editor.wix.com/html/editor/web";e+="/meta-site-proxy/rename/"+$d.documentServices.generalInfo.getMetaSiteId();c.ajax(e,{type:"POST",data:{newName:a},success:function(c){if(!c.success){d(c);return}$d.documentServices.siteName.set(a);if(!$d.domain.isDomainConnected()){$d.documentServices.generalInfo.setPublicUrl($d.domain.getFreeDomainPrefix()+a)}if(b){b()}},error:function(){if(d){d()}}})}function bd(){return $d.editor.state.viewTools.toolbarEnabled}function cd(){$d.updateEditorViewTools("toolbarEnabled",!$d.toolbar.isToolbarEnabled())}function dd(){return $d.editor.state.viewTools.developerToolBarEnabled}function ed(){var a=!$d.developerToolBar.isEnabled();$d.updateEditorViewTools("developerToolBarEnabled",a);$d.userPreferences.site.set(d.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,a)}function fd(){return $d.editor.state.viewTools.platformToolBarEnabled}function gd(){var a=!$d.platformToolBar.isEnabled();$d.updateEditorViewTools("platformToolBarEnabled",a)}function hd(a){var b=!$d.platformToolBar.isEnabled();$d.updateEditorViewTools("platformToolBarEnabled",b);$d.editor.setState({platformToolBarPanelProps:a})}function id(){return $d.editor.state.viewTools.showHiddenComponents}function jd(){var a=!$d.developerHiddenComponents.isEnabled();$d.updateEditorViewTools("showHiddenComponents",a);$d.documentMode.showHiddenComponents(a);$d.userPreferences.site.set(d.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,a)}function kd(){return $d.editor.state.viewTools.guidelinesEnabled}function ld(a,b){var c=!$d.grid.guidelines.isGuidelinesEnabled();$d.updateEditorViewTools("guidelinesEnabled",c);$d.userPreferences.site.set(d.constants.USER_PREFS.VIEW_TOOLS.GUIDELINES_ENABLED,c,a,b)}function md(){return $d.editor.state.viewTools.snapToEnabled}function nd(a,b){var c=!$d.grid.snapTo.isSnapToEnabled();$d.updateEditorViewTools("snapToEnabled",c);$d.userPreferences.site.set(d.constants.USER_PREFS.VIEW_TOOLS.SNAPTO_ENABLED,c,a,b)}function od(){var a=$d.documentServices.siteSegments;return[a.getFooter(),a.getHeader(),a.getPagesContainer(),a.getSiteStructure()]}function pd(){var a=$d.siteSegments.getPagesContainer();return $d.components.layout.getRelativeToScreen(a)}function qd(a){$d.documentServices.homePage.set(a);k.setHomePagePlugins.run($d,a)}function rd(){var a="http://"+window.location.host+"/_api/wix/salesSystemResolver";c.getJSON(a,function(a,b){if(b==="success"&&a){$d.campaignInfo={id:a.data.campaignId,type:a.data.type}}})}function sd(){return $d.campaignInfo}function td(a){if($d.campaigns.getActiveCampaignInfo()){return b.includes($d.campaigns.getActiveCampaignInfo().id,a.id)}return false}function ud(a){var c=$d.campaigns.getActiveCampaignInfo();var d=c.id.split("_");return d.length===1?a.defaultDiscount:b.last(d)}function vd(){return $d.campaigns.isActiveCampaign(d.constants.CAMPAIGNS.PERSONAL_SALE)||$d.campaigns.isActiveCampaign(d.constants.CAMPAIGNS.SEASONAL_CAMPAIGN)}function wd(){return $d.campaigns.getDiscountValue(d.constants.CAMPAIGNS.PERSONAL_SALE)}function xd(){return d.constants.CAMPAIGNS.PERSONAL_SALE.assetPath}function yd(){var a=aa.R_EDITOR.EDITOR_API.BLOCKING_LAYER_STYLE;$d.renderPlugins.setCompsToShowOnTop(b.map($d.selection.getSelectedComponents(),"id"));$d.renderPlugins.setBlockingLayer(a)}function zd(){var a=null;$d.renderPlugins.setCompsToShowOnTop(null);$d.renderPlugins.setBlockingLayer(a)}function Ad(){var a=aa.R_EDITOR.EDITOR_API.BLOCKING_LAYER_STYLE;$d.renderPlugins.setCompsToShowOnTop(b.map($d.selection.getSelectedComponents(),"id"));$d.renderPlugins.setBlockingPopupLayer(a)}function Bd(){var a=null;$d.renderPlugins.setCompsToShowOnTop(null);$d.renderPlugins.setBlockingPopupLayer(a)}function Cd(){$d.editor.setState({pinnedCompType:$d.selection.getSelectedComponentType(),contextMenu:null})}function Dd(){$d.editor.setState({pinnedCompType:false})}function Ed(a){$d.toggleEditorStateParam("halfOpacityTools",a)}function Fd(a){$d.toggleEditorStateParam("shouldHideToolsBtnBlink",a)}function Gd(a,c){c=b.isBoolean(c)?c:$d.editor.state.hideToolsAndMaintainStagePosition;var d=typeof a==="undefined"?!$d.editor.state.hideTools:a,e="panels.toolPanels.linkPanel",f=$d.panelManager.getOpenPanels();$d.hideFloatingBubble();if(!c){$d.updatePreviewTop(d)}$d.editor.setState({hideToolsAndMaintainStagePosition:d?c:d,hideTools:d,editorConfig:$d.editorConfig,halfOpacityTools:false,shouldHideToolsBtnBlink:false});if(d){b(f).reject({frameType:aa.PANEL_TYPES.COMP}).reject({name:e}).forEach(function(a){$d.panelManager.closePanelByName(a.name)})}return d}function Hd(){return $d.editor.state.hideTools}function Id(a,b){Z.installApp($d,a||"MediaLeftPage",b)}function Jd(){return ia}function Kd(a){ia=a}function Ld(a,b){var c={x:a,y:b};$d.cursor.set(c)}function Md(){$d.editor.setState({shouldOverlayUpdate:false})}function Nd(){$d.editor.setState({shouldOverlayUpdate:true})}function Od(){return $d.editor.state.shouldOverlayUpdate}function Pd(){$d.editor.setState({isTooltipsDisabled:true})}function Qd(){$d.editor.setState({isTooltipsDisabled:false})}function Rd(a,b){T.registerPlugin("mouseMoveStartPlugin","*",a);T.registerPlugin("mouseMoveEndPlugin","*",b)}function Sd(a,b){$d.editor.refs.editorView.refs.topbar.openDropDown(a,b)}function Td(){$d.editor.refs.editorView.refs.topbar.enableClose()}function Ud(){$d.editor.refs.editorView.refs.topbar.disableDropDown()}function Vd(){$d.editor.refs.editorView.refs.topbar.enableDropDown()}function Wd(a){return $d.editor.refs.editorView.refs.topbar.shouldBeVisible(a)}function Xd(a,b){T.registerPlugin("topBarMenuBarDropDownOpen","*",a);T.registerPlugin("topBarMenuBarDropDownClose","*",b)}function Yd(a){var c=T.getPlugin("topBarMenuBarDropDownOpen","*");if(c&&b.isFunction(c)){c(a)}}function Zd(a){var c=T.getPlugin("topBarMenuBarDropDownClose","*");if(c&&b.isFunction(c)){c(a)}}var $d={dispatchUserPrefLoaded:oa,onPreviewReady:pa,isMetaSiteFlagOpen:qa,triggerMouseUpOnEditor:ra,synchronizeSiteSEOToMainPageSEO:sa,initTemplateCharacterSet:ta,initPanelManager:ua,setDocumentServices:va,initPlugins:wa,getLanguageCode:xa,getViewTools:ya,updateUserPreferencesOnPreviewReady:za,initWelcomeScreen:Aa,initDevModeValues:Ba,initViewToolsFromUserPrefs:Ca,initUserAddedColors:Da,updatePreviewTop:Ea,updateConfig:Fa,refreshPreviewPosition:Ga,resetContextIfFullStagePanelClosed:Ha,onPanelsUpdated:Ia,openLayoutTractor:Ja,closeLayoutTractor:Ka,notifyViewerUpdate:La,setStateWaitForViewer:Ma,setStateUpdateCallback:Na,getPendingStateChanges:Oa,preventMouseDown:Pa,allowMouseDown:Qa,preventEvent:Ra,onViewerChanged:Sa,registerInitUserPrefsCallback:Ta,exitEditor:Ua,getUserPreferences:Va,isTpa:Wa,registerToViewerChange:Xa,registerRemovePlugin:Ya,registerDuplicatePlugin:Za,registerCannotRemovePlugin:$a,registerCopyComponentPlugin:_a,registerAddComponentPlugin:ab,registerPasteComponentPlugin:bb,registerCutComponentPlugin:cb,registerPageNavigationCallback:db,registerCompNamePlugin:eb,registerCompIconPlugin:fb,registerSitePublishedCallbacks:gb,registerDeviceTypeChangeCallbacks:hb,applyPreviewScrollToEditorScroll:ib,setRenderPlugins:jb,prepareDocumentForPreviewMode:kb,getPreviewSize:lb,getPreviewMode:mb,isCurrentPageLandingPage:nb,isDesktopEditor:ob,isMobileEditor:pb,getDeviceType:qb,resizeOnlyProportionally:rb,openCantCopyPastePanel:sb,setDesktopEditor:tb,setMobileEditor:ub,setEditorMode:vb,isMobileOptimizedSite:wb,setMobileOptimizedSite:xb,groupComponents:yb,getLeftBarButtonsBoundingRect:zb,openRightClickMenu:Ab,closeRightClickMenu:Bb,disableRightClickMenuCloseOnOuterClick:Cb,enableRightClickMenuCloseOnOuterClick:Db,closeCompPanelIfExists:Eb,openFirstTimePanel:Fb,toggleShowOnAllPages:Gb,getCompDragRestrictions:Hb,getCompMoveRestrictions:Ib,getCompRestrictions:Jb,getComponentType:Kb,closePagesPanel:j.closePagesPanel,isPagesPanelOpen:j.isPagesPanelOpen,openPagesPanel:j.openPagesPanel,navigateAndOpenPagesPanel:Lb,openMobileElementsPanel:j.openMobileElementsPanel,openComponentPanel:Mb,replaceComponentPanel:Nb,openCompOutOfGridPanelIfNeeded:Ob,openCompOutOfGridPanel:j.openCompOutOfGridPanel,openDragToHeaderPanel:j.openDragToHeaderPanel,openOrganizeImagesPanel:j.openOrganizeImagesPanel,openOrganizeSocialIconsPanel:j.openOrganizeSocialIconsPanel,openAviaryPanel:j.openAviaryPanel,openLinkPanel:j.openLinkPanel,openPinModeSizeRestrictionPanel:j.openPinModeSizeRestrictionPanel,getPanelPathByType:Pb,openLearnMore:Qb,isPreviewReady:Rb,registerMouseMoveAction:Sb,isPerformingMouseMoveAction:Tb,setPortalChildren:Ub,hasExternalDesign:Vb,setAttachCandidate:Wb,setConstraintArea:Xb,setPageSections:Yb,clearPageSections:Zb,sectionsHandles:{areSectionsHandlesEnabled:lc,toggleSectionsHandles:mc},setSiteScale:$b,zoomMode:{enterZoomMode:nc,exitZoomMode:oc,isInZoomMode:pc},snapData:{set:qc,clear:rc},lasso:{setCandidates:sc,setLayout:tc,clear:uc},hoverBox:{set:vc,clear:wc},focusBox:{getFocusedContainer:xc},clipboard:{types:d.constants.EDITOR_CLIPBOARD_TYPES,setItem:yc,getItem:zc},clipboardContainsComp:_b,text:{startEditing:Hc,stopEditing:Ic,setCurrentTextEditor:Jc,getEditor:Kc,getTextCompForEdit:Lc,isEditingText:Mc,undo:Nc,canUndo:Oc,redo:Pc,canRedo:Qc,isEditorReady:Rc},help:{openHelpCenter:Sc},mobile:{mobileOnlyComponents:{enableBackToTopButton:Tc},hiddenComponents:{get:Uc}},utils:{isSameRef:Vc,isPage:Wc,getParentIfCompCanBeSelected:Xc,findAncestorMatchesCondition:Yc},siteName:{validate:Zc,set:$c,sanitize:_c,rename:ad},updateEditorViewTools:ac,
toolbar:{isToolbarEnabled:bd,toggleToolbar:cd},developerToolBar:{isEnabled:dd,toggle:ed},platformToolBar:{isEnabled:fd,toggle:gd,open:hd},developerHiddenComponents:{isEnabled:id,toggle:jd},grid:{guidelines:{isGuidelinesEnabled:kd,toggleGuidelines:ld},snapTo:{isSnapToEnabled:md,toggleSnapTo:nd}},siteSegments:{getRefs:od,getPagesContainerAbsLayout:pd},pluginService:T,tooltipTextService:V,homePage:{set:qd},openEditorVersionInfoPanel:bc,styles:{openApplyStylePanel:Ac},bi:{eventWithEditorPresets:Bc,getComponentsBIParams:Cc,getTpaComponentBIParams:Dc,reportBI:Ec,registerForBIEvents:Fc,tryFlushingConditionedEvents:Gc},campaigns:{fetchCampaignInfo:rd,getActiveCampaignInfo:sd,isActiveCampaign:td,getDiscountValue:ud,personalSale:{isActiveCampaign:vd,getDiscountValue:wd,getAssetPath:xd}},newEditorWelcomeScreenWrapper:G,showFloatingBubble:cc,hideFloatingBubble:dc,showComponentPreviewRect:ec,hideComponentPreviewRect:fc,blockingLayer:{show:yd,hide:zd},blockingPopupLayer:{show:Ad,hide:Bd},editorControls:{show:Dd,hide:Cd},getSiteScale:gc,endMouseMoveActionIfNeeded:hc,isVerticalScrollbarHidden:ic,onCollectionAdded:jc,toggleEditorStateParam:kc,toolsControl:{toggleHalfOpacityTools:Ed,toggleHideToolsBtnBlink:Fd,toggleHideTools:Gd,areToolsHidden:Hd},blog:{add:Id},cursor:{get:Jd,set:Kd,updateMousePosition:Ld},overlay:{disableUpdate:Md,enableUpdate:Nd,shouldUpdate:Od},tooltips:{disable:Pd,enable:Qd},hints:{registerForMouseEvents:Rd},topBarMenuBar:{openDropDown:Sd,enableClose:Td,disableDropDown:Ud,enableDropDown:Vd,shouldBeVisible:Wd,registerForDropDownActions:Xd,onMenuBarDropDownOpen:Yd,onMenuBarDropDownClose:Zd}};$d.history=q.create($d);$d.pinMode=P.create($d);$d.imageCrop=r.create($d);$d.ui=J.create($d);$d.promotions=Q.create($d);$d.preview=R.create($d);$d.pages=M.create($d);$d.wixCode=K.create($d);$d.wixStores=I.create();$d.selection=E.create($d);$d.layouters=N.create($d);$d.multiselect=C.create($d);$d.savePublish=w.create($d);$d.leftBar=D.create($d);$d.rulers=y.create($d);$d.tabIndicationState=z.create($d);$d.domain=t.create($d);$d.site=s.create($d);$d.mainMenu=B.create($d);$d.components=x.create($d);$d.copyPaste=H.create($d);$d.concurrentUsers=o.create($d);$d.columns=L.create($d);$d.account=S.create($d);$d.platform=O.create($d);$d.databaseEditor=F.create($d);$d.selectedComponent=v.create($d);$d.developerMode=u.create($d);$d.feedback=A.create($d);$d.theme=p.create($d);g.bindOwnMethodsDeep($d,$d);$d.previewReady=false;$d.documentServices=null;$d.userPreferences=new m;$d.editor=X;$d.editorConfig=ea();$d.pendingStateChanges={};$d.pendingEditorStateUpdateCallbacks=[];$d.removePlugins={};$d.duplicatePlugins={};$d.compNamePlugins={};$d.compIconPlugins={};$d.cannotRemovePlugins={};$d.copyComponentPlugins={};$d.pasteComponentPlugins={};$d.cutComponentPlugins={};$d.addComponentPlugins={};$d.pageNavigationCallbacks=[];$d.viewerUpdateCallbacks=[$d.onViewerChanged];$d.userPreferencesInitCallbacks=[$d.initViewToolsFromUserPrefs,$d.initUserAddedColors,$d.initWelcomeScreen,$d.initDevModeValues,$d.dispatchUserPrefLoaded];$d.sitePublishedCallbacks=[];$d.deviceTypeChangeCallbacks=[];$d.biConditionedEventsQueue=[];$d.registeredHideBubbleOnPreview=false;$d.isSavedInCurrentSession=false;$d.pasteLogic=W;$d.mediaServices=new h;$d.panelManager=f.PanelManager.create();$d.saveManager=n.createSaveManager($d.panelManager,a.log);if(window.testApi&&window.testApi.domSelectors){window.testApi.domSelectors.setSearchRoot($d.editor);window.testApi.editorAPI=$d;window.testApi.bi=g.automationUtil.bi}return $d}return{create:oa}});define("rEditor/rootComps/keyboard/config/topContextShortcuts",["lodash"],function(a){"use strict";var b=function(a){a.preventDefault()};var c={esc:b,"ctrl + t, command + t":b,"ctrl + y, command + y":b,"ctrl + d, command + d":b,"ctrl + s, command + s":b,"ctrl + ], command + ]":b,"ctrl + [, command + [":b,"ctrl + shift + ], command + shift + ]":b,"ctrl + shift + [, command + shift + [":b,backspace:b,"ctrl + left, command + left":b,"ctrl + right, command + right":b,"ctrl + shift + left, command + shift + left":b,"ctrl + shift + right, command + shift + right":b,"ctrl + m, command + m":b,"ctrl + shift + m, command + shift + m":b};return{init:a.once(a.noop),shortcuts:c}});define("rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap",["core"],function(a){"use strict";var b=a.constants.KEYBOARD_SPECIAL_KEY.value;var c=a.constants.KEYBOARD_SPECIAL_KEY.label;return{editor:{SELECT_ALL:{key:b+" + a",label:""},GROUP_COMPONENTS:{key:b+" + g",label:""},UNGROUP_COMPONENTS:{key:b+" + shift + g",label:""},COPY:{key:b+" + c",label:c+" + C"},PASTE:{key:b+" + v",label:c+" + V"},APPLY_MODE:{key:b+" + shift + v",label:c+" + Shift + V"},CUT:{key:b+" + x",label:c+" + X"},DUPLICATE:{key:b+" + d",label:c+" + D"},UNDO:{key:b+" + z",label:c+" + Z"},REDO:{key:[b+" + y",b+" + shift + z"].join(","),label:c+" + Y"},DELETE:{key:["del","backspace"].join(","),label:"Del"},SAVE:{key:b+" + s",label:c+" + S"},SAVE_AS_TEMPLATE:{key:b+" + alt + t",label:""},SELECT_NEXT_COMP:{key:b+" + m",label:""},SELECT_PREV_COMP:{key:b+" + shift + m",label:""},CLOSE_PANELS:{key:"esc",label:""},MOVE_RIGHT:{key:"right",label:""},SHIFT_RIGHT:{key:"shift + right",label:""},MOVE_LEFT:{key:"left",label:""},SHIFT_LEFT:{key:"shift + left",label:""},MOVE_UP:{key:"up",label:""},SHIFT_UP:{key:"shift + up",label:""},MOVE_DOWN:{key:"down",label:""},SHIFT_DOWN:{key:"shift + down",label:""},SEND_FORWARD:{key:b+" + right",label:c+" + →"},SEND_TO_FRONT:{key:b+" + shift + right",label:c+" + Shift + →"},SEND_BACKWARD:{key:b+" + left",label:c+" + ←"},SEND_TO_BACK:{key:b+" + shift + left",label:c+" + Shift + ←"},TOGGLE_MOBILE:{key:b+" + j",label:c+" + j"},TOGGLE_PREVIEW:{key:b+" + p",label:c+" + P"},PUBLISH_SITE:{key:b+" + shift + p",label:c+" + Shift + P"},HIDE_TOOLS:{key:"shift + f",label:"Shift + F"},TOGGLE_RULERS:{key:"shift + r",label:"Shift + R"},PLATFORM_APP_CONFIGURATION:{key:b+"+ shift + e",label:c+"+ shift + e"},ADD_APPLICATIVE_MODE:{key:b+"+ shift + a",label:c+"+ shift + e"}},preview:{EXIT_PREVIEW:{key:"esc",label:""},TOGGLE_PREVIEW:{key:b+" + p",label:c+" + P"},PUBLISH_SITE:{key:b+" + shift + p",label:c+" + Shift + P"}},topBar:{CLOSE_DROP_PANEL:{key:"esc",label:""}},imageCrop:{APPLY:{key:"enter",label:"Enter"},CANCEL:{key:"esc",label:"Esc"}}}});define("rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions",["lodash","core","util","savePublish","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","editorHints","experiment"],function(a,b,c,d,e,f,g){"use strict";var h=null;var i="savePublish.panels.save.saveYourSitePanel";var j={EDITOR:"editor",KEYBOARD_SHORTCUTS:"kb_shortcuts",SEO:"seo",CONNECT_DOMAIN:"connect_domain",BACK_TO_OLD_EDITOR:"back_to_old_editor"};function k(a,b,c){var d=h&&h.generalInfo&&h.generalInfo.isFirstSave();if(d){h.panelManager.openPanel(i,{title:b,messageBody:c},true)}else{a()}}function l(b,c,d,e){var f=e?a.cloneDeep(c):c;f.fields.status=b?1:0;if(!!e&&f.fields.category){f.fields.category+=e}h.bi.event(f.type,f.fields);d.call(h)}function m(a,c){var d=c||null;var e={panel_name:d,origin:b.constants.BI.HELP.ORIGIN.TOPBAR,learn_more:false};h.panelManager.openHelpCenter(a,null,e)}function n(){var i=h.account.getEditorVersionsInfo()||{};var n={SITE_BAR:{label:c.translate("TOPBAR_Site_Label"),bi:{type:b.bi.events.topbar.top_bar_click,fields:{category:"site"}},getCounter:function(){if(!o()){return q()}},hintProps:{id:"SiteMenuBar"},hintContainerId:f.hintsContainers.TOP_BAR_SITE_MENU_PANEL},EDIT_BAR:{label:c.translate("TOPBAR_Edit_Label"),bi:{type:b.bi.events.topbar.top_bar_click,fields:{category:"edit"}}},VIEW_BAR:{label:c.translate("Topbar_Tools_Label"),bi:{type:b.bi.events.topbar.top_bar_click,fields:{category:"view"}},hintProps:{id:"ToolsMenuBar"},hintContainerId:f.hintsContainers.TOP_BAR_TOOLS_MENU_PANEL},SETTINGS:{action:function(){k(function(){h.bi.event(b.bi.events.topbar.top_bar_open_settings_click);h.account.openSettings()},"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_BODY")},label:c.translate("TOPBAR_Settings_Label"),bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"settings"}},hintProps:{id:"SiteSettings"}},HELP_BAR:{label:c.translate("TOPBAR_HELP_TOOLTIP_TITLE"),bi:{type:b.bi.events.topbar.top_bar_click,fields:{category:"help"}},hintProps:{id:"Help"}},HELP_CENTER:{label:c.translate("TOPBAR_HELP_EDITOR_HELP"),action:function(){var a=h.isDesktopEditor();var b=g.isOpen("se_hack17_article_swap")?"3f54c71a-8f6b-438e-a134-03eaa9402662":"58406e7a-1ad0-4105-8e37-c053b529f9d8";var c=a?b:"f8b24a99-cefd-4c55-adda-aa66ec643259";m(c,j.EDITOR)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_center"}}},HELP_VIDEOS:{label:c.translate("TOPBAR_HELP_HOWTO_VIDEOS"),action:function(){h.panelManager.openPanel("panels.focusPanels.howToVideoGalleryPanel")},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_videos"}}},HELP_KB_SHORTCUTS:{separator:true,label:c.translate("TOPBAR_HELP_KB_SHORTCUTS"),action:function(){m("5a3238e6-ebe9-4aca-a7a2-1c717598e334",j.KEYBOARD_SHORTCUTS)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_kb_shortcuts"}}},HELP_CONNECT_DOMAIN:{label:c.translate("TOPBAR_HELP_CONNECT_DOMAIN"),action:function(){m("a06941d9-7683-4ced-bce3-bd2cc3c7d6e9",j.CONNECT_DOMAIN)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_connect_domain"}}},HELP_SEO:{separator:true,label:c.translate("TOPBAR_HELP_SEO"),action:function(){var a=g.isOpen("se_hack17_article_swap")?"e3184121-2de2-4dec-8adc-d0a037d9e925":"ab2c2a83-5bc0-435e-ab82-f2c1036580a7";m(a,j.SEO)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_seo"}}},TERMS_OF_USE:{label:c.translate("TOPBAR_HELP_TERMS_OF_USE"),action:function(){var a=c.serviceTopology.basePublicUrl+"about/terms-of-use";var b=c.languages.getLocalizedLink(a);window.open(b)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"terms_of_use"}}},PRIVACY_POLICY:{label:c.translate("TOPBAR_HELP_PRIVACY_POLICY"),action:function(){var a=c.serviceTopology.basePublicUrl+"about/privacy";var b=c.languages.getLocalizedLink(a);window.open(b)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"privacy_policy"}}},SAVE:{label:c.translate("TOPBAR_Site_Save"),action:function(){h.saveManager.save(h,{origin:"top_bar_site_menu"})},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"save"}}},VIEW_SITE:{label:c.translate("TOPBAR_SITE_VIEWSITE"),action:function(){if(!n.VIEW_SITE.disabledChecker()){var a=h.site.getSitePublicUrl();window.open(a);return true}return false},disabledChecker:function(){return!h||!h.generalInfo||!h.generalInfo.isSitePublished()},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"view_site"}}},PREVIEW:{label:c.translate("TOPBAR_PREVIEW_TOOLTIP_TITLE"),action:h.preview.togglePreview,bi:[{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"preview"}},{type:b.bi.events.preview.PREVIEW_CLICK,fields:{origin:"menubar"}}]},FEEDBACK:{label:c.translate("TOPBAR_GetFeedback_Label"),action:function(){k(h.panelManager.openPanel.bind(null,"panels.focusPanels.feedbackPanel"),"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_BODY")},getCounter:q,bi:[{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"feedback"}},{type:b.bi.events.preview.PREVIEW_CLICK,fields:{origin:"menubar"}}],visibilityFunc:function(){return!p()&&h.account.isUserOwner()},hintProps:{id:"GetFeedback"}},GET_TRAFFIC:{label:c.translate("TOPBAR_GetTraffic_Label"),action:function(){if(!n.GET_TRAFFIC.disabledChecker()){h.panelManager.openPanel("panels.focusPanels.getTrafficPanel",{title:"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_BODY"},true);return true}return false},bi:[{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"get_traffic"}}],disabledChecker:function(){return!h||!h.generalInfo||!h.generalInfo.isSitePublished()},visibilityFunc:function(){return!a.result(h,"account.isWixSEOWizExperimentOpen")}},GO_TO_SEO_WIZ:{label:c.translate("TOPBAR_GetTraffic_New_Label"),action:function(){h.account.openWixSEOWiz()},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"get_traffic"}},visibilityFunc:function(){return a.result(h,"account.isWixSEOWizExperimentOpen")}},PUBLISH:{label:c.translate("TOPBAR_Site_Publish"),action:function(){if(!n.PUBLISH.disabledChecker()){d.saveAndPublish(h,"top_bar_site_menu_publish")}},disabledChecker:function(){return!h.savePublish.canUserPublish()},bi:[{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"publish"}},{type:b.bi.events.publish.PUBLISH_CLICK,fields:{origin:"menubar"}}]},EDITOR_MODE_SWITCH:{separator:true,labelFunc:function(){return h&&h.isMobileEditor()?c.translate("Topbar_Site_Desktop_Editor"):c.translate("Topbar_Site_Mobile_Editor")},action:function(){h.setEditorMode(!h.isMobileEditor())},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"editor_mode_switch"}}},REVISIONS:{label:c.translate("TOPBAR_Site_Site_Revisions"),action:function(){k(h.account.openRevisions,"TOPBAR_SITE_HISTORY_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_HISTORY_SAVE_FIRST_MSG_BODY")},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"revisions"}},hintProps:{id:"SiteHistory"}},SITE_DASHBOARD:{label:c.translate("TOPBAR_SITE_DASHBOARD"),action:function(){k(h.account.manage,"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY")},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"site_dashboard"}}},EXIT:{label:c.translate("TOPBAR_Site_Logout"),action:h.exitEditor,bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"logout"}}},UNDO:{label:c.translate("TOPBAR_Edit_Undo"),shortcutLabel:e.editor.UNDO.label,action:h.history.undo,bi:{type:b.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"undo"}}},REDO:{label:c.translate("TOPBAR_Edit_Redo"),shortcutLabel:e.editor.REDO.label,action:h.history.redo,bi:{type:b.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"redo"}}},CUT:{label:c.translate("TOPBAR_Edit_Cut"),shortcutLabel:e.editor.CUT.label,compActionRestrictionNames:["duplicatable","removable"],action:function(){h.selectedComponent.sendSelectedComponentBI(b.bi.events.topbar.top_bar_EDIT_menu_click,{category:"cut"});h.selectedComponent.cut();h.history.add("component - cut")}},COPY:{label:c.translate("TOPBAR_Edit_Copy"),shortcutLabel:e.editor.COPY.label,compActionRestrictionNames:["duplicatable"],action:function(){h.selectedComponent.sendSelectedComponentBI(b.bi.events.topbar.top_bar_EDIT_menu_click,{category:"copy"});h.selectedComponent.copy()}},PASTE:{label:c.translate("TOPBAR_Edit_Paste"),shortcutLabel:e.editor.PASTE.label,compActionRestrictionNames:["duplicatable"],action:function(){h.copyPaste.paste();h.history.add("component - paste")},bi:{type:b.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"paste"}}},DUPLICATE:{label:c.translate("TOPBAR_Edit_Duplicate"),shortcutLabel:e.editor.DUPLICATE.label,compActionRestrictionNames:["duplicatable"],action:function(){h.selectedComponent.sendSelectedComponentBI(b.bi.events.topbar.top_bar_EDIT_menu_click,{category:"duplicate"});h.selectedComponent.duplicate();h.history.add("component - duplicate")}},DELETE:{labelFunc:function(){return h.isDesktopEditor()?c.translate("TOPBAR_Edit_Delete"):c.translate("TOPBAR_Edit_HIDE")},shortcutLabel:e.editor.DELETE.label,compActionRestrictionNames:["removable"],action:function(){h.selectedComponent.sendSelectedComponentBI(b.bi.events.topbar.top_bar_EDIT_menu_click,{category:"delete"});h.selectedComponent.remove();h.history.add("component - remove")}},TOOLBAR:{label:c.translate("TOPBAR_VIEW_TOOLBAR_TITLE"),isCheckbox:true,menuPropsKey:"toolbarEnabled",action:function(a,b){l(!h.toolbar.isToolbarEnabled(),n.TOOLBAR.biData,h.toolbar.toggleToolbar,b?"(Image)":null)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"toolbar",status:null}}},RULERS:{label:c.translate("TOPBAR_VIEW_RULERS1"),isCheckbox:true,menuPropsKey:"rulersEnabled",action:function(b,c){var d=a.cloneDeep(n.RULERS.biData);d.fields.editor_view_mode=h.getDeviceType();l(!h.rulers.isRulersEnabled(),d,h.rulers.toggleRulers,c?"(Image)":null)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"rulers",status:null,editor_view_mode:null}},hintProps:{id:"Rulers"}},GUIDELINES:{label:c.translate("TOPBAR_VIEW_GRIDLINES_TITLE"),isCheckbox:true,isDisabled:function(){return!h.isDesktopEditor()},menuPropsKey:"guidelinesEnabled",action:function(a,b){l(!h.grid.guidelines.isGuidelinesEnabled(),n.GUIDELINES.biData,h.grid.guidelines.toggleGuidelines,b?"(Image)":null)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"guidelines",status:null}}},SNAP:{label:c.translate("TOPBAR_VIEW_SNAP_TITLE"),isCheckbox:true,menuPropsKey:"snapToEnabled",action:function(a,b){l(!h.grid.snapTo.isSnapToEnabled(),n.SNAP.biData,h.grid.snapTo.toggleSnapTo,b?"(Image)":null)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"snap",status:null}}},SECTIONS:{label:c.translate("TOPBAR_VIEW_SECTIONS"),isCheckbox:true,menuPropsKey:"sectionsHandlesEnabled",visibilityFunc:function(){return h.isDesktopEditor()},action:function(a,b){l(!h.sectionsHandles.areSectionsHandlesEnabled(),n.SECTIONS.biData,h.sectionsHandles.toggleSectionsHandles,b?"(Image)":null)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"sectionshandles",status:null}}}};n.IMAGE_OPTIMIZATION={label:c.translate("TOPBAR_SITE_IMAGE_QUALITY"),action:function(){h.panelManager.openPanel("panels.focusPanels.siteImageOptimizationPanel",{panelName:"panels.focusPanels.siteImageOptimizationPanel"})},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"image_optimization"}}};if(g.isOpen("developerModeToggle")){n.SECTIONS.separator=true;n.DEVELOPER_MODE={label:c.translate("TOPBAR_VIEW_DEVELOPER_MODE_TITLE"),isCheckbox:true,menuPropsKey:"developerModeEnabled",action:function(a,c,d){if(!h.userPreferences.site.get(b.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)){d()}l(!h.developerMode.isEnabled(),n.DEVELOPER_MODE.biData,h.developerMode.toggle,c?"(Image)":null)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"dev_mode",status:null}}};n.PROPERTIES_TOOLBAR={label:c.translate("TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_TITLE"),isCheckbox:true,visibilityFunc:function(){return h.developerMode.isEnabled()},menuPropsKey:"developerToolBarEnabled",action:function(){l(!h.developerToolBar.isEnabled(),n.PROPERTIES_TOOLBAR.biData,h.developerToolBar.toggle)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"properties_panel",status:null}}};n.HIDDEN_ELEMENTS={label:c.translate("TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_TITLE"),isCheckbox:true,visibilityFunc:function(){return h.developerMode.isEnabled()},menuPropsKey:"showHiddenComponents",action:function(){l(!h.developerHiddenComponents.isEnabled(),n.HIDDEN_ELEMENTS.biData,h.developerHiddenComponents.toggle)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"show_hidden_components",status:null}}}}if(h.account.isUserOwner()){n.UPGRADE={label:c.translate(g.isOpen("spanishUpgradeText")?"UPGRADE_FOR_SPAIN_ONLY":"TOPBAR_Upgrade_Label"),bi:{type:b.bi.events.topbar.top_bar_click,fields:{category:"upgrade"}},hintProps:{id:"Premium"}};if(!h.wixStores.isSiteInWixStoreTestDrive()){n.UPGRADE_ITEM={label:c.translate(g.isOpen("spanishUpgradeText")?"UPGRADE_FOR_SPAIN_ONLY":"TOPBAR_Upgrade_Label"),separator:true,className:"menu-bar-item-upgrade",action:function(){k(h.account.upgrade.bind(h,"edhtml_TOP_BAR_SITE_MENU_UPGRADE"),"TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_BODY")},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"upgrade"}}};n.CONNECT_DOMAIN={label:c.translate("TOPBAR_SITE_CONNECT_DOMAIN"),action:function(){if(h.generalInfo.isFirstSave()){h.saveManager.save(h)}else{h.account.openConnectDomain(b.constants.CONNECT_DOMAIN.FLOWS.TOP_BAR)}},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"connect_domain"}}}}}if(o()){n.BACK_TO_OLD_EDITOR={label:c.translate("Topbar_oldeditor_link"),action:function(){if(i.isEligibleForSwitch){h.panelManager.openPanel("panels.messagePanels.switchToOldEditorConfirmationPanel",{title:"Notification_Box_ToOldEditor_Title"})}else{m("85aae89a-84f6-4967-b866-e5c39c91d635",j.BACK_TO_OLD_EDITOR)}},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"back_to_old_editor"}},visibilityFunc:o}}return n}function o(){var a=h.account.getEditorVersionsInfo()||{};return!a.isNewUser&&a.userOverride==="none"&&a.isEligibleForSwitch&&!h.isSavedInCurrentSession}function p(){var a=h.account.getEditorVersionsInfo()||{};return a.isEligibleForSwitch&&!h.isSavedInCurrentSession&&!h.generalInfo.isTemplate()}function q(){var a=h.feedback.getNewCommentsCounter();return a>99?"99+":a}var r={init:a.once(function(b){h=b;var c=n();a.merge(r,c)})};return r});define("rEditor/rootComps/keyboard/config/topBarShortcuts",["lodash","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions"],function(a,b){"use strict";var c={};function d(){a.forEach(b,function(a){if(a&&a.shortcut){c[a.shortcut]=a.action}})}return{init:a.once(function(a){b.init(a);d()}),shortcuts:c}});define("rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions",["lodash","core"],function(a,b){"use strict";var c=["PAGES_CONTAINER","SITE_PAGES","BACK_TO_TOP_BUTTON"];function d(a,b,c){return c==="x"&&a.components.is.horizontallyMovable(b)||c==="y"&&a.components.is.verticallyMovable(b)}function e(b){var d=b.pages.getFocusedPageId();var e=b.components.getAllComponents(d);var f=a.filter(e,function(b){return!a.includes(c,b.id)});return f}function f(b,c,d){var e=a.findIndex(c,{id:d});var g=e+1===c.length;var h=g?0:e+1;if(!b.components.is.selectable(c[h])){return f(b,c,c[h].id)}return c[h]}function g(b,c,d){var e=a.findIndex(c,{id:d});var f=e===0?c.length-1:e-1;if(!b.components.is.selectable(c[f])){return g(b,c,c[f].id)}return c[f]}function h(a,b){var c=a.height/2;return Math.max(b-c,0)}function i(a,c){var d=b.utils.stageUtils.getStageLayout();var e=a.components.layout.getRelativeToScreen(c);b.utils.scrollUtils.setScroll({scrollTop:h(d,e.y)})}function j(a,b){a.selection.selectComponentByCompRef(b);i(a,b)}return{selectNextComponent:function a(b){var c=b.selection.getSelectedComponentId();if(!c){return}var d=f(b,e(b),c);j(b,d)},selectPreviousComponent:function a(b){var c=b.selection.getSelectedComponentId();if(!c){return}var d=g(b,e(b),c);j(b,d)},moveComponent:function(b,c,e){var f=b.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(b.selection.getSelectedComponents());if(f&&d(b,f,c)){b.waitForChangesApplied(function(){var d=b.components.layout.getRelativeToStructure(f);var g=a.clone(d);g[c]+=e;if(e===10){g[c]=Math.floor(g[c]/10)*10}else if(e===-10){g[c]=Math.ceil(g[c]/10)*10}b.components.layout.updateRelativeToStructure(f,g)})}return f}}});define("rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil",["core","lodash","savePublish"],function(a,b,c){"use strict";var d=a.constants.KEYBOARD_SPECIAL_KEY.value;function e(a){var e={};var f=b(window.editorModel.runningExperiments).pickBy(function(a){return a==="new"}).keys().value();e["ctrl + alt + shift + v"]=a.openEditorVersionInfoPanel.bind(a);e["ctrl + alt + shift + e"]=function(){window.alert("Active Experiments:\n"+f.join("\n"))};var g=window.location.search&&window.location.search.toLowerCase();var h=b.includes(g,"debug=")||b.includes(g,"isqa=true");if(h){e[d+" + shift + alt + s"]=b.partial(c.configureSave,a);e[d+" + shift + alt + p"]=c.configurePublish.bind(c,a)}return e}return e});define("rEditor/rootComps/keyboard/util/sendBIAndActionUtil",["core","lodash"],function(a,b){"use strict";function c(a,c){b.assign(c,a)}function d(a,d,e){if(a&&d){var f=a.selection.getSelectedComponents();var g=a.bi.getComponentsBIParams(f);b.forEach(g,c.bind(null,e));if(b.isEmpty(g)&&e){g.push(e)}a.bi.reportBI(d,g)}}return d});define("rEditor/rootComps/keyboard/config/editorShortcuts",["lodash","core","panels","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/sendBIAndActionUtil","experiment"],function(a,b,c,d,e,f,g,h){"use strict";var i={};var j=d.editor;function k(b){var c={};c[j.GROUP_COMPONENTS.key]=m.bind(null,b);c[j.UNGROUP_COMPONENTS.key]=n.bind(null,b);c[j.COPY.key]=l.bind(null,b);c[j.CUT.key]=p.bind(null,b);c[j.DUPLICATE.key]=o.bind(null,b);c[j.MOVE_RIGHT.key]=q.bind(null,b,"x",1);c[j.MOVE_LEFT.key]=q.bind(null,b,"x",-1);c[j.MOVE_UP.key]=q.bind(null,b,"y",-1);c[j.MOVE_DOWN.key]=q.bind(null,b,"y",1);c[j.SHIFT_RIGHT.key]=q.bind(null,b,"x",10);c[j.SHIFT_LEFT.key]=q.bind(null,b,"x",-10);c[j.SHIFT_UP.key]=q.bind(null,b,"y",-10);c[j.SHIFT_DOWN.key]=q.bind(null,b,"y",10);c[j.ADD_APPLICATIVE_MODE.key]=function(){if(h.isOpen("applicativeModes")){var c=a.head(b.selection.getSelectedComponents());if(c){var d=b.components.modes.getModes(c);var e="mode-"+(d?d.length:"0");b.components.modes.addModeDefinition(c,"APPLICATIVE",null,e)}}};var d=f(b);a.merge(c,d);a.merge(i,c)}function l(a){var c=b.bi.events.rightClickMenu;var d=a.selection.getSelectedComponents();var e=a.components.layout.isPinned(d)?1:0;a.selectedComponent.copy();if(d){var f=a.components.getType(d);g(a,c.COPY,{origin:"keyboard",is_component_pinned:e,component_type:f})}}function m(a,b){var c=a.selection.getSelectedComponents();if(a.components.is.groupable(c)&&a.multiselect.isMultiselect(c)){a.groupComponents(c)}b.preventDefault()}function n(a,b){var c=a.selection.getSelectedComponents();if(a.components.is.group(c)){a.components.ungroup(c)}b.preventDefault()}function o(a){var c=b.bi.events.rightClickMenu;var d=a.selection.getSelectedComponents();var e=a.components.layout.isPinned(d)?1:0;a.selectedComponent.duplicate();if(a.selection.getSelectedComponentType()!=="Column"){a.history.add("component - duplicate")}g(a,c.DUPLICATE,{origin:"keyboard",is_component_pinned:e})}function p(a){var c=b.bi.events.rightClickMenu;var d=a.selection.getSelectedComponents();var e=a.components.layout.isPinned(d)?1:0;a.selectedComponent.cut();a.history.add("component - cut");g(a,c.CUT,{origin:"keyboard",is_component_pinned:e})}function q(a,b,c,d){if(d){d.preventDefault()}e.moveComponent(a,b,c)}return{init:function(a){k(a)},shortcuts:i}});define("rEditor/rootComps/keyboard/config/previewShortcuts",["lodash","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(a,b){"use strict";var c={};function d(a){a.preventDefault()}return{init:a.once(function(a){c[b.preview.EXIT_PREVIEW.key]=a.preview.togglePreview;c[b.preview.TOGGLE_PREVIEW.key]=e.bind(this,a);c[b.preview.PUBLISH_SITE.key]=d}),shortcuts:c};function e(a,b){b.preventDefault();a.preview.togglePreview()}});define("rEditor/rootComps/keyboard/config/pinModeShortcuts",["lodash","core","panels","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions"],function(a,b,c,d,e){"use strict";var f={};var g=d.editor;function h(c){var d=b.bi.events.rightClickMenu;var h={};h[g.GROUP_COMPONENTS.key]=j;h[g.UNGROUP_COMPONENTS.key]=j;h[g.COPY.key]=i.bind(null,c,d.COPY,{is_component_pinned:1});h[g.CUT.key]=i.bind(null,c,d.CUT,{is_component_pinned:1});h[g.DUPLICATE.key]=i.bind(null,c,d.DUPLICATE,{is_component_pinned:1});h[g.MOVE_RIGHT.key]=j;h[g.MOVE_LEFT.key]=j;h[g.MOVE_UP.key]=j;h[g.MOVE_DOWN.key]=j;h[g.SHIFT_RIGHT.key]=j;h[g.SHIFT_LEFT.key]=j;h[g.SHIFT_UP.key]=j;h[g.SHIFT_DOWN.key]=j;var k=e(c);a.merge(h,k);a.merge(f,h)}function i(b,c,d){if(b&&c){var e=b.selection.getSelectedComponents();var f=b.bi.getComponentsBIParams(e);a.forEach(f,k.bind(null,d));if(a.isEmpty(f)&&d){f.push(d)}b.bi.reportBI(c,f)}}function j(a){a.preventDefault()}function k(b,c){a.assign(c,b)}return{init:function(a){h(a)},shortcuts:f}});define("rEditor/rootComps/keyboard/util/commonKeyboardActions",["core","savePublish","rEditor/rootComps/keyboard/util/sendBIAndActionUtil","pLoader!santa:utils"],function(a,b,c,d){"use strict";function e(b){var d=a.bi.events.editor.undo_redo_component_change;b.history.undo();c(b,d,{type:"undo",origin:"keyboard"})}function f(b){var d=a.bi.events.editor.undo_redo_component_change;b.history.redo();c(b,d,{type:"redo",origin:"keyboard"})}function g(a){a.saveManager.save(a,{origin:"keyboard"})}function h(a){a.saveManager.saveAsTemplate(a,function(){d.log.info("Saved successfully as Template.")})}function i(c,d){if(!c.savePublish.canUserPublish()){return}d.preventDefault();c.bi.event(a.bi.events.publish.PUBLISH_CLICK,{origin:"keyboard"});b.saveAndPublish(c,"keyboard_publish")}return{undoFromKeyboard:e,redoFromKeyboard:f,saveSiteFromKeyboard:g,saveSiteAsTemplateFromKeyboard:h,publishSiteFromKeyboard:i}});define("rEditor/rootComps/keyboard/config/zoomModeShortcuts",["lodash","rEditor/rootComps/keyboard/util/commonKeyboardActions","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(a,b,c){"use strict";var d={};var e=c.editor;function f(c){var f={};f[e.UNDO.key]=b.undoFromKeyboard.bind(null,c);f[e.REDO.key]=b.redoFromKeyboard.bind(null,c);f[e.SAVE.key]=b.saveSiteFromKeyboard.bind(null,c);f[e.SAVE_AS_TEMPLATE.key]=b.saveSiteAsTemplateFromKeyboard.bind(null,c);f[e.PUBLISH_SITE.key]=b.publishSiteFromKeyboard.bind(null,c);a.assign(d,f)}return{init:function(a){f(a)},shortcuts:d}});define("rEditor/rootComps/keyboard/config/imageCropShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions"],function(a,b,c){"use strict";var d={};var e=c.imageCrop;function f(b){var c={};c[e.APPLY.key]=g.bind(null,b);c[e.CANCEL.key]=h.bind(null,b);a.merge(d,c)}function g(c){var d=c.selection.getSelectedComponents();var e=c.selection.getSelectedComponentData().crop;c.imageCrop.updateCrop();c.imageCrop.toggleCropMode(false);c.waitForChangesApplied(function(){var f=c.components.data.get(d).crop;var g=!a.isEqual(e,f);c.bi.event(b.bi.events.imageCrop.apply_crop,{is_changed:g,origin:"enter"})})}function h(a){a.imageCrop.toggleCropMode(false)}return{init:function(a){f(a)},shortcuts:d}});define("rEditor/rootComps/keyboard/config/baseEditorShortcuts",["lodash","core","experiment","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/commonKeyboardActions","rEditor/rootComps/keyboard/util/sendBIAndActionUtil"],function(a,b,c,d,e,f,g,h){"use strict";var i={};var j=d.editor;var k=0;function l(b){var c={};c[j.SELECT_ALL.key]=b.selection.selectAll;c[j.PASTE.key]=n.bind(null,b);c[j.APPLY_MODE.key]=o.bind(null,b);c[j.UNDO.key]=g.undoFromKeyboard.bind(null,b);c[j.REDO.key]=g.redoFromKeyboard.bind(null,b);c[j.DELETE.key]=s.bind(null,b);c[j.SAVE.key]=g.saveSiteFromKeyboard.bind(null,b);c[j.SAVE_AS_TEMPLATE.key]=g.saveSiteAsTemplateFromKeyboard.bind(null,b);c[j.SELECT_NEXT_COMP.key]=t.bind(null,b);c[j.SELECT_PREV_COMP.key]=u.bind(null,b);c[j.TOGGLE_RULERS.key]=v.bind(null,b);c[j.CLOSE_PANELS.key]=w.bind(null,b);c[j.SEND_TO_FRONT.key]=m.toFront.bind(null,b);c[j.SEND_TO_BACK.key]=m.toBack.bind(null,b);c[j.SEND_FORWARD.key]=m.forward.bind(null,b);c[j.SEND_BACKWARD.key]=m.backward.bind(null,b);c[j.TOGGLE_PREVIEW.key]=p.bind(null,b);c[j.TOGGLE_MOBILE.key]=q.bind(null,b);c[j.PLATFORM_APP_CONFIGURATION.key]=r.bind(null,b);c[j.PUBLISH_SITE.key]=g.publishSiteFromKeyboard.bind(null,b);c[j.HIDE_TOOLS.key]=x.bind(null,b);var d=f(b);a.merge(c,d);a.merge(i,c)}var m={toFront:function(a){var c=a.selection.getSelectedComponents();
if(a.components.is.controlledByParent(c)){return}a.components.arrangement.moveToFront(c);h(a,b.bi.events.rightClickMenu.BRING_TO_FRONT,{origin:"keyboard"})},toBack:function(a){var c=a.selection.getSelectedComponents();if(a.components.is.controlledByParent(c)){return}a.components.arrangement.moveToBack(c);h(a,b.bi.events.rightClickMenu.SEND_TO_BACK,{origin:"keyboard"})},forward:function(a){var c=a.selection.getSelectedComponents();if(a.components.is.controlledByParent(c)){return}a.components.arrangement.moveForward(c);h(a,b.bi.events.rightClickMenu.MOVE_FORWARD,{origin:"keyboard"})},backward:function(a){var c=a.selection.getSelectedComponents();if(a.components.is.controlledByParent(c)){return}a.components.arrangement.moveBackward(c);h(a,b.bi.events.rightClickMenu.MOVE_BACKWARDS,{origin:"keyboard"})}};function n(c){var d=b.bi.events.rightClickMenu;var e=c.clipboard.getItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(e){var f=a.map(e.components,"serializedComp.layout");var g=c.components.layout.isPinnedBySerializedLayout(f)?1:0;c.copyPaste.paste();c.history.add("component - paste");h(c,d.PASTE,{origin:"keyboard",is_component_pinned:g})}}function o(a){var d=b.bi.events.rightClickMenu;if(c.isOpen("se_hoverBox")&&a.copyPaste.canApplyModeFromClipboard()){a.copyPaste.applyModeFromClipboard(a.selection.getSelectedComponents());h(a,d.APPLY_MODE_FROM_CLIPBOARD,{origin:"keyboard"})}}function p(a,c){c.preventDefault();a.bi.event(b.bi.events.preview.PREVIEW_CLICK,{origin:"keyboard"});a.preview.togglePreview()}function q(a,c){c.preventDefault();a.bi.event(b.bi.events.topbar.editor_view_mode_switch,{origin:"keyboard"});var d=a.isMobileEditor();a.setEditorMode(!d)}function r(a){if(k>=8){a.platform.initApp({applicationId:9,editorUrl:"http://static.parastorage.com/services/editor-platform-app-configuration-ui-node/1.12.0/assets/editor.js"});k=0}else{k++}}function s(a){var c=a.selection.getSelectedComponents();var d=a.components.layout.isPinned(c)?1:0;a.selectedComponent.remove();a.history.add("component - remove");h(a,b.bi.events.editor.component_removed,{removal_method:"keyboard",is_component_pinned:d})}function t(a){a.panelManager.closeAllPanels();e.selectNextComponent(a)}function u(a){a.panelManager.closeAllPanels();e.selectPreviousComponent(a)}function v(a){a.rulers.toggleRulers()}function w(a){var c=a.panelManager;var d=c.getOpenPanels();if(d.length>0){c.closeAllPanelsOfType(["leftPanelFrame","compPanelFrame","focusPanelFrame","messagePanelFrame","pagesPanelFrame","toolPanelFrame","tpaSettingsPanelFrame"])}else if(c.getHelpPanelProps()){c.closeHelpCenter()}else if(a.selection.isComponentSelected()){a.selection.deselectComponents()}else{a.toolsControl.toggleHideTools(false);a.bi.event(b.bi.events.editor.hide_tools.show_controls,{origin:"shortcut"})}}function x(a){var c=a.toolsControl.toggleHideTools(),d=c?"hide_controls":"show_controls";a.bi.event(b.bi.events.editor.hide_tools[d],{origin:"shortcut"})}return{init:function(a){l(a)},shortcuts:i}});define("rEditor/rootComps/keyboard/config/shortcutsConfig",["util","lodash","rEditor/rootComps/keyboard/config/topContextShortcuts","rEditor/rootComps/keyboard/config/topBarShortcuts","rEditor/rootComps/keyboard/config/editorShortcuts","rEditor/rootComps/keyboard/config/previewShortcuts","rEditor/rootComps/keyboard/config/pinModeShortcuts","rEditor/rootComps/keyboard/config/zoomModeShortcuts","rEditor/rootComps/keyboard/config/imageCropShortcuts","rEditor/rootComps/keyboard/config/baseEditorShortcuts"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=a.keyboardShortcuts;function l(a,b){return function(){b();return a.apply(null,arguments)}}function m(a,c){return b.mapValues(a,function(a){return l(a,c)})}function n(a,b){k.registerContext(k.CONTEXTS.TOP_CONTEXT,m(c.shortcuts,b),a);var l=k.extendContext(k.CONTEXTS.TOP_CONTEXT,m(j.shortcuts,b));k.registerContext(k.CONTEXTS.BASE_EDITOR,l,a);var n=k.extendContext(k.CONTEXTS.TOP_CONTEXT,m(f.shortcuts,b));k.registerContext(k.CONTEXTS.PREVIEW,n,a);var o=k.extendContext(k.CONTEXTS.BASE_EDITOR,m(e.shortcuts,b));k.registerContext(k.CONTEXTS.EDITOR,o,a);var p=k.extendContext(k.CONTEXTS.BASE_EDITOR,m(g.shortcuts,b));k.registerContext(k.CONTEXTS.PIN_MODE,p,a);var q=k.extendContext(k.CONTEXTS.EDITOR,m(d.shortcuts,b));k.registerContext(k.CONTEXTS.TOP_BAR,q,a);var r=k.extendContext(k.CONTEXTS.TOP_CONTEXT,m(i.shortcuts,b));k.registerContext(k.CONTEXTS.IMAGE_CROP,r,a);var s=k.extendContext(k.CONTEXTS.TOP_CONTEXT,m(h.shortcuts,b));k.registerContext(k.CONTEXTS.ZOOM_MODE,s,a)}return{init:b.once(function(a){c.init(a);f.init(a);j.init(a);g.init(a);i.init(a);h.init(a);e.init(a);d.init(a);n(a,a.closeRightClickMenu)})}});define("rEditor/rootComps/topBar/config/topBarData.json",[],function(){return{EDIT:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"PAGES_LIST",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MENU",orientation:"left"},{comp:"SEPARATOR",orientation:"right"},{comp:"ZOOMOUT",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"UNDO",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"REDO",orientation:"right"},{comp:"REDO_SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"PREVIEW",orientation:"right"},{comp:"PUBLISH",orientation:"right"},{comp:"WIXSTORES_MIGRATION_SAVE",orientation:"right"}],PREVIEW:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MOBILE_NON_OPTIMIZED_NOTIFICATION",orientation:"center"},{comp:"PREVIEW_NOTIFICATION",orientation:"center"},{comp:"SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"PREVIEW_SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"BACK_TO_EDITOR",orientation:"right"}]}});define("rEditor/rootComps/topBar/menuBar/config/topBarMenuData.json",[],function(){return[{key:"SITE_BAR",children:[{key:"SAVE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SAVE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SAVE_PROMOTION_TITLE",message:"TOPBAR_SITE_SAVE_PROMOTION_TEXT",symbol:"menubarSaveSitePromotion"}}},{key:"PREVIEW",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PREVIEW",style:{width:192,minHeight:396},title:"TOPBAR_SITE_PREVIEW_PROMOTION_TITLE",message:"TOPBAR_SITE_PREVIEW_PROMOTION_TEXT",symbol:"menubarPreviewSitePromotion"}}},{key:"FEEDBACK",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"FEEDBACK",style:{width:192,minHeight:396},title:"TOPBAR_GetFeedback_Promotion_Title",message:"TOPBAR_GetFeedback_Promotion_Text",symbol:"menubarfeedbackPromotion"}}},{key:"PUBLISH",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PUBLISH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_PUBLISH_PROMOTION_TITLE",message:"TOPBAR_SITE_PUBLISH_PROMOTION_TEXT",symbol:"menubarPublishSitePromotion"}}},{key:"VIEW_SITE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"VIEW-SITE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_VIEW_SITE_PROMOTION_TITLE",message:"TOPBAR_SITE_VIEW_SITE_PROMOTION_TEXT",symbol:"menubarViewPublishedPromotion"}}},{key:"GET_TRAFFIC",experiment:"getTraffic",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"GET_TRAFFIC",style:{width:192,minHeight:396},title:"TOPBAR_GetTraffic_Label",message:"TOPBAR_GetTraffic_Promotion_Text",symbol:"menubargetTraffic"}}},{key:"GO_TO_SEO_WIZ",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"GO_TO_SEO_WIZ",style:{width:192,minHeight:396},title:"TOPBAR_GetTraffic_New_Promotion_Title",message:"TOPBAR_GetTraffic_New_Promotion_Text",symbol:"menubargetTraffic"}}},{key:"CONNECT_DOMAIN",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"CONNECT-DOMAIN",style:{width:192,minHeight:396},title:"TOPBAR_SITE_CONNECT_PROMOTION_TITLE",message:"TOPBAR_SITE_CONNECT_PROMOTION_TEXT",symbol:"menubarConnectDomainPromotion"}}},{key:"UPGRADE_ITEM",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"UPGRADE",style:{backgroundColor:"#ebdbf6",width:192,minHeight:396},title:"TOPBAR_SITE_UPGRADE_PROMOTION_TITLE",message:"TOPBAR_SITE_UPGRADE_PROMOTION_TEXT",symbol:"menubarUpgradePromotionLight"}}},{key:"EDITOR_MODE_SWITCH",rightPanel:{DESKTOP:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"MOBILE-SWITCH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_MOBILE_PROMOTION_TITLE",message:"TOPBAR_SITE_MOBILE_PROMOTION_TEXT",symbol:"menubarSwitchToMobilePromotion"}},MOBILE:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"DESKTOP-SWITCH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_DESKTOP_PROMOTION_TITLE",message:"TOPBAR_SITE_DESKTOP_PROMOTION_TEXT",symbol:"menubarSwitchToDesktopPromotion"}}}},{key:"IMAGE_OPTIMIZATION",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"IMAGE-OPTIMIZATION",style:{width:192,minHeight:396},title:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TITLE",message:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TEXT",symbol:"imageOptimizationPromotion"}}},{key:"SITE_DASHBOARD",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SITE-DASHBOARD",style:{width:192,minHeight:396},title:"TOPBAR_SITE_DASHBOARD",message:"TOPBAR_SITE_DASHBOARD_PROMOTION_TEXT",symbol:"menubarMySitesPromotion"}}},{key:"SETTINGS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SETTINGS",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SETTINGS_PROMOTION_TITLE",message:"TOPBAR_SITE_SETTINGS_PROMOTION_TEXT",symbol:"menubarSiteSettingsPromotion"}}},{key:"REVISIONS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"REVISIONS",style:{width:192,minHeight:396},title:"TOPBAR_SITE_HISTORY_PROMOTION_TITLE",message:"TOPBAR_SITE_HISTORY_PROMOTION_TEXT",symbol:"menubarSiteHistoryPromotion"}}},{key:"BACK_TO_OLD_EDITOR",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"BACK-TO-OLD-EDITOR",style:{width:192,minHeight:396},title:"Topbar_oldeditor_promotion_title",message:"topbar_oldeditor_promotion_text2",symbol:"menubarBackToOldEditorPromotionNew"}}},{key:"EXIT",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"EXIT-EDITOR",style:{width:192,minHeight:396},title:"TOPBAR_SITE_EXIT_PROMOTION_TITLE",message:"TOPBAR_SITE_EXIT_PROMOTION_TEXT",symbol:"menubarExitEditorPromotion"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SAVE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SAVE_PROMOTION_TITLE",message:"TOPBAR_SITE_SAVE_PROMOTION_TEXT",symbol:"menubarSaveSitePromotion"}}},{key:"VIEW_BAR",children:[{key:"TOOLBAR",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_TOOLBAR_TITLE",message:"TOPBAR_VIEW_TOOLBAR_BODY",symbol:"menubarToolbarPromotion"}}},{key:"RULERS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"RULERS",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_RULERS_TITLE1",message:"TOPBAR_VIEW_RULERS_BODY1",symbol:"menubarRulersPromotion"}}},{key:"GUIDELINES",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"GUIDELINES",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_GRIDLINES_TITLE",message:"TOPBAR_VIEW_GRIDLINES_BODY",symbol:"menubarGuidesPromotion"}}},{key:"SNAP",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SNAP",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_SNAP_TITLE",message:"TOPBAR_VIEW_SNAP_BODY",symbol:"menubarSnapToObjectPromotion"}}},{key:"DEVELOPER_MODE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"DEVELOPER_MODE",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_BODY",symbol:"menuBarDeveloperMode"}}},{key:"PROPERTIES_TOOLBAR",experimentOff:"zoomModeSectionsRedesign",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PROPERTIES_TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_BODY",symbol:"menuBarDeveloperModeProperties"}}},{key:"HIDDEN_ELEMENTS",experimentOff:"zoomModeSectionsRedesign",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HIDDEN_ELEMENTS",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_BODY",symbol:"menuBarDeveloperModeHiddenElements"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_TOOLBAR_TITLE",message:"TOPBAR_VIEW_TOOLBAR_BODY",symbol:"menubarToolbarPromotion"}}},{key:"HELP_BAR",children:[{key:"HELP_CENTER",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_CENTER_PROMOTION_TITLE",message:"TOPBAR_HELP_CENTER_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"HELP_KB_SHORTCUTS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"KB-SHORTCUTS",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_QUESTION_PROMOTION_TITLE",message:"TOPBAR_HELP_QUESTION_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"HELP_VIDEOS",experiment:"se_video_help_top_bar",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TOPBAR_HELP_HOWTO_VIDEOS",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_HOWTO_VIDEOS_PROMOTION_TITLE",message:"TOPBAR_HELP_HOWTO_VIDEOS_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"HELP_CONNECT_DOMAIN",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"CONNECT-DOMAIN",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_CONNECT_PROMOTION_TITLE",message:"TOPBAR_HELP_CONNECT_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"HELP_SEO",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SEO",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_SEO_PROMOTION_TITLE",message:"TOPBAR_HELP_SEO_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"TERMS_OF_USE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_TERMS_PROMOTION_TITLE",message:"TOPBAR_HELP_TERMS_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"PRIVACY_POLICY",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_PRIVACY_PROMOTION_TITLE",message:"TOPBAR_HELP_PRIVACY_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_CENTER_PROMOTION_TITLE",message:"TOPBAR_HELP_CENTER_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{category:"UPGRADE",upgradePanels:{DEFAULT:{key:"UPGRADE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"UPGRADE-POPUP",class:"right-check-panel-upgrade",style:{backgroundColor:"transparent",width:131,padding:"25px 0"},symbol:"menubarUpgradePromotionDark",hintProps:{id:"Premium"}}}}}}]});define("rEditor/rootComps/topBar/buttons/mixins/topBarButtonProgressMixin",["core"],function(a){"use strict";return{isInProgress:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.IN_PROGRESS},isProgressDone:function(){return this.isDoneSuccessfully()||this.isDoneUnSuccessfully()},isDoneSuccessfully:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.DONE_SUCCESS},isDoneUnSuccessfully:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.DONE_FAILED}}});define("rEditor/rootComps/topBar/buttons/mixins/topBarTooltipMixin",["react","baseUI"],function(a,b){"use strict";var c=b.tooltipManager;return{getTooltipElement:function(){var b=this.props.tooltipData;if(b&&b.presenter){return a.createElement(b.presenter,b.props)}return b||false},getTooltipInteractiveMode:function(){var a=this.props.tooltipData;return a&&a.interactive},hideTooltip:function(a){var b=a||this.props.tooltipData&&this.props.tooltipData.id;c.hide(b)}}});define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:"top-bar-drop-panel "+(this.props.dropPanelClass||"")},a.createElement("div",{className:"drop-panel-left-side"},this.getLeftContent()),this.hasRightContent()?a.createElement("div",{className:"drop-panel-right-side",key:"rightContent"},this.getRightContent()):null,!!this.props.bottomContent?a.createElement("div",{className:"drop-panel-bottom-side",key:"bottomContent"},this.props.bottomContent):null)}});define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel",["react","lodash","experiment","editorHints","rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"topBarDropPanel",propTypes:{leftContent:a.PropTypes.object.isRequired,bottomContent:a.PropTypes.object,rightContentOptions:a.PropTypes.object,dropPanelClass:a.PropTypes.string,closeHandle:a.PropTypes.func,hintContainerId:a.PropTypes.string},getInitialState:function(){return{displayedRightContentKey:"main"}},componentWillReceiveProps:function(a){var c=b.keys(this.props.rightContentOptions);var d=b.keys(a.rightContentOptions);var e=b.intersection(d,c);if(e.length!==c.length){this.setState({displayedRightContentKey:"main"})}},getLeftContent:function(){return a.cloneElement(this.props.leftContent,{onMenuItemHover:this.onSubMenuItemHover,closeDropDownHandle:this.props.closeHandle})},getRightContent:function(){return this.props.rightContentOptions[this.state.displayedRightContentKey]},hasRightContent:function(){return!!this.props.rightContentOptions},onSubMenuItemHover:function(a){if(a.rightPanel){this.setState({displayedRightContentKey:a.key})}},render:function(){if(c.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintContainerId){return a.createElement(d.hintsNotify,{id:this.props.hintContainerId},e.call(this))}return e.call(this)}})});define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt",["react","lodash","baseUI","experiment"],function(a,b,c,d){"use strict";function e(e){var f=this.isDoneSuccessfully();return a.createElement("div",{className:"wrapper-to-perserve-ref","data-hint-id":d.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},a.createElement(c.button2,{key:"buttonContent-"+this.props.iconSymbol,label:this.props.label,style:this.props.buttonStyle,symbolName:this.props.iconSymbol,customLabelClass:"top-bar-button-label",className:b({"top-bar-button-content":true,"icon-and-label":this.props.iconSymbol&&this.props.label,invisible:f}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.onClick,onMouseOver:this.handleMouseOverButton,onMouseLeave:this.handleMouseLeftButton,hintId:d.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id+"_inner":null}),f?a.createElement(c.symbol,{key:"successSymbol",name:"topBarButtonVSign",className:"button-symbol vSign"}):null,this.isInProgress()?a.createElement("div",{key:"progressIndicator",className:"progress-indicator"}):null)}function f(){var b=this.getTooltipElement();return a.createElement(c.tooltip,{id:this.props.tooltipData&&this.props.tooltipData.id,value:b,interactive:this.getTooltipInteractiveMode(),disabled:!b||this.state.isDropDownDisplayed},e.apply(this,[b]))}return function(){return a.createElement("div",{className:this.getClasses(),style:this.props.style},f.apply(this,[]),this.state.isDropDownDisplayed?a.createElement(c.bubble,b.assign({},{key:"topBarButtonDropDown"},this.getDropDownProps())):null)}});define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton",["reactDOM","react","lodash","core","util","baseUI","rEditor/rootComps/topBar/buttons/mixins/topBarButtonProgressMixin","rEditor/rootComps/topBar/buttons/mixins/topBarTooltipMixin","rEditor/rootComps/topBar/dropPanels/topBarDropPanel","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt"],function(a,b,c,d,e,f,g,h,i,j){"use strict";return b.createClass({displayName:"topBarButton",mixins:[b.addons.PureRenderMixin,g,e.singlePassDOMReadWriteMixin,d.mixins.editorAPIMixin,d.mixins.biMixin,h],propTypes:{label:b.PropTypes.string,classes:b.PropTypes.string,iconSymbol:b.PropTypes.string,dropPanelProps:b.PropTypes.object,actions:b.PropTypes.array,bi:b.PropTypes.oneOfType([b.PropTypes.array,b.PropTypes.object]),biFunc:b.PropTypes.func,progressStatus:b.PropTypes.string,isDisabled:b.PropTypes.bool,onMenuOpened:b.PropTypes.func,onMenuClosed:b.PropTypes.func,buttonStyle:b.PropTypes.object},getInitialState:function(){this._domNode=null;return{isDropDownDisplayed:false,isMouseOverButton:false}},getDefaultProps:function(){return{buttonStyle:{}}},componentDidMount:function(){this._domNode=a.findDOMNode(this)},componentWillUnmount:function(){this._domNode=null},getClasses:function(){var a="top-bar-button "+this.props.classes;if(this.state.isDropDownDisplayed){a+=" top-bar-button-selected"}if(this.isInProgress()||this.props.isDisabled){a+=" disabled-button"}return a},onClick:function(){if(this.props.isDisabled){return}if(this.props.dropPanelContent){this.toggleDropDown()}this.hideTooltip();var a=this.getEditorAPI();var b=a.selection.getSelectedComponents();var d=a.bi.getComponentsBIParams(b);if(this.props.actions){c.forEach([].concat(this.props.actions),function(a){a()})}this.sendButtonBI(d)},handleMouseOverButton:function(){this.setState({isMouseOverButton:true})},handleMouseLeftButton:function(){this.setState({isMouseOverButton:false})},getDropDownId:function(){return"top-bar-dropdown-"+(this.props.label||this.props.iconSymbol)},getDropDownProps:function(){if(!this._domNode){return{}}var a=this.getDropDownContent();return{id:this.getDropDownId(),value:a,width:"1000px",interactive:true,closeTriggers:[f.uiConstants.TOOLTIP.TRIGGERS.MOUSE_LEAVE],className:"top-bar-drop-down",overridePositionAdjustments:this.props.dropPanelProps&&this.props.dropPanelProps.overridePositionAdjustments,targetNode:this._domNode,hideMethod:this.handleDropDownWantsToClose,mouseLeftTargetNode:!this.state.isMouseOverButton,timeoutForMouseOverBubble:500}},getDropDownContent:function(){var a=this.getDropPanelLeftContent();var c={main:this.getDropPanelRightContent()};if(a){return b.createElement(i,{closeHandle:this.closeDropDown,leftContent:a,rightContentOptions:c,dropPanelClass:this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelClass})}return null},getDropPanelLeftContent:function(){var a=this.props.dropPanelContent;var c=this.props.dropPanelProps;if(a){c.closeHandle=this.closeDropDown;return b.createElement(a,this.props.dropPanelProps)}return null},getDropPanelRightContent:function(){var a=this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelPromotion;if(a){var e=c.cloneDeep(a.props);e=c.merge({moduleName:a.type},e);return b.DOM.div({className:a.classes},[b.createElement(d.lazyComponent,e)])}return null},openDropDown:function(){this.setState({isDropDownDisplayed:true,isMouseOverButton:true});if(this.props.onMenuOpened){this.props.onMenuOpened()}},closeDropDown:function(){this.setState({isDropDownDisplayed:false});if(this.props.onMenuClosed){this.props.onMenuClosed()}},toggleDropDown:function(){if(this.state.isDropDownDisplayed){this.closeDropDown()}else{this.openDropDown()}},handleDropDownWantsToClose:function(){if(this.isMounted()&&!this.state.isMouseOverButton){this.closeDropDown()}},sendButtonBI:function(a){if(this.props.bi){var b=[].concat(this.props.bi);c.forEach(b,c.bind(function(a){if(a.type){this.sendBI(a.type,a.fields)}},this))}if(this.props.biFunc){this.props.biFunc(a)}},measurePhase:function(){if(this.props.measurePhase){return this.props.measurePhase()}return null},patchPhase:function(a){if(this.props.patchPhase){this.props.patchPhase(a)}},render:j})});define("rEditor/utils/menuItemsRepository",["lodash"],function(a){"use strict";function b(b,c){if(!c){return undefined}c=c.toLowerCase();var d=function(a){return a.label.toLowerCase().indexOf(c)===0};var e=function(b){var c;a.forEach(b,function(a){if(d(a)){c=a;return false}var b=e(a.items);if(b){c=b;return false}});return c};return e(b)}function c(b,c){c=c.toLowerCase();var d=function(b){return a.includes(b.label.toLowerCase(),c)};var e=function(b){if(!b||b.length===0){return b}var c=[];a.forEach(b,function(b){var f=d(b);var g=e(b.items);var h=g&&g.length>0;if(f||h){var i=a.clone(b);i.items=g;c.push(i)}});return c};return e(b)}return{findFirstFilteredItem:b,filterItems:c}});define("rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton.rt",["react","lodash","util","baseUI","symbols","experiment","pLoader!santa:utils","uiAnimations"],function(a,b,c,d,e,f,g,h){"use strict";function i(){var b=this.getTooltipElement();var e=this.isNavButtonInPopupMode();return a.createElement(d.tooltip,{id:"pageNavButtonTooltip",value:b,interactive:this.getTooltipInteractiveMode(),disabled:!b||this.state.isFiltering||e||this.isPopupsFirstTimeOpen("ADD")},a.createElement("div",{className:this.props.classes+(e?" popup-mode":" ")+(this.state.isFiltering?" ":" pages-nav-button-bg ")+(this.props.isSmallVersion?"mini-":"")+"page-nav-with-label ",onClick:this.onClick,"data-hint-id":f.isMultiValueExperimentOpen("editorHintsConfigs")?"Pages_Navigation":null},!this.state.isFiltering?a.createElement("div",{key:"page-name",className:"top-bar-page-navigation-select",ref:"popupTooltipTarget"},!this.props.isSmallVersion?a.createElement("div",{key:"graphics",className:"page-navigation-button-graphics"},a.createElement(d.symbol,{name:"pages"})):null,a.createElement("span",{"data-hint-id":f.isMultiValueExperimentOpen("editorHintsConfigs")?"Pages_Navigation_inner":null,className:(this.props.isSmallVersion?"mini-":"")+"top-bar-page-navigation-pageName"},"\n                ",this.props.isSmallVersion?"":c.translate("Pages_Menu_Title_Title")+":","\n                ",a.createElement("span",{},this.getPageName())),!this.props.isSmallVersion?a.createElement("span",{key:"arrow",className:"top-bar-page-navigation-arrow"},a.createElement(d.symbol,{name:"pagesArrow"})):null):null,a.createElement(h.contentSlideCSS,{distance:"60px",delay:1e3},e?a.createElement("div",{key:"popup-mode",className:"top-bar-page-navigation-select popup-mode-exit"},a.createElement("span",{},c.translate("PopUps_TopBar_Exit")),a.createElement(d.button,{className:"close",icon:"headerCloseButton"})):null),this.state.isFiltering?a.createElement("div",{key:"page-filter",className:"top-bar-page-navigation-select"},a.createElement("div",{className:"page-navigation-button-graphics"},a.createElement(d.symbol,{name:"pagesSearch"})),a.createElement(d.autoCompleteTextInput,{ref:"filterInput",className:"top-bar-page-filter",placeholder:c.translate("TOPBAR_FIND_PAGE"),cancelIcon:"topBarButtonCancel",complete:this.completePageName,onChange:this.filterChanged,onKeyDown:this.onKeyDown})):null))}return function(){return i.apply(this,[])}});define("rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton",["reactDOM","lodash","react","core","panels","baseUI","util","constants","rEditor/utils/menuItemsRepository","rEditor/rootComps/topBar/buttons/mixins/topBarTooltipMixin","rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton.rt"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=f.tooltipManager;function m(a,b,c){var d={ADD:{classPath:"baseUI.popoverTemplates.imageAndTextTooltip",props:{imageContainerStyle:{backgroundColor:"#5FBC57",backgroundImage:"url("+g.media.getMediaUrl("rEditor/topBar/popupsExitFirstTimeRetina.gif")+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"80%",height:"140px"},text:"Popups_Exit_FirstTime_Text",onClose:function(){c("x");l.unRegisterTooltip(a)}}}};return d[b]||{}}var n={ADD:{TEASER:"popups/first_time_tour_add",ID:h.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE}};return c.createClass({displayName:"topBarPageNavButton",propTypes:{isSmallVersion:c.PropTypes.bool,bi:c.PropTypes.object,tooltipData:c.PropTypes.object,clickCallback:c.PropTypes.func},mixins:[d.mixins.editorAPIMixin,d.mixins.biMixin,j],keyCodes:{ENTER:13,ESC:27},getInitialState:function(){return{isFiltering:false,filter:""}},completePageName:function(a){var b=this.getEditorAPI().mainMenu.getMenuItemsTreeForMainMenu();var c=i.findFirstFilteredItem(b,a);if(c){return c.label}return null},getPageName:function(){return this.getEditorAPI().pages.getCurrentUrlPageTitle()},originalOnClick:function(){if(this.props.clickCallback){this.props.clickCallback()}this.openFilteredPagesPanel()},onClick:function(){var a="ADD";if(this.isNavButtonInPopupMode()){this.getEditorAPI().panelManager.closePanelByName("addPanelInfra.addPanel");this.closePopupMode();this.tryToShowPopupsFirstTime(a)}else{this.tryToClosePopupsFirstTime(a);this.originalOnClick()}},openFilteredPagesPanel:function(){this.openWithFilter(this.state.filter);this.hideTooltip("pageNavButtonTooltip");if(this.props.bi&&this.props.bi.type){this.sendBI(this.props.bi.type,this.props.bi.fields)}},filterChanged:function(a){this.openWithFilter(a)},openWithFilter:function(a){this.setState({isFiltering:true,filter:a});this.openPagesPanel(a)},navigateToFirst:function(){var a=this.getEditorAPI().mainMenu.getMenuItemsTreeForMainMenu();var b=i.findFirstFilteredItem(a,this.state.filter);if(b&&b.pageData){this.getEditorAPI().pages.navigateTo(b.pageData.id);this.closePagesPanel();this.closeFiltering()}},closeFiltering:function(){this.setState({isFiltering:false,filter:""})},onKeyDown:function(a){if(a.keyCode===this.keyCodes.ENTER&&this.state.filter){this.navigateToFirst()}else if(a.keyCode===this.keyCodes.ESC){this.closePagesPanel();this.closeFiltering()}},componentWillReceiveProps:function(){if(!this.getEditorAPI().isPagesPanelOpen()){this.closeFiltering()}},componentDidUpdate:function(a,b){if(this.state.isFiltering&&!b.isFiltering){this.refs.filterInput.focus()}},openPagesPanel:function(a){var b=this.getEditorAPI();var c={filter:a,pageAdded:function(){this.closeFiltering();this.openPagesPanel("")}.bind(this),subpagesOpened:function(){this.closeFiltering()}.bind(this)};b.openPagesPanel(c)},closePagesPanel:function(){this.getEditorAPI().closePagesPanel()},closePopupMode:function(){var a=this.getEditorAPI();a.panelManager.closeAllPanels();a.pages.popupPages.close();a.bi.event(d.bi.events.popups.exit_pop_up_mode_clicked,{})},isPopupOpened:function(){var a=this.getEditorAPI().pages.popupPages;return a.isPopupOpened&&a.isPopupOpened()},isNavButtonInPopupMode:function(){return this.isPopupOpened()&&!this.state.isFiltering},getUserPrefs:function(){return this.getEditorAPI().getUserPreferences()||{}},setPopupsFirstTimeIsShown:function(a,b){var c=this.getUserPrefs().site;if(c){c.set("closed_teaser_"+n[a].TEASER,true)}b("auto close")},shouldShowPopupsFirstTime:function(a){var b=this.getUserPrefs().site;return b&&!b.get("closed_teaser_"+n[a].TEASER)},getPopupsFirstTimeTooltipProps:function(a){var c=n[a].ID;var e=b.once(b.partial(function(a,b){a.bi.event(d.bi.events.popups.pop_up_tooltip_closed,{origin:b})},this.getEditorAPI()));return{id:c,width:"240px",marginsFromElement:0,alignment:f.uiConstants.TOOLTIP.ALIGNMENT.BOTTOM,
onClose:b.partial(this.setPopupsFirstTimeIsShown,a,e),value:m(c,a,e)}},tryToShowPopupsFirstTime:function(c){if(this.shouldShowPopupsFirstTime(c)){l.createTooltip(true,b.assign(this.getPopupsFirstTimeTooltipProps(c),{targetNode:a.findDOMNode(this.refs.popupTooltipTarget)}))}},tryToClosePopupsFirstTime:function(a){var b=n[a].ID;if(!this.shouldShowPopupsFirstTime(a)){this.clearPopupsFirstTimeHandlers()}else if(this.isPopupsFirstTimeOpen(a)){l.unRegisterTooltip(b);this.clearPopupsFirstTimeHandlers()}},isPopupsFirstTimeOpen:function(a){var b=n[a].ID;return l.isDisplayed(b)},clearPopupsFirstTimeHandlers:function(){this.tryToShowPopupsFirstTime=b.noop;this.tryToClosePopupsFirstTime=b.noop;this.isPopupsFirstTimeOpen=b.noop},render:k})});define("rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification.rt",["react","lodash"],function(a,b){"use strict";return function(){return this.props.isShown?a.createElement("div",{key:"topBarNotification",className:this.props.classes+" top-bar-notification"},a.createElement("div",{},this.getMessage())):null}});define("rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification",["react","util","rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"topBarNotification",propTypes:{message:a.PropTypes.string,measurePhase:a.PropTypes.func,patchPhase:a.PropTypes.func},mixins:[b.singlePassDOMReadWriteMixin],emptyMessage:["","",""],getMessage:function(){var b=this.getMessageParts();var c=this.getMessageLinkPart(b[1]);return a.createElement("div",{},[b[0],c,b[2]])},getMessageParts:function(){var a=this.props.message;if(a){var b=this.getAnchorIndexes(a);var c=a.substring(0,b[0]);var d=a.substring(b[1]+"</a>".length);var e=a.substring(b[0]+"<a>".length,b[1]);return[c,e,d]}return this.emptyMessage},getAnchorIndexes:function(a){if(!a){return[0,0]}var b=a.indexOf("<a>");var c=a.indexOf("</a>");if(b<0||c<0){b=a.length;c=a.length}return[b,c]},getMessageLinkPart:function(b){return b?a.DOM.a({onClick:this.linkAction},b):""},linkAction:function(){this.props.action()},measurePhase:function(){if(this.props.measurePhase){return this.props.measurePhase()}return null},patchPhase:function(a){if(this.props.patchPhase){this.props.patchPhase(a)}},render:c})});define("rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions",["lodash","core","util","experiment"],function(a,b,c,d){"use strict";var e=null;var f=null;var g={ACTIONS_PANEL:{left:{panel:"rEditor.panels.topBar.menuActionsPanel",propsGetter:function(){return{}}}},UPGRADE:{left:{panel:"rEditor.panels.topBar.checkListPanel",propsGetter:function(b){var e=o(b);var f="";if(b.campaigns.personalSale.isActiveCampaign()){f=h(b,"TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_LABEL_DYNAMIC")}else{f=c.translate(d.isOpen("spanishUpgradeText")?"UPGRADE_TO_YEARLY_FOR_SPAIN_ONLY":"TOPBAR_UPGRADE_FREE_US_TITLE")}return{type:"upgrade",class:"left-check-panel-upgrade",title:f,comment:e?c.translate("TOPBAR_UPGRADE_SAVE_FIRST_TEXT"):null,description:a.map(["TOPBAR_UPGRADE_FREE_US_LINE_1","TOPBAR_UPGRADE_FREE_US_LINE_2","TOPBAR_UPGRADE_FREE_US_LINE_3","TOPBAR_UPGRADE_FREE_US_LINE_4"],c.translate)}}},bottom:{panel:"rEditor.panels.topBar.checkListPanel",propsGetter:function(a){var b=i(a);return{type:"upgrade",class:"bottom-check-panel-upgrade",footerButtons:b}}}}};function h(b,d){var e=b.campaigns.personalSale.getDiscountValue();var f=a.template(c.translate(d));return f({discount:e})}function i(a){var b=null;var c=o(a);if(c){b=j(a)}else{b=m(a)}return b}function j(a){if(e===null){e=[{buttonText:c.translate("TOPBAR_UPGRADE_BUTTON_SAVE_SITE"),action:function(){a.saveManager.save(a)}}]}return e}function k(a){var b="TOPBAR_UPGRADE_FREE_ROW_BUTTON_1";var d="";if(a.campaigns.personalSale.isActiveCampaign()){d=h(a,"TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_BUTTON_DYNAMIC")}else{d=c.translate("TOPBAR_UPGRADE_FREE_ROW_BUTTON_2")}return{offerButtonText:d,leftButtonText:c.translate(b)}}function l(a){var b="edhtml_TOP_BAR_UPGRADE_MENU_GET_YEARLY_UNLIMITED";if(a.campaigns.personalSale.isActiveCampaign()){b="edhtml_TOP_BAR_UPGRADE_MENU_PS"}return b}function m(a){if(f===null){var c=b.bi.events.topbar;var d=k(a);var e=l(a);f=[{buttonText:d.leftButtonText,action:n.bind(null,a,c.top_bar_compare_plans_click,"edhtml_TOP_BAR_UPGRADE_MENU_COMPARE_PLANS")},{buttonText:d.offerButtonText,action:n.bind(null,a,c.top_bar_get_yearly_unlimited_click,e)}]}return f}function n(a,b,c){a.bi.event(b);a.account.upgrade(c)}function o(a){return a&&a.generalInfo&&a.generalInfo.isFirstSave()}function p(a,b){b=b||"left";a=r(a);var c=g[a];if(c&&c[b]){return c[b].panel}return null}function q(a,b,c){c=c||"left";a=r(a);var d=g[a];if(d&&d[c]){return d[c].propsGetter(b)}return null}function r(b){if(a.includes(["SITE_BAR","EDIT_BAR","VIEW_BAR","HELP_BAR"],b)){return"ACTIONS_PANEL"}return b}return{getMenuPanelProps:q,getMenuPanelType:p}});define("rEditor/rootComps/topBar/dropPanels/content/menuBarContent.rt",["react","lodash","core"],function(a,b,c){"use strict";function d(){var d=this.getPanelProps();var e=this.getPanelClass();return a.createElement("div",{},a.createElement(c.lazyComponent,b.assign({},{moduleName:e},d)))}return function(){return a.createElement("div",{},!!this.props.selectedMenu?a.createElement("div",{key:"menuActions"},d.apply(this,[])):null)}});define("rEditor/rootComps/topBar/dropPanels/content/menuBarContent",["lodash","react","rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions","rEditor/rootComps/topBar/dropPanels/content/menuBarContent.rt"],function(a,b,c,d){"use strict";return b.createClass({displayName:"menuBarContent",propTypes:{content:b.PropTypes.string.isRequired,editorAPI:b.PropTypes.object.isRequired,selectedMenu:b.PropTypes.object,closeDropDownHandle:b.PropTypes.func},getPanelProps:function(){var b=null;var d=this.props.selectedMenu.key;if(d){b=a.clone(this.props);var e=c.getMenuPanelProps(d,this.props.editorAPI,this.props.content);b=a.merge(b,e)}return b},getPanelClass:function(){var a=this.props.selectedMenu.key;if(a){return c.getMenuPanelType(a,this.props.content)}return null},render:d})});define("rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent.rt",["react","lodash","core"],function(a,b,c){"use strict";return function(){return this.props.panel?a.createElement("div",{className:"promotion",key:"promotionPanel"},a.createElement(c.lazyComponent,b.assign({},{moduleName:this.props.panel.type},b.merge(this.props.panel.props,{editorAPI:this.props.editorAPI,action:this.props.action,bi:this.props.bi})))):null}});define("rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent",["react","rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent.rt"],function(a,b){"use strict";return a.createClass({displayName:"menuBarRightContent",render:b})});define("rEditor/rootComps/topBar/menuBar/menuBar.rt",["react","lodash","uiAnimations","baseUI"],function(a,b,c,d){"use strict";function e(a,b,c){this.onMouseOverMenuItem(c)}function f(b,c,d){return a.createElement("li",{ref:"menuItem"+d,className:c.class,key:c.key,"data-hint-id":this.getMenuItemHintId(c.key),onMouseOver:e.bind(this,b,c,d)},a.createElement("a",{"data-hint-id":this.getMenuItemHintId(c.key)+"_inner"},this.getMenuItemLabel(c.key)),c.counter?a.createElement("div",{key:c.key+"counter",className:"counter"},c.counter):null)}function g(){var c=this.getMenuItems();return a.createElement.apply(this,["ul",{className:b({"menubar-items":true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseLeave:this.onMouseLeave},b.map(c,f.bind(this,c))])}return function(){return a.createElement("div",{ref:"menuBar",className:this.props.classes},g.apply(this,[]),a.createElement(c.topBarMenuPanelAnimation,{outAnimationDuration:this.state.mouseOverMenu?0:.2},this.state.indexOfOpenMenu!==null?a.createElement(d.bubble,b.assign({},{key:"menuBarDropDown"},this.getDropDownProps())):null))}});define("rEditor/rootComps/topBar/menuBar/menuBar",["react","lodash","core","util","baseUI","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/dropPanels/content/menuBarContent","rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent","rEditor/rootComps/topBar/dropPanels/topBarDropPanel","rEditor/rootComps/topBar/menuBar/menuBar.rt","experiment"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=300;var m=500;function n(a){var b=d.keyboardShortcuts.CONTEXTS.TOP_BAR;var c=d.keyboardShortcuts.extendContext(b,{esc:function(){if(a.state.indexOfOpenMenu!==null){a.closeDropDown()}},left:function(){var b=a.state.indexOfOpenMenu;var c;if(b===0){c=a.getNumberOfMenuItems()-1}else{c=a.state.indexOfOpenMenu-1}a.openDropDown(c)},right:function(){var b=a.state.indexOfOpenMenu;var c=(b+1)%a.getNumberOfMenuItems();a.openDropDown(c)}});d.keyboardShortcuts.registerContext(d.keyboardShortcuts.CONTEXTS.MENU_BAR,c)}function o(c,d,e){var f;if(d.isMobileEditor()){f=c.MOBILE||c}else{f=c.DESKTOP||c}return a.createElement(h,b.assign({panel:f,editorAPI:d},e))}function p(a){if(a&&a.openHandlePID){window.clearTimeout(a.openHandlePID);a.openHandlePID=null}}function q(b){var c="http://apps.wix.com/wix-dealer-webapp/api/lightboxViewer/EDITOR_UPGRADE/"+b;return a.createElement("iframe",{src:c,style:{border:"none",width:"545px",height:"265px"}})}return a.createClass({displayName:"menuBar",mixins:[c.mixins.editorAPIMixin],propTypes:{menuItems:a.PropTypes.array.isRequired,viewTools:a.PropTypes.object.isRequired,tooltipData:a.PropTypes.object,onMenuOpened:a.PropTypes.func,onMenuClosed:a.PropTypes.func},getInitialState:function(){this._isMounted=false;this.openHandlePID=null;var a={indexOfOpenMenu:null,mouseOverMenu:false};if(k.isMultiValueExperimentOpen("editorHintsConfigs")){a.shouldDropDownRemainOpen=false;a.dropDownDisabled=false}return a},componentDidMount:function(){this._isMounted=true;n(this)},componentWillUnmount:function(){this._isMounted=false;d.keyboardShortcuts.unregisterContext(d.keyboardShortcuts.CONTEXTS.MENU_BAR);if(this.isMenuBarKeyboardContextActive()){d.keyboardShortcuts.setContext(this.lastKeyboardContext)}},componentDidUpdate:function(a,b){var c=this.state.indexOfOpenMenu!==b.indexOfOpenMenu&&this.state.indexOfOpenMenu===null;var e=this.state.indexOfOpenMenu!==b.indexOfOpenMenu&&b.indexOfOpenMenu===null;if(c){if(d.keyboardShortcuts.getContext()===d.keyboardShortcuts.CONTEXTS.MENU_BAR){d.keyboardShortcuts.setContext(this.lastKeyboardContext)}if(this.props.onMenuClosed){this.props.onMenuClosed()}}else if(e){if(this.props.onMenuOpened){this.props.onMenuOpened()}}},isMenuBarKeyboardContextActive:function(){return d.keyboardShortcuts.getContext()===d.keyboardShortcuts.CONTEXTS.MENU_BAR},getMenuItems:function(){return b.map(this.props.menuItems,b.bind(function(a,b){return{key:a.key,class:this.getMenuItemClasses(a.key,b),counter:this.getMenuItemCounter(a.key)}},this))},getMenuItemClasses:function(a,b){var c=[];a=a&&a.toLowerCase()||"";c.push(a!=="upgrade"?"menu-bar-title":"menu-bar-upgrade-title");if(a==="help"){c.push("top-bar-help-title")}if(b===this.state.indexOfOpenMenu){c.push("menu-bar-selected-item")}return c.join(" ")},getMenuItemLabel:function(a){return f[a].label},getMenuItemCounter:function(a){return b.isFunction(f[a].getCounter)&&f[a].getCounter()},getNumberOfMenuItems:function(){return this.props.menuItems.length},getDropDownProps:function(){if(!this._isMounted){return{}}var a=this.state.indexOfOpenMenu;return{key:"menuDropDown-"+a,value:this.getDropDownContent(a),width:"1000px",closeTriggers:this.getDropDownTooltipCloseTriggers(),className:"top-bar-drop-down",overridePositionAdjustments:{type:e.uiConstants.TOOLTIP.ALIGNMENT.LEFT,value:70},targetNode:this.refs["menuItem"+a],hideMethod:this.handleDropDownWantsToClose,mouseLeftTargetNode:!this.state.mouseOverMenu,timeoutForMouseOverBubble:m}},handleDropDownWantsToClose:function(){if(!k.isMultiValueExperimentOpen("editorHintsConfigs")||!this.state.shouldDropDownRemainOpen){if(this._isMounted&&!this.state.mouseOverMenu){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){this.getEditorAPI().topBarMenuBar.onMenuBarDropDownClose(this.state.indexOfOpenMenu)}this.setState({indexOfOpenMenu:null})}}},getDropDownTooltipCloseTriggers:function(){return[e.uiConstants.TOOLTIP.TRIGGERS.MOUSE_LEAVE]},getDropDownContent:function(b){if(k.isOpen("dealerUpgrade")&&b===3){var c=this.getEditorAPI().generalInfo.getMetaSiteId();return q(c)}var d=this.getDropDownBottomContent(b);var e=this.getDropDownLeftContent(b,this.props.viewTools);var g=this.getMenuRightContentOptions(b);var h=this.props.menuItems[b].key;var j=f[h];var l=j.hintContainerId||null;return a.createElement(i,{closeHandle:this.closeDropDown,bottomContent:d,leftContent:e,rightContentOptions:g,dropPanelClass:"menubar-drop-panel",hintContainerId:l})},getDropDownBottomContent:function(b){var c=this.props.menuItems[b];return a.createElement(g,{content:"bottom",selectedMenu:c,closeDropDownHandle:this.closeDropDown,editorAPI:this.getEditorAPI()})},getDropDownLeftContent:function(b,c){var d=this.props.menuItems[b];return a.createElement(g,{content:"left",selectedMenu:d,action:f[d.key].action,viewTools:c,closeDropDownHandle:this.closeDropDown,editorAPI:this.getEditorAPI()})},getMenuRightContentOptions:function(a){var c=this.getEditorAPI();var d=this.props.menuItems[a];var e={};e.main=o(d.rightPanel,c);b.forEach(d.children,b.bind(function(a){if(a&&f[a.key]&&a.rightPanel){var b=this.handleClickOnRightPanel.bind(this,a);var d=f[a.key].bi;var g={action:b,bi:d};e[a.key]=o(a.rightPanel,c,g)}},this));return e},getMenuItemHintId:function(a){var b=f[a];return k.isMultiValueExperimentOpen("editorHintsConfigs")&&b.hintProps?b.hintProps.id:null},handleClickOnRightPanel:function(a){var c=f[a.key];var d=c.action;if(d){var e=d.apply(null,b.tail(arguments))!==false;if(!(c.isCheckbox||!e)){this.closeDropDown()}}},disableDropDown:function(){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){this.setState({dropDownDisabled:true})}},enableDropDown:function(){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){this.setState({dropDownDisabled:false})}},openDropDown:function(a,b){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){if(this.state.dropDownDisabled===true){return}this.getEditorAPI().topBarMenuBar.onMenuBarDropDownOpen(a)}if(this.state.indexOfOpenMenu===null){this.lastKeyboardContext=d.keyboardShortcuts.getContext();d.keyboardShortcuts.setContext(d.keyboardShortcuts.CONTEXTS.MENU_BAR)}var c={indexOfOpenMenu:a};if(k.isMultiValueExperimentOpen("editorHintsConfigs")){c.shouldDropDownRemainOpen=b||false}this.setState(c)},enableClose:function(){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){this.setState({shouldDropDownRemainOpen:false})}},closeDropDown:function(){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){if(!this.state.shouldDropDownRemainOpen){this.getEditorAPI().topBarMenuBar.onMenuBarDropDownClose(this.state.indexOfOpenMenu);this.setState({indexOfOpenMenu:null,shouldDropDownRemainOpen:false})}}else{this.setState({indexOfOpenMenu:null})}},onMouseOverMenuItem:function(a){if(k.isMultiValueExperimentOpen("editorHintsConfigs")&&this.state.dropDownDisabled===true){return}var b=!this.state.mouseOverMenu;var c=this.state.indexOfOpenMenu!==null;var d=b&&!c;var e=c&&this.state.indexOfOpenMenu!==a;if(b){this.setState({mouseOverMenu:true})}if(d){p(this);var f=this;this.openHandlePID=window.setTimeout(function(){if(f._isMounted){f.openDropDown(a)}},l)}else if(e){this.openDropDown(a)}},onMouseLeave:function(){p(this);this.setState({mouseOverMenu:false})},render:j})});define("rEditor/rootComps/topBar/dropPanels/editorModesPanel.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";return function(){return a.createElement("div",{className:"editor-modes-panel"},a.createElement("div",{className:"editor-modes-panel-top-part"},a.createElement("div",{},a.createElement(c.radioList,{options:[{label:"TOPBAR_MobileDesktop_Desktopview",symbolName:"desktop",className:"editor-mode-option-desktop",symbolClass:"editor-mode-option-symbol",value:"desktop"},{label:"TOPBAR_MobileDesktop_MobileView",symbolName:"mobile",className:"editor-mode-option-mobile",symbolClass:"editor-mode-option-symbol",value:"mobile"}],value:this.props.desktopModeSelected?"desktop":"mobile",onChange:this.setEditorMode,highlightOnHover:true}))),a.createElement("div",{className:"optimized-view-row"},a.createElement(c.toggle,{label:"TOPBAR_MobileDesktop_MobileOptimized",labelAfterSymbol:true,value:this.props.isMobileOptimized,onChange:this.toggleOptimized})))}});define("rEditor/rootComps/topBar/dropPanels/editorModesPanel",["react","lodash","core","util","rEditor/rootComps/topBar/dropPanels/editorModesPanel.rt"],function(a,b,c,d,e){"use strict";var f="EDITOR_MODES_SWITCH";return a.createClass({displayName:"editorModesPanel",propTypes:{editorAPI:a.PropTypes.object.isRequired,isMobileOptimized:a.PropTypes.bool.isRequired,desktopModeSelected:a.PropTypes.bool.isRequired,closeHandle:a.PropTypes.func},biData:{desktop:{editor_view_mode:"desktop"},mobile:{editor_view_mode:"mobile"}},getDefaultProps:function(){return{closeHandle:b.noop}},componentDidMount:function(){this.registerKeyboardShortcuts();this.lastKeyboardContext=d.keyboardShortcuts.getContext();d.keyboardShortcuts.setContext(f)},componentWillUnmount:function(){d.keyboardShortcuts.setContext(this.lastKeyboardContext)},setEditorMode:function(a){var b=this.props.editorAPI;if(a==="desktop"){this.sendModeChangeBI("desktop");b.setDesktopEditor()}else{this.sendModeChangeBI("mobile");b.setMobileEditor()}if(this.props.closeHandle){this.props.closeHandle()}},toggleOptimized:function(){var a=this.props.isMobileOptimized;var b=!a;this.sendToggleBI(this.props.editorAPI.getPreviewMode(),b);this.props.editorAPI.setMobileOptimizedSite(b)},sendToggleBI:function(a,b){var d=c.bi.events.topbar.mobile_view_mode_toggle;var e=a?"top bar preview":"top bar editor";var f={origin:e,status:b?1:0};this.props.editorAPI.bi.event(d,f)},sendModeChangeBI:function(a){var b=this.props.editorAPI;if(!b){return}var d=c.bi.events.topbar.top_bar_editor_view_mode_click;if(b.getPreviewMode()){d=c.bi.events.topbar.top_bar_preview_page_editor_view_mode_click}b.bi.event(d,{editor_view_mode:a});b.bi.event(c.bi.events.topbar.editor_view_mode_switch,{origin:"site_menu",mode:a})},registerKeyboardShortcuts:function(){var a=this;var b={esc:function(){a.props.closeHandle()}};d.keyboardShortcuts.registerContext(f,b)},render:e})});define("rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";function d(d,e,f){return a.createElement("li",{key:f},a.createElement("div",{className:b({check:!d,"check-purple":d}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(c.symbol,{name:"check"})),a.createElement("div",{className:"text"},e))}function e(a,b,c){this.onClick(b.action)}function f(d,f,g){return a.createElement(c.button,{className:b({"action-button":!d,"action-button-purple1":d&&g%2===0,"action-button-purple2":d&&g%2!==0}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),label:f.buttonText,shouldTranslate:false,key:"key-"+f.buttonText,onClick:e.bind(this,d,f,g)})}function g(){var c=this.props.type==="upgrade";return a.createElement.apply(this,["div",{className:this.props.class},!!this.props.title?a.createElement("div",{key:"title",className:"title"},this.props.title):null,b.size(this.props.description)===1?a.createElement("div",{key:"single",className:"description"},this.props.description):null,b.size(this.props.description)>1?a.createElement("div",{key:"multiple",className:"description"},a.createElement.apply(this,["ul",{},b.map(this.props.description,d.bind(this,c)),this.props.comment?a.createElement("li",{key:"comment",className:"comment"},this.props.comment):null])):null,b.map(this.props.footerButtons,f.bind(this,c))])}return function(){return g.apply(this,[])}});define("rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel",["react","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel.rt"],function(a,b){"use strict";return a.createClass({displayName:"checkListPanel",propTypes:{editorAPI:a.PropTypes.object.isRequired,closeDropDownHandle:a.PropTypes.func.isRequired},onClick:function(a){if(a){a(this.props.editorAPI)}this.props.closeDropDownHandle()},render:b})});define("rEditor/rootComps/topBar/topBarWidgetsDefinitions",["reactDOM","jquery","lodash","util","core","rEditor/rootComps/topBar/config/topBarData.json","rEditor/rootComps/topBar/menuBar/config/topBarMenuData.json","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton","rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton","rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification","rEditor/rootComps/topBar/menuBar/menuBar","rEditor/rootComps/topBar/dropPanels/editorModesPanel","baseUI","savePublish","experiment","rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";var p={LEFT:"left",RIGHT:"right"};function q(a,b){if(!a.areActionsLocked){a.lockActions();a.getEditorAPI().preview.togglePreview();window.setTimeout(a.unlockActions,b||1)}}function r(a){return d.media.getMediaUrl("rEditor/topBar/"+a)}function s(a){return!a||a.generalInfo&&a.generalInfo.isFirstSave()}function t(a){var b=null;var c=a.generalInfo&&a.generalInfo.isSitePublished()||false;if(!a.savePublish.canUserPublish()){b={title:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_TITLE",body:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_TEXT",linkText:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_LINK",linkAction:function(){var a=d.languages.getLocalizedLink(e.constants.HELP_URLS.CONTRIBUTOR_ROLES,"{$lang}");window.open(a)}}}else if(c){b={title:"TOPBAR_POSTPUBLISH_TOOLTIP_TITLE",body:"TOPBAR_POSTPUBLISH_TOOLTIP_BODY",linkText:"SAVE_PUBLISH_BUTTON_VIEW",linkAction:function(){var b=a.site.getSitePublicUrl();window.open(b)}}}else{b={title:"TOPBAR_PREPUBLISH_TOOLTIP_TITLE",body:"TOPBAR_PREPUBLISH_TOOLTIP_BODY",linkText:null,linkAction:null}}return b}function u(c){var d=b(a.findDOMNode(c.refs.topBarSideWrapperLeft));var e=b(a.findDOMNode(c.refs.topBarSideWrapperRight));return{leftWidth:d.width(),rightWidth:e.width()}}function v(c,d){var e=b(a.findDOMNode(c.refs.topBarSideWrapperCenter));e.css({left:d.leftWidth,right:d.rightWidth,width:"auto"})}function w(c,d,e){e=e||0;return b(a.findDOMNode(c.refs[d])).width()||e}function x(c,d){var e=c.refs.topBarBackToEditorButton;d=G.PREVIEW.measuredWidth+G.PUBLISH.measuredWidth;if(e&&d>0){b(a.findDOMNode(e)).width(d)}}var y=function(){var a=null;return function(b){if(a===null){a={onMenuOpened:b.onMenuOpened,onMenuClosed:b.onMenuClosed}}return a}}();var z=function(){var a={};return function(b){if(!a[b]){a[b]={type:e.bi.events.topbar.top_bar_click,fields:{category:b}}}return a[b]}}();var A=function(){var a={};return function(b,c,d,e,f,g){var h=a[b];if(!h){h={presenter:m.popoverTemplates.titleBodyAndLinkTooltip,id:b,interactive:c,props:{title:d,text:e,link:f,linkAction:g}};a[b]=h}return h}}();function B(a){var b="save-button-tooltip";var c=s(a);var d=!c?"":"-notSaved";var e=a.generalInfo&&a.generalInfo.isSiteFromOnBoarding();var f=e?"-ob-site":"";var g=b+d+f;return A(g,true,e?"ADI_EDITOR_MIGRATION_SAVE_TOOLTIP_TITLE":"TOPBAR_SAVE_TOOLTIP_TITLE",e?"ADI_EDITOR_MIGRATION_SAVE_TOOLTIP_TEXT":"TOPBAR_SAVE_TOOLTIP_BODY",!c&&!e?"TOPBAR_SAVE_TOOLTIP_LINK":null,!c&&!e?function(){a.account.openRevisions()}:null)}function C(a){var b="save-button-tooltip";return{compClass:h,actions:null,compProps:function(c,d,f,g){var h=c.getEditorAPI();if(h.wixStores.isSiteInWixStoreTestDrive()){return null}var i=c.state.appearance>=c.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS;var j=g&&g.toUpperCase()==="PREVIEW";var k=j?e.bi.events.topbar.top_bar_Preview_Page_Save_click:z("save");var l=s(h);var m=!l?"":"-notSaved";G.SAVE.actions=G.SAVE.actions||[h.saveManager.save.bind(null,h,{origin:"top_bar"})];return{label:i?null:"TOPBAR_Site_Save",iconSymbol:i?"save":null,classes:["top-bar-menu-item","top-bar-save",I(d),J(d,f)].join(" "),actions:G.SAVE.actions,isDisabled:n.isPublishInProgress()||h.saveManager.isSaveInProgress(),progressStatus:c.props.savingStatus,tooltipData:o.isOpen("se_obMigrationFlow")&&B(h)||A((a?b:b)+m,true,"TOPBAR_SAVE_TOOLTIP_TITLE","TOPBAR_SAVE_TOOLTIP_BODY",!l?"TOPBAR_SAVE_TOOLTIP_LINK":null,!l?function(){h.account.openRevisions()}:null),bi:k}}}}function D(a){return{compClass:"div",compProps:function(b,c){var d=!a||a(b,c);return{className:["top-bar-separator","top-bar-menu-item",I(c),!d?"hidden":""].join(" ")}}}}function E(a){a.panelManager.closeAllPanels();a.toolsControl.toggleHideTools(true,true);window.setTimeout(function(){a.zoomMode.enterZoomMode();a.bi.event(e.bi.events.topbar.top_bar_zoom_mode_click,{editor_view_mode:a.getDeviceType()})},400)}function F(){return{compClass:h,actions:null,bi:[z("zoomout"),{type:e.bi.events.preview.PREVIEW_CLICK,fields:{origin:"topbar"}}],compProps:function(a,b,c){var d=a.getEditorAPI();var e=d.isPreviewReady()&&d.pages.popupPages.isPopupOpened();G.ZOOMOUT.actions=G.ZOOMOUT.actions||[E.bind(null,d)];G.ZOOMOUT.classes=G.ZOOMOUT.classes||["top-bar-menu-item","top-bar-preview-icon",J(b,c),I(b)].join(" ");return{iconSymbol:"zoomOut",actions:G.ZOOMOUT.actions,classes:G.ZOOMOUT.classes+(e?" hidden":""),tooltipData:A("topBarZoomOutTooltipID",false,"TOPBAR_ZoomOut_Tooltip_Title","TOPBAR_ZoomOut_Tooltip_Body"),bi:G.ZOOMOUT.bi,ref:"topBarZoomOutButton",hintProps:{id:"ZoomOut"}}}}}var G={WIX_LOGO:{compClass:h,compProps:function(a,b){return{iconSymbol:"wixLogo",classes:["top-bar-wix-logo",I(b)].join(" "),bi:z("wix_logo")}}},PAGES_LIST:{compClass:i,compProps:function(a,b,d){var e=a.state.appearance>=a.APPEARANCE.TRIM_PAGES_NAV_BUTTON;var f=y(a);return c.assign({},f,{label:"pages",isSmallVersion:e,classes:["top-bar-menu-item",J(b,d),I(b)].join(" "),tooltipData:A("pagesTooltipID",false,null,"TOPBAR_PAGES_TOOLTIP_TITLE"),bi:z("pages")})}},REDO_SEPARATOR:D(function(a){return a.state.appearance<a.APPEARANCE.HIDE_REDO}),SEPARATOR:D(),ZOOMOUT:F(),UNDO:{compClass:h,actions:null,biFunc:null,classes:null,compProps:function(a,b,c){var d=a.getEditorAPI();var e=G.UNDO;e.actions=e.actions||[d.history.undo];e.biFunc=e.biFunc||H.bind(null,d,"undo");e.classes=e.classes||["top-bar-undo",J(b,c),I(b)].join(" ");return{iconSymbol:"undo2",classes:G.UNDO.classes,actions:G.UNDO.actions,tooltipData:A("topBarUndoTooltipID",false,null,"TOPBAR_UNDO_TOOLTIP_TITLE"),biFunc:G.UNDO.biFunc,hintProps:{id:"Undo"}}}},REDO:{compClass:h,actions:null,biFunc:null,compProps:function(a,b,d){var e=a.getEditorAPI();G.REDO.actions=G.REDO.actions||[e.history.redo];G.REDO.biFunc=G.REDO.biFunc||H.bind(null,e,"redo");var f=a.state.appearance>=a.APPEARANCE.HIDE_REDO;return{iconSymbol:"redo2",classes:c.compact(["top-bar-redo","top-bar-responsive-1024",J(b,d),I(b)],f?"hidden":"").join(" "),actions:G.REDO.actions,tooltipData:A("topBarRedoTooltipID",false,null,"TOPBAR_REDO_TOOLTIP_TITLE"),biFunc:G.REDO.biFunc}}},PREVIEW:{compClass:h,actions:null,measuredWidth:0,bi:[z("preview"),{type:e.bi.events.preview.PREVIEW_CLICK,fields:{origin:"topbar"}}],compProps:function(a,b,c){var d=a.state.appearance>=a.APPEARANCE.PREVIEW_CHANGE_TO_ICON;G.PREVIEW.actions=G.PREVIEW.actions||[q.bind(null,a,500)];G.PREVIEW.classes=G.PREVIEW.classes||["top-bar-menu-item","top-bar-preview-icon",J(b,c),I(b)].join(" ");return{label:d?null:"TOPBAR_PREVIEW_TOOLTIP_TITLE",iconSymbol:d?"preview":null,actions:G.PREVIEW.actions,classes:G.PREVIEW.classes,progressStatus:a.props.previewingStatus,tooltipData:A("topBarPreviewTooltipID",false,"TOPBAR_PREVIEW_TOOLTIP_TITLE","TOPBAR_PREVIEW_TOOLTIP_BODY"),bi:G.PREVIEW.bi,ref:"topBarPreviewButton",measurePhase:function(b){G.PREVIEW.measuredWidth=w(a,"topBarPreviewButton",b)},hintProps:{id:"Preview"}}}},EDITOR_MODE_SWITCH:{compClass:h,getDropPanelProps:function(){var a={};return function(b,c,d,e){var f=(b?"mobile-":"desktop-")+(c?"optimized-":"non-optimized-")+d;var g=a[f];if(!g){g={overridePositionAdjustments:{type:m.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,value:70},desktopModeSelected:!b,isMobileOptimized:c,editorAPI:e,dropPanelPromotion:{type:"rEditor.panels.topBar.promotionPanel",classes:"promotion editor-mode-switch-promotion",props:{menuKey:"editor-mode-switch",key:"editor-mode-switch",title:"TOPBAR_MOBILE_PROMOTION_TITLE",message:"TOPBAR_MOBILE_PROMOTION_BODY",image:d>=2?r("mobileDesktopIllustration@x2.png"):r("mobileDesktopIllustration.png"),classes:{graphics:"editor-mode-switch-graphics",title:"editor-mode-switch-title",message:"editor-mode-switch-message"}}},dropPanelClass:"editor-modes-panel-container"};a[f]=g}return g}}(),compProps:function(a,b,e,f){var g=d.browserUtil.getDevicePixelRatio();var h=a.props.isMobileEditor?"desktop":"mobile";var i=a.state.appearance>=a.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS;var j=y(a);var k=a.getEditorAPI();return c.assign({},j,{iconSymbol:h,classes:[i?"mini-editor-mode-switch":"editor-mode-switch",J(b,e),I(b)].join(" "),actions:null,dropPanelContent:l,dropPanelProps:G.EDITOR_MODE_SWITCH.getDropPanelProps(a.props.isMobileEditor,a.props.isMobileOptimized,g,k),tooltipData:A("editorModeSwitchTooltipId-"+f,false,"TOPBAR_MOBILE_TOOLTIP_TITLE","TOPBAR_MOBILE_TOOLTIP_BODY"),bi:z("editor_view_mode"),hintProps:{id:"SwitchEditor"}})}},PUBLISH:{compClass:h,label:"TOPBAR_Site_Publish",measuredWidth:0,actions:null,bi:[z("publish"),{type:e.bi.events.publish.PUBLISH_CLICK,fields:{origin:"topbar"}}],classes:null,compProps:function(a,b){var c=a.getEditorAPI();if(c.wixStores.isSiteInWixStoreTestDrive()){return null}var d=c.generalInfo&&c.generalInfo.isSitePublished()||false;G.PUBLISH.actions=G.PUBLISH.actions||[function(){if(!a.areActionsLocked){n.saveAndPublish(c,"top_bar_publish")}}];var e=[I(b),"top-bar-item-margin","top-bar-textual-button"];var f=c.savePublish.canUserPublish();var g="publish-button-tooltip-id-"+(d?"published":"notPublished");if(!f){g="publish-disabled-button-tooltip-id"}e.push("top-bar-publish");var h=e.join(" ");var i=t(c);var j=n.isPublishInProgress()||c.saveManager.isSaveInProgress()||!f;return{label:G.PUBLISH.label,right:false,classes:h,actions:G.PUBLISH.actions,isDisabled:j,progressStatus:a.props.publishingStatus,tooltipData:A(g,true,i.title,i.body,i.linkText,i.linkAction),bi:G.PUBLISH.bi,ref:"topBarPublishButton",measurePhase:function(b){G.PUBLISH.measuredWidth=w(a,"topBarPublishButton",b)},hintProps:{id:"Publish"}}}},SAVE:C(false),PREVIEW_SAVE:C(true),WIXSTORES_MIGRATION_UPGRADE_SITE:{compClass:h,compProps:function(a,b,c){var d=a.getEditorAPI();if(d.wixStores.isSiteInWixStoreTestDrive()){return{label:"TOPBAR_Site_Migration_Upgrade",classes:["top-bar-menu-item","top-bar-wixstores-migration-upgrade-button",I(b),J(b,c)].join(" "),actions:[function(){d.panelManager.openPanel("wixStore.migration.wixStoreSwitchPopup",{},true);d.bi.event(e.bi.events.wixstores.WIXSTORES_MIGRATION_UPGRADE_CLICKED,{origin:"top panel"})}],tooltipData:A("store-migration-tooltip",true,"TOPBAR_Site_Migration_Upgrade","TOPBAR_Site_Migration_Upgrade_Description",null,null),style:{borderRight:"1px #e3eaf6 solid"}}}return null}},WIXSTORES_MIGRATION_SAVE:{compClass:h,actions:null,compProps:function(a,b){var c=a.getEditorAPI();if(!c.wixStores.isSiteInWixStoreTestDrive()){return null}var d=a.state.appearance>=a.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS;var e=z("save");var f=s(c);var g=!f?"":"-notSaved";G.SAVE.actions=G.SAVE.actions||[c.saveManager.save.bind(null,c,{origin:"top_bar"})];return{label:d?null:"TOPBAR_Site_Save",iconSymbol:d?"save":null,classes:[I(b),"top-bar-item-margin","top-bar-textual-button"].join(" "),actions:G.SAVE.actions,isDisabled:n.isPublishInProgress()||c.saveManager.isSaveInProgress(),progressStatus:a.props.savingStatus,tooltipData:A("save-button-tooltip"+g,true,"TOPBAR_SAVE_TOOLTIP_TITLE","TOPBAR_SAVE_TOOLTIP_BODY",!f?"TOPBAR_SAVE_TOOLTIP_LINK":null,!f?function(){c.account.openRevisions()}:null),bi:e}}},MENU:{compClass:k,compProps:function(a){var b=a.getEditorAPI();
var e=y(a);var f=a.getMenuBarItems(g);var h=c.assign({},e,{menuItems:f,viewTools:a.props.viewTools,classes:"top-bar-menu-item-left menu-bar",onMenuOpened:a.onMenuOpened,onMenuClosed:a.onMenuClosed,tooltipData:A("topBarMenuTooltipId",false,null,"TOPBAR_MENU_TOOLTIP_TITLE"),bi:z("menu")});if(o.isOpen("spanishUpgradeText")){var i=c.find(h.menuItems,{key:"SITE_BAR"});var j=c.find(i.children,{key:"UPGRADE_ITEM"}).rightPanel;j.props.title=d.translate("UPGRADE_FOR_SPAIN_ONLY");j.props.message=d.translate("TOPBAR_SITE_UPGRADE_PROMOTION_TEXT");j.props.shouldTranslate=false}if(!b.savePublish.canUserPublish()){var k=c.find(h.menuItems,{key:"SITE_BAR"});var l=c.find(k.children,{key:"PUBLISH"}).rightPanel;l.props.message="TOPBAR_PREPUBLISH_DISABLED_TOOLTIP_BODY"}if(o.isMultiValueExperimentOpen("editorHintsConfigs")){h.ref="topBarMenu"}return h}},BACK_TO_EDITOR:{compClass:h,actions:null,bi:{type:e.bi.events.topbar.top_bar_Preview_Page_Back_to_Editor_click,fields:{origin:"thumb"}},compProps:function(a,b){var c=a.getEditorAPI();G.BACK_TO_EDITOR.actions=G.BACK_TO_EDITOR.actions||[q.bind(null,a,500)];return{label:c.wixStores.isSiteInWixStoreTestDrive()?"TOPBAR_EDIT_SITE":"TOPBAR_BACK_TO_EDITOR",right:true,classes:[I(b),"top-bar-item-back-to-editor"].join(" "),actions:G.BACK_TO_EDITOR.actions,bi:G.BACK_TO_EDITOR.bi,ref:"topBarBackToEditorButton",patchPhase:x.bind(null,a),tooltipData:c.wixStores.isSiteInWixStoreTestDrive()?A("edit-site-tooltip",true,"TOPBAR_EDIT_SITE","TOPBAR_Edit_Site_Description",null,null):null}}},MOBILE_NON_OPTIMIZED_NOTIFICATION:{compClass:j,action:null,compProps:function(a,b){var c=G.MOBILE_NON_OPTIMIZED_NOTIFICATION;c.action=c.action||function(){var b=a.getEditorAPI();b.preview.togglePreview();b.openMobileElementsPanel({mobileElementId:"mobileView"})};return{classes:[J(b),I(b)].join(" "),isShown:a.props.isMobileEditor&&!a.props.isMobileOptimized,message:d.translate("mobile_preview_notification_text1")+" <a>"+d.translate("mobile_preview_notification_link")+"</a> "+d.translate("mobile_preview_notification_text2"),action:c.action}}},PREVIEW_NOTIFICATION:{compClass:j,compProps:function(a,b,c,e){var f=a.props.isMobileEditor&&!a.props.isMobileOptimized;var g=e.toUpperCase()==="PREVIEW";return{classes:[J(b),I(b)].join(" "),isShown:g&&!f,message:d.translate("Topbar_PREVIEW_TITLE"),measurePhase:u.bind(null,a),patchPhase:v.bind(null,a)}}}};function H(a,b,d){var f={type:b,origin:"topbar"};if(!c.isEmpty(d)){c.forEach(d,function(a){c.assign(a,f)})}else{d=[f]}a.bi.reportBI(e.bi.events.editor.undo_redo_component_change,d)}function I(a){var b="top-bar-menu-item-";return a&&a===p.RIGHT?b+"right":b+"left"}function J(a,b){var c=[];if(a===p.LEFT&&b===0){c.push("top-bar-item-right-margin")}else if(a===p.RIGHT&&b===0){c.push("top-bar-item-left-margin")}else{c.push("top-bar-item-margin")}return c}return{ORIENTATION:p,TOP_BARS:f,widgetMapping:G}});define("rEditor/rootComps/topBar/util/campaignUtil",["lodash","core","util"],function(a,b,c){"use strict";function d(b){return a.chain(b).find({key:"SITE_BAR"}).get("children").find({key:"UPGRADE_ITEM"}).value()}function e(b){return a.find(b,{key:"UPGRADE"})}function f(b){var d=b.campaigns.personalSale.getAssetPath();var e=b.campaigns.personalSale.getDiscountValue();var f=[d,"menubarSitePanel_"+e+".svg"].join("/");var g=a.template(c.translate("TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_LABEL_DYNAMIC"));return{symbol:"",image:c.media.getAssetUrl(f),message:g({discount:e}),title:c.translate("TOPBAR_SITE_UPGRADE_PROMOTION_TITLE"),shouldTranslate:false}}function g(a){var b=a.campaigns.personalSale.getAssetPath();var d=a.campaigns.personalSale.getDiscountValue();var e=[b,"menubarUpgradePanel_"+d+".svg"].join("/");return{symbol:"",image:c.media.getAssetUrl(e)}}function h(b,c){var h=d(c);var i=e(c);a.assign(h.rightPanel.props,f(b));a.assign(i.rightPanel.props,g(b))}return{updateMenuBarItemsAccordingToPersonalSaleCampaign:h}});define("rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil",["rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions"],function(a){"use strict";function b(b){var c=a[b];if(c){return!c.visibilityFunc||c.visibilityFunc()}return false}return{shouldBeVisible:b}});define("rEditor/rootComps/topBar/zoomModeBar.rt",["react","lodash","baseUI","symbols","uiAnimations","util","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton"],function(a,b,c,d,e,f,g){"use strict";function h(){this.exitZoomMode()}return function(){return a.createElement(e.contentSlideCSS,{distance:"60px"},this.inZoomMode()?a.createElement("div",{className:"zoom-bar-wrapper",key:"zoomModeBarWrapper",ref:"zoomModeBarWrapper",style:{width:"calc("+(this.getSiteScale()*100+"% - "+this.getVerticalScrollWidth())+")",left:"calc("+("50% - "+this.getVerticalScrollWidth())+")"}},a.createElement("div",{className:b({"zoom-mode-bar":true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"zoom-mode-bar"},a.createElement("div",{className:"left-zoom-bar",onClick:h.bind(this)},a.createElement("span",{className:"zoom-bar-text"},f.translate("TOPBAR_Exit_ZoomOut")),a.createElement(g,{iconSymbol:"zoomClose",classes:"zoom-bar-symbol",actions:[this.exitZoomMode]})),a.createElement("div",{className:"right-zoom-bar"},a.createElement(g,{iconSymbol:"undo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callUndo],tooltipData:this.getTooltipData("topBarUndoTooltipID","TOPBAR_UNDO_TOOLTIP_TITLE")}),a.createElement(g,{iconSymbol:"redo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callRedo],tooltipData:this.getTooltipData("topBarRedoTooltipID","TOPBAR_REDO_TOOLTIP_TITLE")}),a.createElement(g,{iconSymbol:"zoomBarHelp",classes:"zoom-bar-btn",actions:[this.openHelp],tooltipData:this.getTooltipData("zoomBarHelpTooltipID","gfpp_tooltip_help")})))):null)}});define("rEditor/rootComps/topBar/zoomModeBar",["react","lodash","core","util","baseUI","rEditor/rootComps/topBar/zoomModeBar.rt"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"zoomModeBar",mixins:[c.mixins.editorAPIMixin],exitZoomMode:function(){var a=this.getEditorAPI();this.getEditorAPI().zoomMode.exitZoomMode();a.bi.event(c.bi.events.topbar.zoombar.zoom_mode_bar_exit_zoom_mode,{editor_view_mode:a.getDeviceType()});window.setTimeout(function(){a.toolsControl.toggleHideTools(false,true)},300)},inZoomMode:function(){return this.getEditorAPI().zoomMode.isInZoomMode()},callUndo:function(){this.getEditorAPI().history.undo()},callRedo:function(){this.getEditorAPI().history.redo()},getSiteScale:function(){return this.getEditorAPI().getSiteScale()},openHelp:function(){var a=this.getEditorAPI().viewMode.get()==="DESKTOP"?"00d369ed-aedf-4fbd-b11c-3fcc51459cef":"65ff699a-dc0c-4c42-b2af-8df5e022d350";this.getEditorAPI().panelManager.openHelpCenter(a,null,{origin:c.constants.BI.HELP.ORIGIN.TOPBAR,component:"zoomModeBar"})},getTooltipData:function(a,b){return{presenter:e.popoverTemplates.titleBodyAndLinkTooltip,id:a,props:{text:b}}},getVerticalScrollWidth:function(){return d.uiUtils.getScrollbarWidth()===0?"0px":"6px"},render:f})});define("rEditor/rootComps/topBar/dynamicPagesComboBox.rt",["react","lodash","baseUI","symbols","util"],function(a,b,c,d,e){"use strict";function f(a){this.startDrag(a,this.getDragLimits())}function g(a){this.endDrag()}function h(b,d){return a.createElement(c.dropDown.option,{shouldTranslate:false,key:b.url,value:b.url,searchText:b.title},a.createElement("div",{className:"inner-route-title"},b.title))}return function(){return this.shouldShowInnerRoutesDropDown()?a.createElement("div",{className:"dynamic-pages-combo-box"+" "+b({preview:this.props.previewMode}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"dynamicPageComboBox"},a.createElement("div",{className:"dragable-area",onMouseDown:f.bind(this),onMouseUp:g.bind(this)},a.createElement(c.symbol,{name:"smalldragHandle",className:"symbol-smallDragHandle"})),this.props.previewMode?a.createElement("div",{key:"prevRouteNavButtonWrapper",className:"prev-route-wrapper"},a.createElement("div",{key:"prevRouteNavButton",className:"prev-route nav-btn",onClick:this.prevRoute},a.createElement(d.symbol,{name:"arrowPrev"}))):null,a.createElement("div",{className:"combo-box-wrapper"},a.createElement.apply(this,[c.dropDown.combobox,{key:"innerRouteDropDown",className:"dynamic-pages-combobox",valueLink:this.linkToInnerRoute()},b.map(this.state.innerRoutes||[],h.bind(this))])),!this.props.previewMode?a.createElement(c.button,{key:"goToPreviewButton",className:"go-to-preview",label:"INNER_ROUTES_NAVIGATION_BOX_GO_TO_PREVIEW",onClick:this.goToPreviewAndNavigate}):null,this.props.previewMode?a.createElement("div",{key:"nextRouteNavButton",className:"next-route nav-btn",onClick:this.nextRoute},a.createElement(d.symbol,{name:"arrowNext"})):null,a.createElement("div",{className:"close-area",onClick:this.close},a.createElement("div",{className:"close-sign"},a.createElement(d.symbol,{name:"close"})))):null}});define("rEditor/rootComps/topBar/dynamicPagesComboBox",["react","lodash","core","util","rEditor/rootComps/topBar/dynamicPagesComboBox.rt"],function(a,b,c,d,e){"use strict";function f(a,b){return h(a+1,b)}function g(a,b){return h(a-1,b)}function h(a,b){return(a%b+b)%b}return a.createClass({displayName:"daynamicPagesComboBox",render:e,mixins:[c.mixins.editorAPIMixin,d.draggableMixin],getInitialState:function(){return{innerRoutes:null,selectedInnerRoute:null,shouldShowNavigation:true}},getNavigationData:function(a){var c=this.getEditorAPI();var d=c.data.createItem("DynamicPageLink");return b.assign(d,{innerRoute:a||"/",routerId:this.routerData.routerId})},componentWillReceiveProps:function(a){var c=this.getEditorAPI();if(a.previewMode!==this.props.previewMode){if(a.previewMode){this.getRouterInnerRoutes()}}if(this.props.editorIsInit){var d=c.pages.getPrimaryPageId()!==this.currentPageId;if(d){this.currentPageId=c.pages.getPrimaryPageId()}var e=c.routers.getRouterDataForPageIfExist(this.currentPageId);if(d||!b.isEqual(this.routerData,e)){this.routerData=e;this.getRouterInnerRoutes()}}if(this.props.devModeContext.type!==a.devModeContext.type){this.getRouterInnerRoutes()}var f=c.routers?c.routers.getCurrentInnerRoute():null;if(this.props.editorIsInit&&c.pages.getPrimaryPageId()===this.currentPageId&&f&&f.innerRoute!==this.currentInnerRoute&&!this.isCollectionPageOrHasOneRoute()){this.currentInnerRoute=f.innerRoute;this.setState({selectedInnerRoute:f.innerRoute})}},getRouterInnerRoutes:function(){var a=this.getEditorAPI();var c=a.routers.getRouterDataForPageIfExist(this.currentPageId);if(!c){this.setState({innerRoutes:[],selectedInnerRoute:null,shouldShowNavigation:true});this.routerData=null;return}var d=this.currentPageId;a.routers.getRouterInnerRoutes(c.routerId,this.currentPageId,function(c){c=b.sortBy(c,["title"]);var e=a.pages.getPrimaryPageId()!==d;if(e){return}if(c.length===1&&c[0].url==="/"){this.setState({innerRoutes:[],selectedInnerRoute:null});this.navigateToRoute();return}var f=null;var g=a.routers.getCurrentInnerRoute();if(g&&g.innerRoute){f=g.innerRoute}var h=f?this.findInnerRouteIndex(f,c):0;var i=c[h]?c[h].url:null;if(i&&i!==this.currentInnerRoute){this.currentInnerRoute=i;this.navigateToRoute(this.currentInnerRoute)}this.setState({innerRoutes:b.sortBy(c,["title"])||[],shouldShowNavigation:true,selectedInnerRoute:!b.isEmpty(c)?c[h].url:null})}.bind(this))},isCollectionPageOrHasOneRoute:function(){var a=this.state.innerRoutes;if(!a){return false}return a.length===1},shouldShowInnerRoutesDropDown:function(){var a=this.getEditorAPI();var d=a.pages.getFocusedPageId?a.developerMode.getContext():{};var e=d.type===c.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE;var f=a.documentMode?a.documentMode.isShowingFixedComponentsEnabled():true;var g=a.pages.getFocusedPageId?a.pages.getFocusedPageId()===a.pages.getPrimaryPageId():true;return g&&!this.isCollectionPageOrHasOneRoute()&&this.state.shouldShowNavigation&&this.routerData&&!b.isEmpty(this.state.innerRoutes)&&(this.props.previewMode||e)&&f},goToPreviewAndNavigate:function(){var a=this.getEditorAPI();if(this.props.previewMode){a.pages.navigateTo(this.getNavigationData(this.state.selectedInnerRoute))}else{a.preview.togglePreview()}},linkToInnerRoute:function(){return{value:this.state.selectedInnerRoute,requestChange:function(a){this.navigateToRoute(a);this.setState({selectedInnerRoute:a})}.bind(this)}},close:function(){this.setState({shouldShowNavigation:false})},openHelpCenter:function(){var a=this.getEditorAPI();var b="b853c294-8ff1-418f-b4d2-29d7b59a85c3";var c={origin:"display-combo-box",component:this.props.id};a.panelManager.openHelpCenter(b,null,c)},findInnerRouteIndex:function(a,c){var d=b.findIndex(b.map(c,"url"),function(b){return b===a});return d===-1?0:d},prevRoute:function(){var a=this.findInnerRouteIndex(this.state.selectedInnerRoute,this.state.innerRoutes);var b=g(a,this.state.innerRoutes.length);this.moveToItem(b)},nextRoute:function(){var a=this.findInnerRouteIndex(this.state.selectedInnerRoute,this.state.innerRoutes);var b=f(a,this.state.innerRoutes.length);this.moveToItem(b)},moveToItem:function(a){var c=!b.isEmpty(this.state.innerRoutes)&&a<this.state.innerRoutes.length?this.state.innerRoutes[a].url:null;this.navigateToRoute(c);this.setState({selectedInnerRoute:c})},navigateToRoute:function(a){var c=this.getEditorAPI();c.pages.navigateTo(this.getNavigationData(a),b.noop,true)},getDragLimits:function(){var a=c.utils.stageUtils.getStageLayout();if(!a){a=window.document.body.getBoundingClientRect()}return{x:[a.left,a.right],y:[a.top,a.bottom]}}})});define("rEditor/rootComps/topBar/topBar.rt",["react","lodash","experiment","baseUI","symbols","rEditor/rootComps/topBar/zoomModeBar","rEditor/rootComps/topBar/dynamicPagesComboBox"],function(a,b,c,d,e,f,g){"use strict";function h(){this.toggleHideTools()}return function(){return a.createElement("div",{className:this.topBarClassName+" "+(c.isOpen("topBarB")?"top-bar-b":""),onClick:this.handleTopBarClick,onContextMenu:this.props.onContextMenu},a.createElement("div",{className:b({"top-bar-editor":true,"top-bar-preview-show":this.props.previewMode,"is-hidden":this.props.isHidden,"is-hidden-completely":this.hideForZoomMode()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:{zIndex:this.state.zIndex}},this.props.previewMode?a.createElement("div",{"data-target":this.topBarClassName,key:"top-bar-preview",className:"top-bar-container top-bar-preview"},this.getTopBarByMode("PREVIEW")):null,!this.props.previewMode?a.createElement("div",{"data-target":this.topBarClassName,key:"top-bar-edit",className:"top-bar-container top-bar-edit"},this.getTopBarByMode("EDIT")):null,!this.props.isEnabled?a.createElement("div",{className:"top-bar-overlay",key:"overlay"}):null),a.createElement(f,{key:"zoomModeBar"}),c.isOpen("dpages")?a.createElement(g,{key:"dynamicPagesComboBox",previewMode:this.props.previewMode,devModeContext:this.props.devModeContext,editorIsInit:this.props.editorIsInit}):null,!this.props.previewMode&&!this.props.isMobileEditor?a.createElement(d.tooltip,{value:this.getHideToolsTooltip(),key:"hideAllTools"},a.createElement("div",{onClick:h.bind(this),style:{zIndex:this.state.zIndex},"data-hint-id":c.isMultiValueExperimentOpen("editorHintsConfigs")?"HideControls":null,className:b({"hide-tools-button":true,"tools-hidden":this.props.isHidden,"stand-out":this.props.shouldHideToolsBtnBlink}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(e.symbol,{className:"hide-tools-symbol",name:"hideToolsArrow",hintId:c.isMultiValueExperimentOpen("editorHintsConfigs")?"HideControls_inner":null}))):null)}});define("rEditor/rootComps/topBar/topBar",["reactDOM","jquery","react","lodash","core","util","rEditor/rootComps/topBar/topBarWidgetsDefinitions","rEditor/rootComps/topBar/util/campaignUtil","rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil","experiment","editorHints","rEditor/rootComps/topBar/topBar.rt"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";function m(a){if(a>0){return 1}else if(a<0){return-1}return 0}var n=null;function o(a){return d.filter(a.children,function(a){return(!a.experiment||j.isOpen(a.experiment))&&(!a.experimentOff||!j.isOpen(a.experimentOff))})}function p(a,b,c){if(b==="EDIT"&&!a.savePublish.canUserPublish()){var e=d.findIndex(c,{comp:"PUBLISH"});if(c[e-1].comp!=="SEPARATOR"){c.splice(e,0,{comp:"SEPARATOR",orientation:"right"})}}}return c.createClass({displayName:"topBar",topBarClassName:"top-bar",mixins:[e.mixins.editorAPIMixin,f.outerClickMixin,f.singlePassDOMReadWriteMixin],propTypes:{height:c.PropTypes.number.isRequired,isEnabled:c.PropTypes.bool,isMobileEditor:c.PropTypes.bool.isRequired,isMobileOptimized:c.PropTypes.bool.isRequired,previewMode:c.PropTypes.bool.isRequired,viewTools:c.PropTypes.object.isRequired,previewingStatus:c.PropTypes.string.isRequired,savingStatus:c.PropTypes.string.isRequired,publishingStatus:c.PropTypes.string.isRequired,onTopBarClicked:c.PropTypes.func,isHidden:c.PropTypes.bool},TOP_BAR_REFS:{LEFT_SIDE:"topBarSideWrapperLeft",RIGHT_SIDE:"topBarSideWrapperRight",CENTER:"topBarSideWrapperCenter"},MIN_GAP_BETWEEN_LEFT_AND_RIGHT_CONTAINERS:30,APPEARANCE:{FULL:0,SAVE_AND_MOBILE_CHANGE_ICONS:1,PREVIEW_CHANGE_TO_ICON:2,HIDE_REDO:3,TRIM_PAGES_NAV_BUTTON:4,HIDE_UPGRADE_IN_MENU:5},MINIMAL_APPEARANCE_INDEX:5,areActionsLocked:false,getInitialState:function(){return{appearance:this.APPEARANCE.FULL,zIndex:""}},shouldComponentUpdate:function(a){return!a.performingMouseMoveAction},lockActions:function(){this.areActionsLocked=true},unlockActions:function(){this.areActionsLocked=false},measurePhase:function(){var a=this.didWindowSizeChange();n=b(window).width();return a},patchPhase:function(a){if(a!==0){this.updateTopBarWidth(a)}},componentDidUpdate:function(a,b){var c=m(b.appearance-this.state.appearance);if(c!==0){this.updateTopBarWidth(c)}},toggleHideTools:function(){var a=this.getEditorAPI(),b=a.toolsControl.toggleHideTools(),c=b?e.bi.events.editor.hide_tools.hide_controls:e.bi.events.editor.hide_tools.show_controls;a.bi.event(c,{origin:"handle"})},getHideToolsTooltip:function(){return this.props.isHidden?"Toolbars_show_hover_label":"Toolbars_hide_hover_label"},updateTopBarWidth:function(a){var b=this.state.appearance;if(a>0){b=this.APPEARANCE.FULL}var c=this.getNonOverlappingAppearanceIndex(b);if(c!==this.state.appearance){this.setState({appearance:c})}},didWindowSizeChange:function(){var a=b(window).width();return m(a-n)},getNonOverlappingAppearanceIndex:function(a){if(!this.props.previewMode){var b=this.getGapBetweenLeftAndRightContainers();var c=b<this.MIN_GAP_BETWEEN_LEFT_AND_RIGHT_CONTAINERS;if(c){a=Math.min(a+1,this.MINIMAL_APPEARANCE_INDEX)}}return a},getGapBetweenLeftAndRightContainers:function(){var c=b(a.findDOMNode(this.refs[this.TOP_BAR_REFS.LEFT_SIDE]));var d=b(a.findDOMNode(this.refs[this.TOP_BAR_REFS.RIGHT_SIDE]));var e=d.offset().left;var f=c.offset().left+c.width();return e-f},onOuterClick:function(){if(f.keyboardShortcuts.getContext()===f.keyboardShortcuts.CONTEXTS.TOP_BAR){var a=f.keyboardShortcuts.CONTEXTS;f.keyboardShortcuts.setContext(this.props.previewMode?a.PREVIEW:a.EDITOR)}},handleTopBarClick:function(a){this.getEditorAPI().imageCrop.toggleCropMode(false);if(this.isClickOnTopBarEmptySpace(a)){this.setTopBarKeyboardContext()}if(this.props.onTopBarClicked){this.props.onTopBarClicked()}},isClickOnTopBarEmptySpace:function(a){var b=a.target.dataset;return b&&b.target===this.topBarClassName},setTopBarKeyboardContext:function(){f.keyboardShortcuts.setContext(f.keyboardShortcuts.CONTEXTS.TOP_BAR)},getTopBarByMode:function(a){var b=g.TOP_BARS[a];p(this.getEditorAPI(),a,b);var c=this.sortTopBarItemsByOrientation(b);var d=this.createTopBarItems(c.left,this.createLeftTopBarItem,a,"left");var e=this.createTopBarItems(c.center,this.createLeftTopBarItem,a,"center");var f=this.createTopBarItems(c.right.reverse(),this.createRightTopBarItem,a,"right");return[].concat(e,d,f)},sortTopBarItemsByOrientation:function(a){var b={left:[],right:[],center:[]};d.forEach(a,d.bind(function(a){var c=this.getWidgetDefinitionByKey(a);if(c){if(a.orientation===g.ORIENTATION.LEFT){b.left.push(c)}else if(a.orientation===g.ORIENTATION.RIGHT){b.right.push(c)}else{b.center.push(c)}}},this));return b},getWidgetDefinitionByKey:function(a){return g.widgetMapping[a.comp]},createTopBarItems:function(a,b,c,e){var f=d.map(a,function(a,d){return b(a,d,c)});return this.createElementsWrapper(f,c,e)},createElementsWrapper:function(a,b,d){var e="topbar-side-"+b+"-"+d;var f={displayName:"topBarSideWrapper",className:"top-bar-side-wrapper",key:e};if(d==="right"){f.style={right:0};f.ref=this.TOP_BAR_REFS.RIGHT_SIDE}else if(d==="left"){f.style={left:0};f.ref=this.TOP_BAR_REFS.LEFT_SIDE}else if(d==="center"){f.style={width:"100%",textAlign:"center"};f.ref=this.TOP_BAR_REFS.CENTER}return c.createElement("div",f,a)},createLeftTopBarItem:function(a,b,c){return this.createDynamicMenuItem(a,g.ORIENTATION.LEFT,b,c)},createRightTopBarItem:function(a,b,c){return this.createDynamicMenuItem(a,g.ORIENTATION.RIGHT,b,c)},createDynamicMenuItem:function(a,b,e,f){if(a&&a.compClass){b=b||g.ORIENTATION.LEFT;var h=a.compProps(this,b,e,f);if(h){var i=d.assign(h,{key:this.createTopBarWidgetKey(b,f,e)});return c.createElement(a.compClass,i)}}return null},createTopBarWidgetKey:function(a,b,c){return["topbar-w",a,b,c].join("-")},getMenuBarItems:function(a){var b=d.cloneDeep(a);var c=this.popUpgradePackagesEntry(b);var e=this.getEditorAPI();if(c&&this.isUpgradeShowing()){var f=c.upgradePanels.DEFAULT;if(f){b.push(f)}}if(e.campaigns.personalSale.isActiveCampaign()&&this.isUpgradeShowing()){h.updateMenuBarItemsAccordingToPersonalSaleCampaign(e,b)}d.forEach(b,function(a){a.children=o(a)});return b},isUpgradeShowing:function(){var a=this.isUserPermittedToUpgrade()&&!this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive();if(!a){return false}return this.isUpgradeSupportedInAppearanceState()},isUserPermittedToUpgrade:function(){return this.getEditorAPI().account.isUserOwner()},isUpgradeSupportedInAppearanceState:function(){return this.state.appearance<this.APPEARANCE.HIDE_UPGRADE_IN_MENU},onMenuOpened:function(){this.setState({zIndex:1750})},onMenuClosed:function(){this.setState({zIndex:""})},popUpgradePackagesEntry:function(a){return d.head(d.remove(a,function(a){return a&&a.category==="UPGRADE"}))},hideForZoomMode:function(){return this.getEditorAPI().editor.state.hideToolsAndMaintainStagePosition},openDropDown:function(a,b){this.refs.topBarMenu.openDropDown(a,b)},enableClose:function(){this.refs.topBarMenu.enableClose()},disableDropDown:function(){this.refs.topBarMenu.disableDropDown()},enableDropDown:function(){this.refs.topBarMenu.enableDropDown()},shouldBeVisible:function(a){return i.shouldBeVisible(a)},render:function(){if(j.isMultiValueExperimentOpen("editorHintsConfigs")){return c.createElement(k.hintsNotify,{id:k.hintsContainers.TOP_BAR},l.call(this))}return l.call(this)}})});define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt",["react","lodash","symbols","experiment"],function(a,b,c,d){"use strict";return function(){return a.createElement("li",{className:this.getButtonClasses(),onClick:this.handleOnClick,"data-hint-id":d.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},this.shouldShowSelectedSvg()?a.createElement(c.symbol,b.assign({},{key:"selectedSvg"},this.getSelectedButtonSvgProps())):null,a.createElement(c.symbol,{name:this.props.symbolName,className:"icon",hintId:d.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id+"_inner":null}),a.createElement("span",{className:"mask"}),a.createElement("span",{className:"text"},this.props.label),this.props.notificationCount>0?a.createElement("span",{key:"notificationCount",className:"notifications"},this.props.notificationCount):null)}});define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton",["lodash","react","core","rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt","symbols"],function(a,b,c,d){"use strict";var e="/left_bar_button_clicked";return b.createClass({displayName:"leftBarButton",mixins:[c.mixins.editorAPIMixin],propTypes:{className:b.PropTypes.string.isRequired,symbolName:b.PropTypes.string.isRequired,label:b.PropTypes.string.isRequired,isSelected:b.PropTypes.bool.isRequired,isMobileEditor:b.PropTypes.bool.isRequired,onClick:b.PropTypes.func.isRequired,isMenuCollapsed:b.PropTypes.bool,notificationCount:b.PropTypes.number.isRequired,isFirstPanel:b.PropTypes.bool,collapseOnClick:b.PropTypes.bool,isButtonOpen:b.PropTypes.bool,hintProps:b.PropTypes.object},getInitialState:function(){return{wasButtonClicked:this.props.isMenuCollapsed&&this.props.isButtonOpen&&this.getEditorAPI().getUserPreferences().site.get(this.props.className+e)}},getButtonClasses:function(){var a=[];a.push("left-bar-item");a.push(this.props.className);if(this.props.isSelected){a.push("selected")}if(this.props.isFirstPanel){a.push("first-panel")}if(this.props.collapseOnClick&&!this.state.wasButtonClicked){a.push("wait-for-click")}return a.join(" ")},handleOnClick:function(){if(this.props.collapseOnClick){this.setState({wasButtonClicked:true});this.getEditorAPI().getUserPreferences().site.set(this.props.className+e,true)}if(this.props.onClick){this.props.onClick()}},getSelectedButtonSvgProps:function(){var a,b;if(this.props.isFirstPanel){a="leftBarButtonEarTop";b="ear-top"}else{a="leftBarButtonEarMiddle";b="ear-middle"}return{name:a,className:"ear "+b}},shouldShowSelectedSvg:function(){return this.props.isMenuCollapsed&&this.props.isSelected},render:d})});define("rEditor/rootComps/leftBar/leftBar.rt",["react","lodash","rEditor/rootComps/leftBar/leftBarButton/leftBarButton","util"],function(a,b,c,d){"use strict";function e(a){this.checkOverlap(b.clone(a))}function f(){this.resetQuickTip()}function g(a,b,c){this.handleOnClick(a.panelName,a.panelProps)}function h(b,e){return a.createElement(c,{key:b.panelName,label:d.translate(b.label),isMenuCollapsed:this.isMenuCollapsed(),className:b.className,symbolName:b.symbolName,isMobileEditor:this.props.isMobileEditor,isSelected:this.state.activePanelName===b.panelName,onClick:g.bind(this,b,e),isFirstPanel:e===0,collapseOnClick:b.collapseOnClick,isButtonOpen:b.isButtonOpen,notificationCount:this.getNotificationCount(b.panelName),hintProps:b.hintProps})}return function(){return a.createElement("div",{className:b({"left-bar":true,"is-hidden":this.props.isHidden,"half-opacity":this.props.halfOpacityTools,"menu-collapsed-wrapper":this.isMenuCollapsed()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:{left:this.getLeftOffset()},onContextMenu:this.props.onContextMenu,onMouseMove:e.bind(this),onMouseEnter:f.bind(this),ref:"checkOverlapTarget"},a.createElement.apply(this,["ul",{ref:"buttons",className:b({"left-bar-items":true,"menu-collapsed":this.isMenuCollapsed(),"menu-opened":this.isMenuOpened()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},b.map(this.getMenuItems(),h.bind(this))]))}});define("rEditor/rootComps/leftBar/config/leftBarData",["util","constants"],function(a,b){"use strict";return{desktop:[{panelName:"rEditor.panels.backgroundPanel",panelProps:{},label:b.R_EDITOR.ROOT_COMPS.LEFTBAR.BACKGROUND_LABEL,className:"bg-panel",symbolName:"leftBarBackgroundPanel",hintProps:{id:"ChangeBackgrounds"}},{panelName:"addPanelInfra.addPanel",panelProps:{},label:"LEFTBAR_ADD_LABEL",className:"add-panel",symbolName:"leftBarAddPanel",hintProps:{id:"AddPanel"}},{panelName:"tpa.compPanels.appMarketPanel",panelProps:{urlParams:{openMarketOrigin:"market_button"},openPanelBiEvent:a.bi.events.OPEN_MARKET_CLICK,openPanelBiParams:{referral_info:"market_button"}},label:"app_market_button_text",className:"app-market-panel",symbolName:"leftBarAppMarketPanel",hintProps:{id:"AppMarket"}},{panelName:"rEditor.panels.myMediaPanel",panelProps:{},label:"LEFTBAR_MY_UPLOADS_LABEL",className:"my-uploads-panel",symbolName:"leftBarMyUploadsPanel"}],mobile:[{panelName:"rEditor.panels.backgroundPanel",panelProps:{},label:b.R_EDITOR.ROOT_COMPS.LEFTBAR.BACKGROUND_LABEL,className:"bg-panel",symbolName:"leftBarBackgroundPanel",hintProps:{id:"ChangeBackgrounds"}},{panelName:"mobileEditor.mobileElementsPanel",panelProps:{},label:"mobile_elements_panel_title",className:"mobile-elements-panel",symbolName:"mobileView"},{panelName:"mobileEditor.hiddenItemsPanel",panelProps:{},label:"mobile_hidden_items_panel_title",className:"hidden-items-panel",symbolName:"hiddenComp",hintProps:{id:"MobileEditorHiddenElements"}}]}});define("rEditor/rootComps/mixins/findOverlappedComponentMixin",["reactDOM","lodash","jquery","react","util","core","baseUI"],function(a,b,c,d,e,f,g){"use strict";var h=3e3,i=15e3,j=70;return{intersectionComp:null,hideQuickTipTimer:null,getComponentsLayoutByMouseEvent:function(a){var c=this.getEditorAPI();var d=c.components;var e=c.selection.getComponentsUnderClick(a);return b.map(e,function(a){return d.layout.getRelativeToScreenConsideringScroll(a).bounding})},calcOverlapPercentage:function(a,b){var c=e.math.getSquaresIntersection(b,{x:a.offsetLeft,y:a.offsetTop-this.getEditorAPI().editorConfig.previewPosition.top,width:a.offsetWidth,height:a.offsetHeight});if(!c){return 0}this.intersectionComp=b;return c.width*c.height/(b.height*b.width)*100},isOverlapping:function(b){var c=this.refs.checkOverlapTarget;if(!c){return false}var d=this.getComponentsLayoutByMouseEvent(b);var e=0;var f=a.findDOMNode(c);for(var g in d){if(d.hasOwnProperty(g)){e=this.calcOverlapPercentage(f,d[g]);if(e>j){return true}}}return false},hideQuickTip:function(){window.clearTimeout(this.hideQuickTipTimer);this.getEditorAPI().toolsControl.toggleHalfOpacityTools(false);this.getEditorAPI().hideFloatingBubble()},showQuickTip:function(a){var b=this.getEditorAPI();var e=c(window).width()/2;var h=a.pageX<e?2:-2;var j=d.createElement(g.popoverTemplates.quickTip,{text:"toolbars_hide_tooltip_text",linkActionText:"toolbars_hide_tooltip_link",linkAction:this.quickTipLinkAction,linkMouseEnter:this.quickTipLinkMouseEnter,linkMouseLeave:this.quickTipLinkMouseLeave,symbol:"idea-bulb",closeAction:this.quickTipCloseAction});var k={height:100,width:this.intersectionComp.width,top:a.pageY-b.ui.scroll.getScroll().scrollTop,left:this.intersectionComp.x+h};var l={noArrow:true,shake:true,behindPopUps:true,hideMethod:b.toolsControl.toggleHalfOpacityTools.bind(this,false),alignment:g.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,timeoutForMouseOverBubble:i};var m=true;b.showFloatingBubble(j,k,l,m);b.bi.event(f.bi.events.editor.hide_tools.show_controls_tooltip_appearance)},moveQuickTip:function(){var a=this.getEditorAPI(),b=c(window).width()/2,e=284,f=d.createElement(g.popoverTemplates.quickTip,{text:"toolbars_show_tooltip_text",symbol:"idea-bulb",closeAction:this.quickTipCloseAction}),h={height:a.editorConfig.previewPosition.top+30,width:e,top:0,left:b-e/2},i={noArrow:true,behindPopUps:true,shouldHaveTransition:true},j=true;a.showFloatingBubble(f,h,i,j);a.toolsControl.toggleHideToolsBtnBlink(true)},quickTipCloseAction:function(){var a=this.getEditorAPI();this.hideQuickTip();a.bi.event(f.bi.events.editor.hide_tools.show_controls_tooltip_close);var b=a.userPreferences.session.get("hideToolsQuickTipShown")||0;a.userPreferences.session.set("hideToolsQuickTipShown",b+1)},quickTipLinkAction:function(){var a=this.getEditorAPI(),b=a.toolsControl;b.toggleHalfOpacityTools(false);b.toggleHideTools(true);a.bi.event(f.bi.events.editor.hide_tools.hide_controls,{origin:"tooltip"});this.moveQuickTip();a.userPreferences.site.set("hideToolsQuickTipShown",true)},quickTipLinkMouseEnter:function(){this.getEditorAPI().toolsControl.toggleHalfOpacityTools(true)},quickTipLinkMouseLeave:function(){this.getEditorAPI().toolsControl.toggleHalfOpacityTools(false)},resetQuickTip:function(){this.setState({quickTipAlreadyShown:false})},checkOverlap:function(a){var b=this.getEditorAPI();if(b.getPreviewMode()){return}var c=b.userPreferences.session,d=b.userPreferences.site,e=d.get("hideToolsQuickTipShown")||c.get("hideToolsQuickTipShown")>4;
if(!e&&!this.state.quickTipAlreadyShown&&this.isOverlapping(a)){this.showQuickTip(a);this.setState({quickTipAlreadyShown:true})}},componentDidMount:function(){var a=this.getEditorAPI(),c={leading:false};if(!a.registeredHideBubbleOnPreview){a.preview.registerToGoToPreview(this.hideQuickTip);a.registeredHideBubbleOnPreview=true}this.checkOverlap=b.throttle(this.checkOverlap,h,c)}}});define("rEditor/rootComps/leftBar/leftBar",["reactDOM","lodash","react","jquery","core","baseUI","rEditor/rootComps/leftBar/leftBar.rt","rEditor/rootComps/leftBar/config/leftBarData","rEditor/rootComps/mixins/findOverlappedComponentMixin","experiment","editorHints","constants"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m={panelName:"rEditor.panels.myMediaPanel",panelProps:{},label:"LEFTBAR_MY_UPLOADS_LABEL",className:"my-uploads-panel",symbolName:"leftBarMyUploadsPanel"};function n(a,c){return b.reject(a,function(a){return b.includes(c,a.panelName)})}return c.createClass({displayName:"leftBar",mixins:[e.mixins.editorAPIMixin,i],propTypes:{leftBarState:c.PropTypes.object.isRequired,isMobileEditor:c.PropTypes.bool.isRequired,openPanels:c.PropTypes.array.isRequired,isEnabled:c.PropTypes.bool.isRequired,isHidden:c.PropTypes.bool,isPopupMode:c.PropTypes.bool},getInitialState:function(){return{activePanelName:undefined}},componentDidMount:function(){if(this.props.isHidden){d(a.findDOMNode(this)).css({left:this.getLeftOffset()})}},shouldComponentUpdate:function(a,c){return!b.isEqual(this.props,a)||!b.isEqual(this.state,c)},getMenuItems:function(){var a=[];var c=this.props.leftBarState.superApps;var d=[];if(j.isOpen("enableMyUploadsButton")){d.push(m)}if(this.props.isMobileEditor){a=h.mobile.concat(d,b.sortBy(c.mobile,"order"))}else{a=h.desktop.concat(d,b.sortBy(c.desktop,"order"))}if(this.props.isPopupMode){a=n(a,[l.R_EDITOR.ROOT_COMPS.LEFTBAR.BLOG_PANEL_NAME,l.R_EDITOR.ROOT_COMPS.LEFTBAR.BACKGROUND_PANEL_NAME])}a.forEach(function(a,b){a.panelProps=a.panelProps||{};a.panelProps.panelIndex=b});return b.compact(a)},getNotificationCount:function(a){return this.props.leftBarState.notifications[a]||0},componentWillReceiveProps:function(a){var c=b.find(a.openPanels,{frameType:"leftPanelFrame"});if(c){this.setState({activePanelName:c.name});if(!this.props.leftBarState.isCollapsed){this.getEditorAPI().leftBar.collapseMenu()}}else{this.setState({activePanelName:undefined})}},handleOnClick:function(a,b){var c=this.getEditorAPI();if(this.props.isEnabled&&a!==this.state.activePanelName){c.leftBar.collapseMenu();c.panelManager.openPanel(a,b);if(b.openPanelBiEvent){c.bi.event(b.openPanelBiEvent,b.openPanelBiParams)}}c.hideFloatingBubble()},isMenuCollapsed:function(){return this.props.leftBarState.isCollapsed},isMenuOpened:function(){return!!this.state.activePanelName},getButtonsBoundingRect:function(){if(this.isMenuCollapsed()){return f.uiConstants.LEFTBAR_BTN_WIDTH_COLLAPSED}return a.findDOMNode(this.refs.buttons).getBoundingClientRect()},getLeftOffset:function(){var b="-1000px";var c=8;if(this.props.isHidden){if(this.isMounted()){var d=a.findDOMNode(this).offsetWidth;return-(d+c)+"px"}return b}return""},render:function(){if(j.isMultiValueExperimentOpen("editorHintsConfigs")){return c.createElement(k.hintsNotify,{id:k.hintsContainers.LEFT_BAR},g.call(this))}return g.call(this)}})});define("rEditor/rootComps/mixins/hiddenableMixin",["reactDOM","jquery","lodash","util"],function(a,b,c,d){"use strict";var e=d.singlePassDOMReadWriteMixin;return{mixins:[e],componentWillMount:function(){this.lastCustomXPosition=null;this.shouldCompSlideRight=true},componentWillReceiveProps:function(c){if(!c.toolsHidden&&this.props.toolsHidden&&this.state.isCustomPosition){b(a.findDOMNode(this)).css({left:this.lastCustomXPosition})}},measurePhase:function(){this.shouldCompSlideRight=this.shouldSlideRight();return this.getComponentPosition(this.lastCustomXPosition)},patchPhase:function(c){b(a.findDOMNode(this)).css(c)},shouldSlideRight:function(){var c=b(a.findDOMNode(this));var d=c.offset().left;var e=c.width()/2;var f=b(window).width()/2;return d+e>f},updateLastCustomXPosition:function(a){this.lastCustomXPosition=a},getHiddenableClasses:function(){return{"hide-tools":this.props.toolsHidden,"show-tools":!this.props.toolsHidden,"slide-right":this.shouldCompSlideRight,"slide-left":!this.shouldCompSlideRight,"half-opacity":this.props.halfOpacityTools}}}});define("rEditor/rootComps/mixins/keepInViewportMixin",["reactDOM","lodash","util","core"],function(a,b,c,d){"use strict";return{fitPositionToScreen:function(b,d,e){var f=this.getDragLimits(d);var g=a.findDOMNode(this);var h=g.getBoundingClientRect();var i=h.top;var j=b||h.left;var k=f.x[1]-h.width-e+d;var l=c.math.ensureWithinLimits(j,f.x[0],k);var m=c.math.ensureWithinLimits(i,f.y[0],f.y[1]);return{left:l,top:m}},getDragLimits:function(b){var c=d.utils.stageUtils.getStageLayout();var e=d.constants.PANELS.PANEL_SIZE_TO_KEEP_IN_VIEW;var f=a.findDOMNode(this);var g=f.clientHeight;return{x:[c.left+b,c.right-b],y:[c.top+b,c.bottom+g-e]}}}});define("rEditor/rootComps/toolBar/toolSelector.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";return function(){return a.createElement("div",{className:b(this.getClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:{position:"relative"}},this.state.isMenuDisplayed?a.createElement("div",{className:b(this.getDropDownClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"menuDropDown",onMouseLeave:this.hideMenu},this.props.children):null,a.createElement(c.tooltip,{disabled:!this.props.tooltip,value:this.props.tooltip,className:this.props.tooltipClass,delay:"600"},a.createElement("span",{className:b({button:true,disabled:this.props.disabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.displayMenu},a.createElement(c.symbol,{name:this.props.symbol}))),this.props.children&&this.props.children.length>1?a.createElement("div",{key:"smallIndicator",className:"small-indicator"}):null)}});define("rEditor/rootComps/toolBar/toolSelector",["react","lodash","rEditor/rootComps/toolBar/toolSelector.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"toolSelector",propTypes:{symbol:a.PropTypes.string.isRequired,columns:a.PropTypes.number,onShow:a.PropTypes.func,tooltipClass:a.PropTypes.string,disabled:a.PropTypes.bool},getInitialState:function(){return{isMenuDisplayed:false}},getDefaultProps:function(){return{columns:3,disable:false}},displayMenu:function(){if(!this.props.disabled){this.setState({isMenuDisplayed:true});if(b.isFunction(this.props.onShow)){this.props.onShow()}}},hideMenu:function(){var a=this;window.setTimeout(function(){a.setState({isMenuDisplayed:false})},300)},getDropDownClasses:function(){var a={"drop-down":true,disabled:this.props.disabled};a["grid-"+this.props.columns+"-col"]=true;return a},getClasses:function(){var a={"tool-selector":true};if(this.props.className){var c=this.props.className.split(" ");b.forEach(c,function(b){a[b]=true})}if(this.props.disabled){a.disabled=true}return a},render:c})});define("rEditor/rootComps/toolBar/toolbarTop.rt",["react","lodash","baseUI","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","core","rEditor/rootComps/toolBar/toolSelector"],function(a,b,c,d,e,f){"use strict";function g(a,b,c){this.moveForward()}function h(a,b,c){this.moveBackward()}function i(a,b,c){this.moveToFront()}function j(a,b,c){this.moveToBack()}function k(a,b,c){this.align("left")}function l(a,b,c){this.align("center")}function m(a,b,c){this.align("right")}function n(a,b,c){this.align("top")}function o(a,b,c){this.align("middle")}function p(a,b,c){this.align("bottom")}function q(a,b,c){this.distribute("horizontal")}function r(a,b,c){this.distribute("verticalAndHorizontal")}function s(a,b,c){this.distribute("vertical")}function t(a,b,c){this.matchSize("width")}function u(a,b,c){this.matchSize("heightAndWidth")}function v(a,b,c){this.matchSize("height")}function w(){var w=this.props.restrictions;var x=e.bi;var y=d.editor;return a.createElement("div",{},a.createElement("div",{className:"inner button-grid"},a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_copy",y.COPY.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.duplicatable}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.handleCopy},a.createElement(c.symbol,{name:"toolbarCopy"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_paste",y.PASTE.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!this.props.pasteEnabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.handlePaste},a.createElement(c.symbol,{name:"toolbarPaste"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_duplicate",y.DUPLICATE.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.duplicatable}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.handleDuplicate},a.createElement(c.symbol,{name:"toolbarDuplicate"}))),a.createElement(c.tooltip,{value:this.getDeleteTooltipText(),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.removable}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.handleDelete},!this.isMobileEditor()?a.createElement(c.symbol,{key:"deleteSymbol",name:"toolbarDelete"}):null,this.isMobileEditor()?a.createElement(c.symbol,{key:"hideSymbol",name:"gfpp_hide"}):null))),a.createElement("div",{className:"seperator"}),a.createElement("div",{className:"inner button-grid"},a.createElement(f,{disabled:!(w.canMoveForward||w.canMoveBackward)||this.getEditorAPI().components.is.controlledByParent(this.props.selectedComponent),symbol:"toolbarMoveForward",columns:2,tooltip:this.getInfoTooltip("toolbar_tooltip_arrange","toolbar_tooltip_arrange_info"),tooltipClass:"control-tooltip-small"},a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_forward",y.SEND_FORWARD.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.canMoveForward}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:g.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarMoveForward"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_backward",y.SEND_BACKWARD.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.canMoveBackward}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:h.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarMoveBackward"}))),a.createElement(c.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_bring_to_front",y.SEND_TO_FRONT.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.canMoveForward}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:i.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarMoveToFront"}))),a.createElement(c.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_send_to_back",y.SEND_TO_BACK.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.canMoveBackward}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:j.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarMoveToBack"})))),a.createElement(f,{disabled:!this.isAlignEnabled(),symbol:"toolbarAlignRight",columns:3,onShow:this.reportBI.bind(this,x.events.toolbar.TOOL_BAR_ALIGNMENT_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_align","toolbar_tooltip_align_info"),tooltipClass:"control-tooltip-small"},a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_left"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:k.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignLeft"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_center"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:l.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignCenter"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_right"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:m.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignRight"}))),a.createElement(c.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_top"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:n.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignTop"}))),a.createElement(c.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_middle"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:o.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignMiddle"}))),a.createElement(c.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_bottom"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:p.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignBottom"})))),a.createElement(f,{key:"distributeButtons",disabled:!this.isDistributeEnabled(),symbol:"distribute-vertical-btn-bld",columns:3,onShow:this.reportBI.bind(this,x.events.toolbar.TOOL_BAR_DISTRIBUTION_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_distribute","toolbar_tooltip_distribute_info"),tooltipClass:"control-tooltip-small"},a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_horizontally"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:q.bind(this,w,x,y)},a.createElement(c.symbol,{name:"distribute-horizontal-btn-bld"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_both"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:r.bind(this,w,x,y)},a.createElement(c.symbol,{name:"distribute-hw-btn-bld"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_vertically"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:s.bind(this,w,x,y)},a.createElement(c.symbol,{name:"distribute-vertical-btn-bld"})))),a.createElement(f,{key:"matchSizeButtons",disabled:!this.isMatchSizeEnabled(),symbol:"mech-to-height-btn-bld",columns:3,onShow:this.reportBI.bind(this,x.events.toolbar.TOOL_BAR_MATCH_SIZE_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_match_size","toolbar_tooltip_match_size_info"),tooltipClass:"control-tooltip-small"},a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_width"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:t.bind(this,w,x,y)},a.createElement(c.symbol,{name:"mech-to-width-btn-bld"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_both"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:u.bind(this,w,x,y)},a.createElement(c.symbol,{name:"mech-hw-btn-bld"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_height"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:v.bind(this,w,x,y)},a.createElement(c.symbol,{name:"mech-to-height-btn-bld"}))))))}return function(){return w.apply(this,[])}});define("rEditor/rootComps/toolBar/toolbarTop",["react","lodash","baseUI","panels","core","util","rEditor/rootComps/toolBar/toolbarTop.rt"],function(a,b,c,d,e,f,g){"use strict";var h=e.bi;return a.createClass({displayName:"toolbarTop",mixins:[e.mixins.editorAPIMixin],propTypes:{restrictions:a.PropTypes.object,selectedComponent:a.PropTypes.arrayOf(a.PropTypes.object)},shouldComponentUpdate:function(a){return!b.isEqual(a,this.props)},getShortcutTooltip:function(b,d){return a.createElement(c.popoverTemplates.keyboardShortcutTooltip,{label:b,shortcut:d})},getDeleteTooltipText:function(){var a=this.isMobileEditor()?"toolbar_tooltip_hide":"toolbar_tooltip_delete";if(this.props.restrictions.removable){return this.getShortcutTooltip(a,f.translate("toolbar_tooltip_delete_shortcut"))}return this.getDisabledDeleteTooltipText(a,f.translate("toolbar_tooltip_delete_shortcut"))},getDisabledDeleteTooltipText:function(a,b){var c=this.getEditorAPI();var d=c.tooltipTextService.getComponentTooltipText(this.props.selectedComponent,"DELETE");return d?d:this.getShortcutTooltip(a,b)},getInfoTooltip:function(b,d){return a.createElement(c.popoverTemplates.titleBodyAndLinkTooltip,{title:b,text:d})},handleCopy:function(){if(this.props.restrictions.duplicatable){var a=this.getEditorAPI();var c=a.bi.getComponentsBIParams(this.props.selectedComponent);b.forEach(c,this.assignToolbarSpecificBI.bind(null,"origin"));a.bi.reportBI(h.events.rightClickMenu.COPY,c);this.getEditorAPI().copyPaste.copy(this.props.selectedComponent)}},handlePaste:function(){if(this.props.pasteEnabled){var a=this.getEditorAPI();var c=a.bi.getComponentsBIParams(this.props.selectedComponent);b.forEach(c,this.assignToolbarSpecificBI.bind(null,"origin"));a.copyPaste.paste();a.history.add("component - paste");a.bi.reportBI(h.events.rightClickMenu.PASTE,c)}},handleDuplicate:function(){if(this.props.restrictions.duplicatable){var a=this.getEditorAPI();var c=a.selection.getSelectedComponents();var d=a.bi.getComponentsBIParams(c);b.forEach(d,this.assignToolbarSpecificBI.bind(null,"origin"));a.copyPaste.duplicate(c);a.history.add("component - duplicate");a.bi.reportBI(h.events.rightClickMenu.DUPLICATE,d)}},handleDelete:function(){if(this.props.restrictions.removable){var a=this.getEditorAPI();var c=a.bi.getComponentsBIParams(this.props.selectedComponent);b.forEach(c,this.assignToolbarSpecificBI.bind(null,"removal_method"));a.components.remove(this.props.selectedComponent);a.history.add("component - remove");a.bi.reportBI(h.events.editor.component_removed,c)}},isMobileEditor:function(){return this.getEditorAPI().isMobileEditor()},moveToFront:function(){var a=this.getEditorAPI();a.components.arrangement.moveToFront(this.props.selectedComponent);a.bi.event(h.events.rightClickMenu.BRING_TO_FRONT,{origin:"toolbar"})},moveForward:function(){var a=this.getEditorAPI();a.components.arrangement.moveForward(this.props.selectedComponent);a.bi.event(h.events.rightClickMenu.MOVE_FORWARD,{origin:"toolbar"})},moveToBack:function(){var a=this.getEditorAPI();a.components.arrangement.moveToBack(this.props.selectedComponent);a.bi.event(h.events.rightClickMenu.SEND_TO_BACK,{origin:"toolbar"})},moveBackward:function(){var a=this.getEditorAPI();a.components.arrangement.moveBackward(this.props.selectedComponent);a.bi.event(h.events.rightClickMenu.MOVE_BACKWARDS,{origin:"toolbar"})},isAlignEnabled:function(){var a=this.getEditorAPI();if(a.components.is.controlledByParent(this.props.selectedComponent)){return false}return!!this.props.selectedComponent&&b.every(e.constants.COMP_ALIGNMENT_OPTIONS,a.components.alignment.canAlign.bind(this,this.props.selectedComponent))},align:function(a){var b=this.getEditorAPI();b.components.alignment.align(this.props.selectedComponent,a);b.bi.event(h.events.toolbar.TOOL_BAR_ALIGNMENT_MENU_CLICK,{category:a})},isDistributeEnabled:function(){var a=this.getEditorAPI();if(a.components.is.controlledByParent(this.props.selectedComponent)){return false}return!!this.props.selectedComponent&&b.every(e.constants.COMP_ALIGNMENT_OPTIONS,a.components.multiComponents.canDistribute.bind(this,this.props.selectedComponent))},distribute:function(a){var b=this.getEditorAPI();b.components.multiComponents.distribute(this.props.selectedComponent,a);b.bi.event(h.events.toolbar.TOOL_BAR_DISTRIBUTION_MENU_CLICK,{category:a})},isMatchSizeEnabled:function(){var a=this.getEditorAPI();if(a.components.is.controlledByParent(this.props.selectedComponent)){return false}return!!this.props.selectedComponent&&b.every(e.constants.COMP_MATCH_SIZE_OPTIONS,a.components.multiComponents.canMatchSize.bind(this,this.props.selectedComponent))},matchSize:function(a){var b=this.getEditorAPI();b.components.multiComponents.matchSize(this.props.selectedComponent,a);b.bi.event(h.events.toolbar.TOOL_BAR_MATCH_SIZE_MENU_CLICK,{category:a})},assignToolbarSpecificBI:function(a,c){var d={};d[a]="toolbar";b.assign(c,d)},reportBI:function(a,b){this.getEditorAPI().bi.event(a,b)},render:g})});define("rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";return function(){return a.createElement("label",{className:"row show-on-all-pages-row"},a.createElement(c.tooltip,{disabled:this.shouldHideTooltip(),value:"RightClick_Menu_Show_on_All_Pages_Disabled_Tooltip",styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("div",{className:"action"},a.createElement(c.toggle,{name:"switch",disabled:this.shouldDisable(),className:"show-on-all-pages",value:this.isShowOnAllPages(),onChange:this.handleShowOnAllPages,size:"medium"}))))}});define("rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle",["core","lodash","react","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle.rt"],function(a,b,c,d){"use strict";var e=c.createClass({dispayName:"showOnAllPages",mixins:[a.mixins.editorAPIMixin],isShowOnAllPages:function(){return this.props.selectedComponent&&this.getEditorAPI().components.isShowOnAllPages(this.props.selectedComponent)},shouldDisable:function(){if(!this.props.selectedComponent){return true}if(!this.getEditorAPI().components.canToggleShowOnAllPages(this.props.selectedComponent)){return true}return this.getEditorAPI().components.shouldDisableShowOnAllPages(this.props.selectedComponent)},shouldHideTooltip:function(){if(!this.props.selectedComponent){return true}return!this.shouldDisable()||this.getEditorAPI().utils.isPage(this.props.selectedComponent)},handleShowOnAllPages:function(){var b=this.getEditorAPI();var c=b.getCompRestrictions(this.props.selectedComponent);if(this.props.selectedComponent&&c.canShowOnAllPages){var d=b.components.toggleShowOnAllPages(this.props.selectedComponent);b.bi.event(a.bi.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:d,origin:this.props.origin})}},render:d});return e});define("rEditor/rootComps/toolBar/toolBar.rt",["react","lodash","baseUI","util","rEditor/rootComps/toolBar/toolbarTop","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","experiment"],function(a,b,c,d,e,f,g){"use strict";function h(a,c){this.checkOverlap(b.clone(c))}function i(a){this.resetQuickTip()}function j(a,b){this.startDrag(b,this.getDragLimits())}function k(a,b){this.rotateComponent("rotationInDegrees",b)}function l(a,b){this.resizeComponent("width",b)}function m(a,b){this.resizeComponent("height",b)}function n(a,b){this.moveComponent("x",b)}function o(a,b){this.moveComponent("y",b)}function p(){var p=this.compLayout;return a.createElement("div",{className:b(this.getClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseMove:h.bind(this,p),onMouseEnter:i.bind(this,p),ref:"checkOverlapTarget",onContextMenu:this.props.onContextMenu},a.createElement("div",{className:"header"},a.createElement("div",{className:"drag-zone",onMouseDown:j.bind(this,p)},a.createElement("span",{className:"drag-handle"},a.createElement(c.symbol,{name:"toolbarDragHandle"}))),a.createElement("button",{className:"help",onClick:this.onHelp},"?"),a.createElement("span",{className:"close",onClick:this.onClose},a.createElement(c.symbol,{name:"toolbarClose"}))),a.createElement("div",{className:"header-seperator"}),a.createElement(e,{restrictions:this.restrictions,selectedComponent:this.props.selectedComponent,pasteEnabled:this.isPasteEnabled()}),a.createElement("div",{className:"seperator"}),a.createElement("div",{className:"inner form"},a.createElement("label",{"data-input-title":"input_rotation",className:"row"},a.createElement(c.tooltip,{value:"toolbar_tooltip_rotation",styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{},a.createElement(c.symbol,{name:"toolbarRotation"}))),a.createElement(c.stepper,{className:"small degrees",disabled:!this.restrictions.rotatable,min:-Infinity,max:Infinity,value:parseInt(p.rotationInDegrees,10),units:"°",onChange:k.bind(this,p)}))),a.createElement("div",{className:"seperator"}),a.createElement("div",{className:"inner form"},a.createElement("span",{className:"layout-title"},d.translate("toolbar_size")),a.createElement("label",{className:"row"},a.createElement(c.tooltip,{value:"toolbar_tooltip_width",styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"label",style:{paddingRight:"4px"}},d.translate("toolbar_width")+":")),a.createElement(c.stepper,{disabled:!this.restrictions.horizontallyResizable,className:"small",value:parseInt(p.width,10),min:-Infinity,max:Infinity,onChange:l.bind(this,p)})),a.createElement("label",{className:"row"},a.createElement(c.tooltip,{value:"toolbar_tooltip_height",styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"label"},d.translate("toolbar_height")+":")),a.createElement(c.stepper,{disabled:!this.restrictions.verticallyResizable,className:"small",min:-Infinity,max:Infinity,value:parseInt(p.height,10),onChange:m.bind(this,p)}))),a.createElement("div",{className:"seperator"}),a.createElement("div",{className:"inner form"},a.createElement("span",{className:"layout-title"},d.translate("toolbar_position")),a.createElement("label",{"data-input-title":"input_x",className:"row input_x","data-hint-id":g.isMultiValueExperimentOpen("editorHintsConfigs")?"XandY":null},a.createElement(c.tooltip,{value:"toolbar_tooltip_x_position",styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"input_x_label label"},d.translate("toolbar_x")+":")),a.createElement(c.stepper,{disabled:!this.restrictions.horizontallyMovable,className:"small",min:-Infinity,max:Infinity,value:parseInt(p.bounding.x,10),onChange:n.bind(this,p)})),a.createElement("label",{"data-input-title":"input_y",className:"row"},a.createElement(c.tooltip,{value:"toolbar_tooltip_y_position",styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"label"},d.translate("toolbar_y")+":")),a.createElement(c.stepper,{disabled:!this.restrictions.verticallyMovable,className:"small",min:-Infinity,max:Infinity,value:parseInt(p.bounding.y,10),onChange:o.bind(this,p)}))),a.createElement("div",{className:"seperator",key:"seperator-inner-form"}),a.createElement("div",{className:"inner form",key:"inner-form"},!this.shouldShowFreezePositionToggle()?a.createElement("div",{key:"containable"},a.createElement("span",{className:"layout-title show-on-all-pages-title"},d.translate("toolbar_show_on_all_pages")),a.createElement("label",{},a.createElement(f,{origin:"toolbar",selectedComponent:this.props.selectedComponent}))):null,this.shouldShowFreezePositionToggle()?a.createElement("div",{key:"canBeFixed"},a.createElement("span",{className:"layout-title show-on-all-pages-title"},d.translate("toolbar_fixed_position")),a.createElement("label",{className:"row show-on-all-pages-row"},a.createElement(c.toggle,{name:"switch",className:"show-on-all-pages",key:"fixedPosition",value:this.restrictions.fixed,onChange:this.handleFixed,size:"medium"}))):null))}return function(){return p.apply(this,[])}});define("rEditor/rootComps/toolBar/toolBar",["react","lodash","util","core","baseUI","experiment","rEditor/rootComps/mixins/findOverlappedComponentMixin","rEditor/rootComps/mixins/hiddenableMixin","rEditor/rootComps/mixins/keepInViewportMixin","editorHints","rEditor/rootComps/toolBar/toolBar.rt"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=d.bi;var m=42;var n=42;var o=10;var p={rotationInDegrees:0,width:0,height:0,x:0,y:0,bounding:{x:0,y:0}};function q(a,b,c){return a[b]+c-a.bounding[b]}function r(a){var b=this.getEditorAPI();var c=b.components.layout.isHorizontallyStretchedToScreen(a);this.getLayout=c?b.components.layout.getRelativeToScreen:b.components.layout.getRelativeToStructure;this.updateLayout=c?b.components.layout.updateRelativeToScreen:b.components.layout.updateRelativeToStructure;this.updateLayoutProportionally=c?b.components.layout.updateRelativeToScreenAndPreserveProportions:b.components.layout.updateRelativeToStructureAndPreserveProportions}function s(a){return{right:m,top:n+a.editorConfig.previewPosition.top}}return a.createClass({displayName:"toolBar",mixins:[d.mixins.editorAPIMixin,c.draggableMixin,h,i,g],propTypes:{selectedComponent:a.PropTypes.arrayOf(a.PropTypes.object),toolsHidden:a.PropTypes.bool},getInitialState:function(){var a=this.getEditorAPI();this.initalPosition=s(a);if(!this.props.selectedComponent){this.updateNoSelectedComponent()}else{r.call(this,this.props.selectedComponent);this.restrictions=a.getCompRestrictions(this.props.selectedComponent);this.compLayout=this.getLayout(this.props.selectedComponent)}return{}},componentWillReceiveProps:function(a){var b=a.selectedComponent;var c=this.getEditorAPI();if(!b){this.updateNoSelectedComponent()}else{r.call(this,b);this.restrictions=c.getCompRestrictions(b);this.compLayout=this.getLayout(b)}},getComponentPosition:function(a){return this.state.isCustomPosition?this.fitPositionToScreen(a,o,m):this.initalPosition},onDragEnd:function(){this.updateLastCustomXPosition(this.draggable.nodePosition.x)},getClasses:function(){return b.assign({"rootcomp-toolbar":true,hidden:this.props.hidden},this.getHiddenableClasses())},updateNoSelectedComponent:function(){this.compLayout=p;this.restrictions={}},resizeComponent:function(a,b){this.getEditorAPI().bi.event(l.events.editBox.RESIZE,{origin:"toolbar"});this.setComponentLayoutChange(a,b)},moveComponent:function(a,b){this.setComponentLayoutChange(a,b)},rotateComponent:function(a,b){var c=parseInt(b,10);if(c===0){this.getEditorAPI().bi.event(l.events.editBox.CANCEL_ROTATE_COMPONENT)}else{this.getEditorAPI().bi.event(l.events.editBox.ROTATE_COMPONENT,{origin:"toolbar",value:c})}this.setComponentLayoutChange(a,b)},setComponentLayoutChange:function(a,c){var d=this.getEditorAPI();c=parseInt(c,10);if(isNaN(c)){this.forceUpdate();return}if(a==="y"||a==="x"){c=q(this.compLayout,a,c)}var e=d.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(this.props.selectedComponent);var f=this.getLayout(e);if(f[a]===c){return}var g={};g[a]=c;var h;if(d.multiselect.isMultiselect(e)||d.components.is.group(e)){h=f.width/f.height;var i=d.components.layout.getProportionStructure(e);if(a==="height"){g.width=c*h}else if(a==="width"){g.height=c/h}g=b.mapValues(g,b.round);this.updateLayoutProportionally(e,g,i,true)}else{if(b.includes(["width","height"],a)&&this.restrictions.resizeOnlyProportionally){h=d.components.layout.getLimits(b.head(e)).aspectRatio;if(a==="width"){g.width=c;g.height=Math.round(c/h)}else{g.height=c;g.width=c*h}}this.updateLayout(e,g,true)}d.history.add("toolbar - set selected component layout - "+a)},onClose:function(){this.getEditorAPI().toolbar.toggleToolbar()},onHelp:function(){var a={origin:d.constants.BI.HELP.ORIGIN.TOOLBAR,component:this.getEditorAPI().selection.getSelectedComponentType(),learn_more:false};var b=f.isOpen("se_hack17_article_swap")?"7c8fb79c-04df-49e4-9ba0-f6f04c0525fa":"4ab49cd7-2ea4-4873-904e-f65d17d2f1dd";
this.getEditorAPI().panelManager.openHelpCenter(b,null,a)},handleShowOnAllPages:function(){var a=this.getEditorAPI();if(this.props.selectedComponent&&this.restrictions.canShowOnAllPages){var b=a.components.toggleShowOnAllPages(this.props.selectedComponent);a.bi.event(l.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:b,origin:"toolbar"})}},isShowOnAllPages:function(){if(b.isNil(this.props.selectedComponent)){return false}var a=this.getEditorAPI();return a.components.isShowOnAllPages(this.props.selectedComponent)},handleFixed:function(){this.getEditorAPI().selectedComponent.toggleFixedPosition()},isPasteEnabled:function(){var a=this.getEditorAPI();return a.clipboardContainsComp()&&a.isDesktopEditor()&&!a.components.layout.isPinned(this.props.selectedComponent)},shouldShowFreezePositionToggle:function(){var a=this.getEditorAPI();var b=!a.documentServices.components.is.pinnable;return b?this.restrictions.showLegacyFixedPosition:this.restrictions.canBeFixed},render:function(){if(f.isMultiValueExperimentOpen("editorHintsConfigs")){return a.createElement(j.hintsNotify,{id:j.hintsContainers.TOOL_BAR},k.call(this))}return k.call(this)}})});define("rEditor/rootComps/rightClickMenu/util/rcmDataParser",["lodash","rEditor/rootComps/gfpp/gfppModel","experiment"],function(a,b,c){"use strict";var d;function e(){return{enabled:true}}function f(a,b){return d.components.is.duplicatable(a,b)&&!d.components.layout.isPinned(a)}function g(a){if(!f(a)){return null}return{enabled:true}}function h(a){if(!f(a)){return null}return{enabled:true}}function i(a){if(a){return null}var b=!!d.clipboard.getItem(d.clipboard.types.COMPONENT);return{enabled:b}}function j(a){if(!a&&d.copyPaste.canApplyModeFromClipboard()){return{enabled:true}}return null}function k(a){var b=d.components.getContainer(a);if(!f(a,b)){return null}return{enabled:true}}function l(a){var b=d.components.is.styleCanBeApplied(a);if(!b){return null}return{enabled:true}}function m(a){var b=d.hasExternalDesign(a);if(b){return null}return{enabled:true}}function n(a){var b=d.hasExternalDesign(a);if(b){return null}var c=!!d.clipboard.getItem(d.clipboard.types.COMPONENT_DESIGN);return{enabled:c}}var o=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"];function p(b){if(d.components.is.controlledByParent(b)){return null}var c=d.getCompMoveRestrictions(b);var e=c.canMoveBackward||c.canMoveForward;var f=d.components.is.fixed(b)&&a.includes(o,d.components.getType(b));if(!e||f){return null}return{type:"subItems",enabled:true,subItems:q(b)}}function q(a){var b=d.getCompMoveRestrictions(a);return{moveToFront:{icon:{svgName:"bringToFront"},enabled:b.canMoveForward},moveToBack:{icon:{svgName:"sendToBack"},enabled:b.canMoveBackward},moveForward:{icon:{svgName:"moveForward"},enabled:b.canMoveForward},moveBackward:{icon:{svgName:"moveBackward"},enabled:b.canMoveBackward}}}function r(a,b){var c=s(b);if(c.length>1||c.length===1&&d.utils.isPage(a)){return{type:"subItems",shouldShowCount:true,enabled:true,subItems:c}}return null}function s(b){return a(b).reject(function(b){return a.includes(["SITE_PAGES","PAGES_CONTAINER"],b.id)||d.utils.isPage(b)}).map(function(a){return{component:a,key:"overlappingSubItem_"+a.id,icon:d.components.getIconInfo(a),label:d.components.getDisplayName(a),enabled:true}}).value()}function t(a){var b=d.tpa.isTpaByCompType(d.components.getType(a));var c=d.components.is.removable(a);if(b||c){return{enabled:c,operationKey:"DELETE"}}return null}function u(a){var b=d.components.is.fixed(a);var c=d.tpa.isTpaByCompType(d.components.getType(a));var e=c&&b;if(!d.components.canToggleShowOnAllPages(a)&&!e){return null}return{value:e||d.components.isShowOnAllPages(a),enabled:!e,operationKey:"SHOW_ON_ALL_PAGES"}}function v(a){var b=d.documentServices.components.is.pinnable;if(b&&!d.components.layout.canBeFixedPosition(a)){return null}var c=d.components.is.showLegacyFixedPosition(a)&&d.components.layout.canBeFixedPosition(a);return c?{value:d.components.is.fixed(a),enabled:true}:null}function w(a,b){if(b||!d.components.is.pinnable(a)){return null}return{value:d.components.is.fixed(a),enabled:true}}function x(){if(!c.isOpen("layoutTractor")){return null}return{enabled:true}}function y(b){if(b){return null}var c=d.focusBox.getFocusedContainer();if(!c){return null}var e=d.components.modes.getModes(c);if(!e||a.isEmpty(e)){return null}var f=d.components.modes.isCompDefaultModeActive(c)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label";return{enabled:true,label:f}}function z(c){var e=b.getData(d,c);var f=["settings","design","customizeDesign","layout","upgrade","crop","filters","animation","link","connect"];var g=(e.mainActions||[]).concat(a(e.presetActions).pick(f).toArray().value());return a.transform(g,function(b,e){if(e.onClick){b.push({shouldTranslate:a.isBoolean(e.shouldTranslate)?e.shouldTranslate:true,item:{enabled:!e.isDisabled,label:e.rightClickMenuLabel||e.label||e.tooltip},onClick:function(){e.onClick(d,c);d.closeRightClickMenu()}})}},[])}function A(b){if(c.isOpen("themeStyle")){var e=d.components.getType(b);var f=d.components.COMPONENT_DEFINITION_MAP[e];var g=f&&f.styles&&a.keys(f.styles);if(g){return{enabled:true,styleIds:g}}}return null}function B(a,b,c){if(!a){return{paste:i(c),undo:e()}}return{undo:e(),copy:h(a),paste:i(c),applyModeFromClipboard:j(c),cut:g(a),duplicate:k(a),copyDesign:m(a),pasteDesign:n(a),arrange:p(a),overlappingItems:r(a,b),remove:t(a),showOnAllPages:u(a),fixedPosition:v(a),gfppItems:z(a),styleCanBeApplied:l(a),pin:w(a,c),layoutTractor:x(),applyToAllModes:y(c),saveToTheme:A(a)}}var C={buildMenuItems:function(a,b,c){d=a;return B(c,b,d.isMobileEditor())},buildShowOnAllPagesItem:function(a,b){d=a;return u(b)},buildFixedPositionItem:function(a,b){d=a;return v(b)},buildArrangeMenu:function(a,b){d=b;return p(a)}};return C});define("rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer",["core"],function(a){"use strict";var b=[{label:function(a,b){var c=a.components.getChildren(b).length===1;if(c){return"STRIP_CONTAINER_LAYOUTS_ADD_COLUMNS"}return"STRIP_CONTAINER_LAYOUTS_ADD_EXTRA_COLUMNS"},enabled:function(a,b){return a.columns.canAdd(b)},onClick:function(b,c){var d={num_of_columns_before:b.components.getChildren(c).length,origin:"rcm"};b.columns.addColumn(c);b.bi.event(a.bi.events.columns.COLUMNS_ADD_COLUMN_CLICK,d);b.closeRightClickMenu()}}];return function(a){if(a.isMobileEditor()){return[]}return b}});define("rEditor/rootComps/rightClickMenu/customActions/column",["core"],function(a){"use strict";function b(a,b){return function(c){if(c.isMobileEditor()){return b}return a}}function c(b){var c=b.isDesktopEditor();var d=c?a.bi.events.columns.COLUMNS_MOVE_LEFT_RIGHT:a.bi.events.columns.COLUMNS_MOVE_UP_DOWN;b.bi.event(d,{origin:"rcm"})}return[{label:b("RightClick_Menu_Move_Column_Left_Label","RightClick_Menu_Mobile_Move_Column_Up_Label"),enabled:function(a,b){return a.components.arrangement.canMoveBackward(b)},onClick:function(a,b){a.columns.move.left(b);c(a);a.closeRightClickMenu()}},{label:b("RightClick_Menu_Move_Column_Right_Label","RightClick_Menu_Mobile_Move_Column_Down_Label"),enabled:function(a,b){return a.components.arrangement.canMoveForward(b)},onClick:function(a,b){a.columns.move.right(b);c(a);a.closeRightClickMenu()}}]});define("rEditor/rootComps/rightClickMenu/customActions",["rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer","rEditor/rootComps/rightClickMenu/customActions/column"],function(a,b){"use strict";return{"wysiwyg.viewer.components.StripColumnsContainer":a,"wysiwyg.viewer.components.Column":b}});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";function d(){var d=this.isEnabled();return a.createElement("li",{className:b({"item-basic":true,disabled:!d,hoverable:d}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:d?this.props.onClick:function(){},onContextMenu:d?this.props.onClick:function(){},onMouseEnter:this.props.onMouseEnter||b.noop,onMouseLeave:this.props.onMouseLeave||b.noop},this.props.item.icon?a.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?a.createElement(c.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null,this.props.item.icon.css?a.createElement("span",{style:this.getImageIconStyle(),key:"style"}):null):null,a.createElement("span",{className:"label"},this.translateIfNeeded(this.props.label||this.props.item.label)))}return function(){return d.apply(this,[])}});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic",["react","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"rcmItemBasic",mixins:[c.translationMixin],getImageIconStyle:function(){return b.merge({},this.props.item.icon.css,{backgroundImage:"url("+this.props.item.icon.src+")"})},isEnabled:function(){if(b.isFunction(this.props.enabled)){return this.props.enabled()}return this.props.item.enabled},render:d})});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";return function(){return a.createElement(c.tooltip,{value:this.getTooltipText(),alignment:"right",disabled:!this.getTooltipText()},a.createElement("li",{className:b({"item-shortcut":true,disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.props.item.enabled?this.props.onClick:function(){},onContextMenu:this.props.item.enabled?this.props.onClick:function(){}},this.props.item.icon?a.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?a.createElement(c.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null):null,a.createElement("span",{className:"label label-shortcut"},this.translateIfNeeded(this.props.label)),a.createElement("span",{className:"action action-shortcut"},this.props.shortcut)))}});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut",["react","core","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"rcmItemWithShortcut",mixins:[d.translationMixin,b.mixins.editorAPIMixin],getTooltipText:function(){var a=this.getEditorAPI();var b=a.tooltipTextService.getSelectedComponentTooltipText(this.props.item.operationKey);return b},render:e})});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(a,b,c){"use strict";return function(){return a.createElement("li",{className:b({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("span",{className:"label label-sub-item"},a.createElement("span",{"data-hint-id":this.props.hintId},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?a.createElement("span",{key:"count"}," ("+a.Children.count(this.props.children)+")"):null),a.createElement("span",{className:"action action-expand"}),a.createElement("div",{className:"rightClickMenu subMenu"},a.createElement("ul",{},this.props.children)))}});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems",["react","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"rcmItemWithSubItems",mixins:[c.translationMixin],render:d})});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(a,b,c){"use strict";return function(){return a.createElement("li",{className:b({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.props.onClick},a.createElement("span",{className:"label label-sub-item"},a.createElement("span",{},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?a.createElement("span",{key:"count"}," ("+a.Children.count(this.props.children)+")"):null),a.createElement("span",{className:b({action:true,"action-expand":this.props.items.length>0}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")}),a.createElement("div",{className:"rightClickMenu subMenu"},a.createElement("ul",{},this.getChildren())))}});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive",["react","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt"],function(a,b,c,d){"use strict";var e=a.createClass({displayName:"rcmItemWithSubItemsRecursive",mixins:[c.translationMixin],getChildren:function(){return b.map(this.props.items,function(b){return a.createElement(e,b)})},render:d});return e});define("rEditor/rootComps/rightClickMenu/rightClickMenu.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","util","baseUI","experiment"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(b,d,e,f,g,h,i){return a.createElement(c,{shouldTranslate:h.shouldTranslate,item:h.item,label:h.item.label,key:h.item.label,onClick:h.onClick})}function m(d,e,f,g,h,i,j){return a.createElement(c,{key:"customAction_"+j,item:i,label:b.isFunction(i.label)?i.label(e,h):i.label,onClick:i.onClick.bind(null,e,h),enabled:b.isFunction(i.enabled)&&i.enabled.bind(null,e,h)})}function n(a,b,c,d,e,f,g){this.openApplyToDialog(f)}function o(b,d,e,f,g,h,i){return a.createElement(c,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:n.bind(this,b,d,e,f,g,h,i)})}function p(b,d,e,f,g,h,i){return a.createElement(c,{item:h,label:h.label,key:h.key,onClick:this.onOverlappingItemClick.bind(this,h),shouldTranslate:false,onMouseEnter:this.onOverlappingItemMouseEnter.bind(this,h),onMouseLeave:this.onOverlappingItemMouseLeave})}function q(a,b,c,d,e,f,g){this.saveStyleToTheme(this.props.selectedComponents[0],f)}function r(b,d,e,f,g,h,i){return a.createElement(c,{shouldTranslate:false,item:{label:h,enabled:true},key:this.props.selectedComponents[0]+"_themeStyle_"+h,onClick:q.bind(this,b,d,e,f,g,h,i)})}function s(b,c,d,e,g,h,i){return a.createElement(f,{shouldTranslate:false,key:h.id,label:c.components.getDisplayName(h)+" - "+h.id,item:{enabled:true},items:this.getDebugItems(h)})}function t(a,b,c,d,e,f,g){this.exportDebugInfo(f)}function u(b,d,e,f,g,h,i){return a.createElement(c,{shouldTranslate:false,item:this.getExportDebugInfoItem(h),key:h.id+".debugInfo",onClick:t.bind(this,b,d,e,f,g,h,i)})}function v(){var f=this.state.menuItems;var n=this.getEditorAPI();var q=g.editor;var t=this.getCustomActions();var v=b.head(this.props.selectedComponents);return a.createElement("div",{style:{top:this.state.position.y,left:this.state.position.x},className:b(this.getClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onContextMenu:this.onRightClick,key:"rcm",ref:"rcmRoot"},!this.props.selectedComponents?a.createElement("ul",{key:"noCompSelectedItems"},f.paste?a.createElement(d,{item:f.paste,label:"RightClick_Menu_Paste_Label",shortcut:q.PASTE.label,onClick:this.pasteComponent,key:"noCompSelectedPaste"}):null):null,this.props.selectedComponents?a.createElement("div",{key:"selectedCompItems"},f.applyToAllModes||f.applyModeFromClipboard?a.createElement("ul",{key:"rcmApplyGroup"},f.applyToAllModes?a.createElement(c,{item:f.applyToAllModes,key:"rcmApplyToAllModes",label:f.applyToAllModes.label,onClick:this.applyToAllModes}):null,f.applyModeFromClipboard?a.createElement(d,{item:f.applyModeFromClipboard,label:"RightClick_Menu_HB_Apply_From_Clipboard",shortcut:q.APPLY_MODE.label,onClick:this.applyModeFromClipboard,key:"rcmApplyModeFromClipboard"}):null):null,!b.isEmpty(f.gfppItems)?a.createElement.apply(this,["ul",{key:"gfppItems","data-section":"gfppItems"},b.map(f.gfppItems,l.bind(this,f,n,q,t,v))]):null,t.length?a.createElement.apply(this,["ul",{key:"customActions"},b.map(t,m.bind(this,f,n,q,t,v))]):null,a.createElement.apply(this,["ul",{},a.createElement(d,{item:f.undo,label:"TOPBAR_Edit_Undo",shortcut:q.UNDO.label,onClick:this.undo}),f.cut?a.createElement(d,{item:f.cut,label:"RightClick_Menu_Cut_Label",shortcut:q.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,f.copy?a.createElement(d,{item:f.copy,label:"RightClick_Menu_Copy_Label",shortcut:q.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,f.styleCanBeApplied?b.map(this.props.selectedComponents,o.bind(this,f,n,q,t,v)):null,f.paste?a.createElement(d,{item:f.paste,label:"RightClick_Menu_Paste_Label",shortcut:q.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,f.duplicate?a.createElement(d,{item:f.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:q.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null]),f.arrange||f.overlappingItems?a.createElement("ul",{key:"rcmArrangeOverlapping"},f.overlappingItems?a.createElement.apply(this,[e,{ref:"overlappingItems",label:"RightClick_Menu_Overlapping_Items_Label",item:f.overlappingItems,hintId:k.isMultiValueExperimentOpen("editorHintsConfigs")?"OverlappingItems":null,key:"rcmOverlapping"},b.map(f.overlappingItems.subItems,p.bind(this,f,n,q,t,v))]):null,f.arrange?a.createElement(e,{item:f.arrange,label:"RightClick_Menu_Arrange_Label",key:"rcmArrange",hintId:k.isMultiValueExperimentOpen("editorHintsConfigs")?"ForwardOrBack":null,onMouseOver:this.onArrangeHover},a.createElement(d,{item:f.arrange.subItems.moveToFront,label:"RightClick_Menu_Bring_to_Front_Label",shortcut:q.SEND_TO_FRONT.label,onClick:this.moveToFront}),a.createElement(d,{item:f.arrange.subItems.moveToBack,label:"RightClick_Menu_Send_to_Back_Label",shortcut:q.SEND_TO_BACK.label,onClick:this.moveToBack}),a.createElement(d,{item:f.arrange.subItems.moveForward,label:"RightClick_Menu_Move_Forward_Label",shortcut:q.SEND_FORWARD.label,onClick:this.moveForward}),a.createElement(d,{item:f.arrange.subItems.moveBackward,label:"RightClick_Menu_Move_Backward_Label",shortcut:q.SEND_BACKWARD.label,onClick:this.moveBackward})):null):null,f.remove?a.createElement("ul",{key:"rcmRemove"},a.createElement(d,{item:f.remove,label:this.getEditorAPI().isMobileEditor()?"RightClick_Menu_Mobile_Hide_Label":"RightClick_Menu_Delete_Label",shortcut:"Del",onClick:this.removeComponent})):null,f.pin?a.createElement("ul",{key:"rcmPin"},f.pin?a.createElement(d,{item:f.pin,label:"RightClick_Menu_PinToScreen",value:f.pin.value,onClick:this.handlePinClick,key:"rcmPin"}):null):null,f.layoutTractor?a.createElement("ul",{key:"layoutTractor"},a.createElement(d,{item:f.layoutTractor,shouldTranslate:false,label:"Layout Tractor (UI)",onClick:this.openLayoutTractor})):null,f.saveToTheme&&this.props.selectedComponents.length===1?a.createElement("ul",{key:"themeStylesExperiment"},a.createElement.apply(this,[e,{item:{enabled:true},label:"Save to theme",shouldTranslate:false,key:"saveToTheme"},b.map(f.saveToTheme.styleIds,r.bind(this,f,n,q,t,v))])):null,f.showOnAllPages||f.fixedPosition?a.createElement("ul",{key:"rcmShowOnAllPagesFixPosition"},f.showOnAllPages?a.createElement("li",{key:"rcmShowOnAllPages"},a.createElement("span",{className:"label label-toggle"},i.translate("toolbar_show_on_all_pages")),a.createElement(h,{origin:"rightClickMenu",selectedComponent:this.props.selectedComponents})):null,f.fixedPosition?a.createElement("li",{className:b({disabled:!f.fixedPosition.enabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("span",{className:"label label-toggle"},this.translateIfNeeded("RightClick_Menu_Fixed_Position_Label")),a.createElement(j.toggle,b.assign({},{className:this.props.className+" action",value:f.fixedPosition.value,onChange:this.toggleFixedPosition,size:"medium"},{disabled:!f.fixedPosition.enabled}))):null):null,k.isOpen("rightClickDebug")?a.createElement("ul",{key:"debug"},a.createElement.apply(this,[e,{item:{enabled:true},label:"Debug",shouldTranslate:false,key:"debug"},b.map(this.props.selectedComponents,s.bind(this,f,n,q,t,v)),b.map(this.props.selectedComponents,u.bind(this,f,n,q,t,v)),this.isSingleController()?a.createElement(c,{shouldTranslate:false,item:{label:"Inspect controller",enabled:true},key:"controllerInspector",onClick:this.controllerInspector}):null,this.isSingleController()?a.createElement(c,{shouldTranslate:false,item:{label:"Select connected components",enabled:true},key:"selectConnectedComponents",onClick:this.selectControllerConnectedComponents}):null,this.isSingleNonController()?a.createElement(c,{shouldTranslate:false,item:{label:"Inspect connections to controllers",enabled:true},key:"connectionInspector",onClick:this.connectionsInspector}):null,a.createElement(c,{shouldTranslate:false,item:{label:"Add controller",enabled:true},key:"add-controller",onClick:this.openAddController})])):null,n.developerMode.isEnabled()?a.createElement("ul",{key:"rcmDevMode"},a.createElement(c,{label:"PLATFORM_RightClick_Menu_Open_Properties_Panel",ref:"openDevTools",item:{enabled:true},onClick:this.openPropertiesPanel})):null):null)}return function(){return this.state.menuItems?v.apply(this,[]):null}});define("rEditor/rootComps/rightClickMenu/rightClickMenu",["react","lodash","jquery","core","rEditor/rootComps/rightClickMenu/util/rcmDataParser","rEditor/rootComps/rightClickMenu/customActions","util","experiment","rEditor/rootComps/rightClickMenu/rightClickMenu.rt","pLoader!santa:utils","editorHints"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l;var m=d.bi;var n="rcm";function o(a,c){return b.findIndex(c,function(c){return b.isEqual(c,a)})>-1}function p(a,c){var d=l.selection.getComponentsByXY(a,c);return b.filter(d,l.components.is.selectable)}function q(a,c,d){return b.map(b.keys(c),function(e){var f=c[e];var g=d.concat(e);return{key:e,label:e,onClick:function(b){j.log.info(a,g.join("."),f);b.stopPropagation()},items:b.isString(f)||b.isNumber(f)?[]:q(a,f,g),item:{enabled:true}}})}function r(a,b,c){var d=c;var e=b.outerHeight();var f=d+e;if(f>a.bottomY){var g=d-e;if(g<a.y){return a.y}return g}return d}function s(a,b,c){var d=c;var e=b.outerWidth();var f=d+e;if(f-window.pageXOffset>a.rightX){var g=d-e;if(g<a.x){return d+a.x}return g}return d}function t(a,b){var c=d.utils.stageUtils.getViewPort();var e=s(c,a,b.x);var f=r(c,a,b.y);return{x:e,y:f}}function u(a,e){var f=d.utils.stageUtils.getViewPort();var g=a.find(".subMenu");if(g.length===0){return false}var h=c(b.maxBy(g,function(a){return c(a).outerWidth()}));return e.x+a.outerWidth()+h.outerWidth()>f.rightX}function v(a){var b=this.state.menuItems;b.arrange=e.buildArrangeMenu(a,this.getEditorAPI());this.setState({menuItems:b})}function w(a,c,d){b.set(d,a,c)}return a.createClass({displayName:"rightClickMenu",mixins:[d.mixins.editorAPIMixin,g.outerClickMixin,g.translationMixin],compType:null,propTypes:{selectedComponents:a.PropTypes.array,editorMousePosition:a.PropTypes.object.isRequired,viewerMousePosition:a.PropTypes.object.isRequired},onOuterClick:function(){l.closeRightClickMenu()},getInitialState:function(){l=this.getEditorAPI();this.shouldMeasureRCMRelativeToViewPort=true;return{position:this.props.editorMousePosition,openSubMenuToLeft:false,menuItems:this.getAllMenuItems(this.props.selectedComponents,this.props.viewerMousePosition)}},componentDidMount:function(){this.compType=l.components.getType(this.props.selectedComponents);l.bi.event(m.events.rightClickMenu.RIGHT_CLICK_MENU_OPEN,{component:this.compType});this.updatePositionRelativeToViewPort()},getAllMenuItems:function(a,b){var c=p(b.x,b.y);return e.buildMenuItems(l,c,a)},rebuildItemsForSameComponent:function(a){var c=b.pickBy({showOnAllPages:e.buildShowOnAllPagesItem(l,a),fixedPosition:e.buildFixedPositionItem(l,a)},b.bind(function a(c,d){return!b.isEqual(c,this.state.menuItems[d])},this));if(!b.isEmpty(c)){var d=b.assign({},this.state.menuItems,c);this.setState({menuItems:d})}},componentWillReceiveProps:function(a){if(a.selectedComponents){var c=b.isEqual(a.selectedComponents,this.props.selectedComponents);if(!c){this.shouldMeasureRCMRelativeToViewPort=true;this.setState({menuItems:this.getAllMenuItems(a.selectedComponents,a.viewerMousePosition)})}else{this.rebuildItemsForSameComponent(a.selectedComponents)}}},componentDidUpdate:function(){if(this.shouldMeasureRCMRelativeToViewPort){this.updatePositionRelativeToViewPort()}},componentWillUnmount:function(){l.bi.event(m.events.rightClickMenu.RIGHT_CLICK_MENU_CLOSE,{origin:n,component:this.compType})},updatePositionRelativeToViewPort:function(){var a=c(this.refs.rcmRoot);var b=t(a,this.state.position);var d=u(a,this.state.position);this.shouldMeasureRCMRelativeToViewPort=false;this.setState({position:b,openSubMenuToLeft:d})},onOverlappingItemMouseEnter:function(a){l.bi.event(m.events.rightClickMenu.OVERLAPPING_ITEMS_HOVER,{component:o(a.component,this.props.selectedComponents)?"selected":"other"});l.hoverBox.set(a.component,true)},onOverlappingItemMouseLeave:function(){l.hoverBox.clear()},getClasses:function(){return{rightClickMenu:true,"open-sub-menu-left":this.state.openSubMenuToLeft,"fixed-position":this.getEditorAPI().components.layout.isShowOnFixedPosition(this.props.selectedComponents)}},onRightClick:function(a){a.preventDefault()},undo:function(){this.getEditorAPI().history.undo();l.closeRightClickMenu()},cutComponent:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"origin",n));l.bi.reportBI(m.events.rightClickMenu.CUT,a);l.closeRightClickMenu(function(){l.selectedComponent.cut();l.history.add("cut component via rightClickMenu")})},copyComponent:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"origin",n));l.selectedComponent.copy();l.closeRightClickMenu();l.bi.reportBI(m.events.rightClickMenu.COPY,a)},pasteComponent:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"origin",n));var c=l.ui.scroll.getScroll();var d={x:this.props.editorMousePosition.x-l.site.getXPos()+c.scrollLeft,y:this.props.editorMousePosition.y-l.components.layout.get(l.siteSegments.getPagesContainer()).y+c.scrollTop};l.copyPaste.paste(d,true);l.closeRightClickMenu();l.history.add("paste component via rightClickMenu");l.bi.reportBI(m.events.rightClickMenu.PASTE,a)},applyModeFromClipboard:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"origin",n));l.copyPaste.applyModeFromClipboard(l.selection.getSelectedComponents());l.closeRightClickMenu();l.bi.reportBI(m.events.rightClickMenu.APPLY_MODE_FROM_CLIPBOARD,a)},duplicateComponent:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"origin",n));l.selectedComponent.duplicate();l.closeRightClickMenu();if(l.selection.getSelectedComponentType()!=="Column"){l.history.add("duplicate component via rightClickMenu")}l.bi.reportBI(m.events.rightClickMenu.DUPLICATE,a)},copyDesign:function(){l.selectedComponent.copyStyle();l.bi.event(m.events.rightClickMenu.COPY_DESIGN,{category:"",component:""})},pasteDesign:function(){l.selectedComponent.pasteStyle();l.bi.event(m.events.rightClickMenu.PASTE_DESIGN,{category:"",component:""})},lockComponent:function(){l.selectedComponent.lock();l.closeRightClickMenu();l.bi.event(m.events.rightClickMenu.LOCK,{category:"",component:""})},removeComponent:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"removal_method",n));l.bi.reportBI(m.events.editor.component_removed,a);l.closeRightClickMenu(function(){l.history.add("removed component via rightClickMenu");l.selectedComponent.remove()})},toggleShowOnAllPages:function(){l.components.toggleShowOnAllPages(this.props.selectedComponents);l.waitForChangesApplied(function(){var a=l.components.isShowOnAllPages(this.props.selectedComponents);l.bi.event(m.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:a,origin:n})}.bind(this))},toggleFixedPosition:function(){l.selectedComponent.toggleFixedPosition();l.waitForChangesApplied(function(){var a=l.components.is.fixed(this.props.selectedComponents);var b=l.components.getType(this.props.selectedComponents[0]);l.bi.event(m.events.rightClickMenu.FIXED_POSITION,{origin:n,new_status:a,component:b})}.bind(this))},handlePinClick:function(){l.closeRightClickMenu();var a=l.components.layout.isPinned(this.props.selectedComponents);l.pinMode.open(a?"rcm_reopen":"rcm")},moveForward:function(){l.components.arrangement.moveForward(this.props.selectedComponents);v.call(this,this.props.selectedComponents);l.bi.event(m.events.rightClickMenu.MOVE_FORWARD,{origin:n})},moveBackward:function(){l.components.arrangement.moveBackward(this.props.selectedComponents);v.call(this,this.props.selectedComponents);l.bi.event(m.events.rightClickMenu.MOVE_BACKWARDS,{origin:n})},moveToFront:function(){l.components.arrangement.moveToFront(this.props.selectedComponents);v.call(this,this.props.selectedComponents);l.bi.event(m.events.rightClickMenu.BRING_TO_FRONT,{origin:n})},moveToBack:function(){l.components.arrangement.moveToBack(this.props.selectedComponents);v.call(this,this.props.selectedComponents);l.history.add("component - move to back");l.bi.event(m.events.rightClickMenu.SEND_TO_BACK,{origin:n})},onArrangeHover:function(){l.bi.event(m.events.rightClickMenu.ARRANGE_HOVER,{origin:n})},onOverlappingItemClick:function(a){l.selection.selectComponentByCompRef(a.component);l.selection.setIsHiddenComponentDraggedNext(true);l.bi.event(m.events.rightClickMenu.OVERLAPPING_ITEM_CLICK,{component:o(a.component,this.props.selectedComponents)?"selected":"other"})},getDebugItems:function(a){var b=l.components.serialize(a);return q(a.id,b,["structure"])},getExportDebugInfoItem:function(a){return{label:"Export ["+a.id+"] to console",enabled:true}},exportDebugInfo:function(a){var c=l.components.serialize(a);window.selectedComp=b.cloneDeep(c);j.log.info("Exported ["+a.id+"] to window.selectedComp");l.closeRightClickMenu()},controllerInspector:function(){j.log.info("Opening controller panel");l.panelManager.openComponentPanel("debugTools.platform.controllerInspectorPanel",{comp:this.props.selectedComponents[0]});l.closeRightClickMenu()},connectionsInspector:function(){j.log.info("Opening connections panel");l.panelManager.openComponentPanel("debugTools.platform.connectionsInspectorPanel",{comp:this.props.selectedComponents[0]});l.closeRightClickMenu()},isSingleController:function(){return this.props.selectedComponents.length===1&&this.getEditorAPI().components.getType(this.props.selectedComponents[0])==="platform.components.AppController"},isSingleNonController:function(){return this.props.selectedComponents.length===1&&this.getEditorAPI().components.getType(this.props.selectedComponents[0])!=="platform.components.AppController"},selectControllerConnectedComponents:function(){var a=this.props.selectedComponents[0];require(["debugTools"],function(b){b.platform.utils.selectControllerConnectedComponents(l,a)});l.closeRightClickMenu()},openAddController:function(){l.panelManager.openPanel("debugTools.platform.addControllerPanel",{});l.closeRightClickMenu()},getApplyToInfoItem:function(){return{label:"RightClick_Menu_Copy_Design_Label",enabled:true}},openApplyToDialog:function(a){l.bi.event(d.bi.events.applyStyle.COPY_STYLE_RCM_CLICK,{component_id:a.id,component_type:l.components.getType(a)});l.styles.openApplyStylePanel(a)},openLayoutTractor:function(){l.openLayoutTractor();l.closeRightClickMenu()},applyToAllModes:function(){l.components.modes.applyCurrentToAllModes(l.selection.getSelectedComponents());
l.closeRightClickMenu()},getCustomActions:function(){var a=f[l.components.getType(this.props.selectedComponents)]||[];if(b.isFunction(a)){return a(this.getEditorAPI())}return a},saveStyleToTheme:function(a,c){var d=l.theme.styles.get(c);var e=l.theme.styles.get(l.components.style.getId(a));var f=b.assign(e,b.pick(d,["id","type","styleType"]));l.theme.styles.update(c,f);l.components.style.setId(a,c)},openPropertiesPanel:function(){if(!l.developerToolBar.isEnabled()){l.developerToolBar.toggle()}l.closeRightClickMenu()},render:function(){if(h.isMultiValueExperimentOpen("editorHintsConfigs")){return a.createElement(k.hintsNotify,{id:k.hintsContainers.RIGHT_CLICK_PANEL},i.call(this))}return i.call(this)}})});define("rEditor/rootComps/panels/openedPanels.rt",["react","lodash","core","uiAnimations","panels"],function(a,b,c,d,e){"use strict";function f(d,e){return a.createElement(c.lazyComponent,b.assign({},{moduleName:d.name,key:d.name,onLoad:this.forceUpdate.bind(this)},this.getPanelProps(d)))}return function(){return a.createElement("div",{className:"opened-panels"},a.createElement.apply(this,[d.panelsAnimation,{},this.props.withHelpPanel&&this.props.editorState.helpProps?a.createElement(e.frames.helpPanelFrame,b.assign({},{key:"helpPanel",isMobileEditor:this.props.editorState.isMobileEditor},this.props.editorState.helpProps)):null,b.map(this.props.openPanels,f.bind(this))]))}});define("rEditor/rootComps/panels/openedPanels",["react","core","lodash","rEditor/rootComps/panels/openedPanels.rt"],function(a,b,c,d){"use strict";function e(a){var c=a.key;if(b.lazyComponent.isLoaded(a.name)){c+="-loading"}return c}return a.createClass({displayName:"openedPanels",propTypes:{editorState:a.PropTypes.object.isRequired,openPanels:a.PropTypes.array,withHelpPanel:a.PropTypes.bool},getDefaultProps:function(){return{withHelpPanel:true}},getPanelProps:function(a){return c.assign({},a.props,{editorState:this.props.editorState,key:e(a.props)})},render:d})});define("rEditor/rootComps/portal/portal.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{id:"portal"},this.getChildren())}});define("rEditor/rootComps/portal/portal",["react","lodash","rEditor/rootComps/portal/portal.rt"],function(a,b,c){"use strict";function d(c,d){return b.map(c,function(c){return a.createElement(c.reactClass,b.assign(c.props,{origin:d}))})}return a.createClass({displayName:"Portal (AKA Comps Day-Care)",propTypes:{comps:a.PropTypes.object},getChildren:function(){return b.reduce(this.props.comps,function(a,b,c){return a.concat(d(b,c))},[])},render:c})});define("rEditor/utils/mouseMoveActions/mouseMoveActionTypes",[],function(){"use strict";return{DRAG:"DRAG",SPACER:"SPACER",ROTATE:"ROTATE",RESIZE:"RESIZE",SECTION_DRAG:"SECTION_DRAG",LASSO:"LASSO",DRAG_ATTEMPT:"DRAG_ATTEMPT"}});define("rEditor/rootComps/gfpp/gfppButton.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";function d(){var b=this.translateIfNeeded;return a.createElement("li",{className:"gfpp-btn "+this.props.className,onClick:this.onClick},this.props.icon?a.createElement(c.symbol,{key:"gfppButtonIcon",name:this.props.icon}):null,this.props.label?a.createElement("span",{key:"gfppButtonLabel",className:"gfpp-label"},b(this.props.label)):null)}return function(){return a.createElement(c.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip,shouldTranslate:this.props.shouldTranslate},d.apply(this,[]))}});define("rEditor/rootComps/gfpp/gfppButton",["react","lodash","core","util","rEditor/rootComps/gfpp/gfppButton.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"GFPP Button",propTypes:{selectedComponent:a.PropTypes.arrayOf(a.PropTypes.object).isRequired},mixins:[c.mixins.editorAPIMixin],translateIfNeeded:function(a){if(b.isBoolean(this.props.shouldTranslate)&&!this.props.shouldTranslate){return a}return d.translate(a)},onClick:function(){if(!this.props.isDisabled){var a=this.getEditorAPI();var d=this.props.selectedComponent;if(!a.components.is.exist(d)){return}var e=(d.length?b.head(d):d).id;var f=a.components.getType(d);this.props.onClick(a,d,c.constants.USER_ACTIONS.ORIGIN.GFPP);a.bi.event(c.bi.events.gfpp.GFPP_BUTTON_CLICK,{action_name:this.props.label||this.props.tooltip,component_id:e,component_type:f,icon:this.props.tooltip,app_Id:this.props.appId})}},render:e})});define("rEditor/rootComps/gfpp/gfppCustomButton",["react"],function(a){"use strict";return a.createClass({displayName:"gfppCustomButton",render:function(){return a.createElement(this.props.template,this.props)}})});define("rEditor/rootComps/gfpp/gfppButtonGenerator",["react","lodash","rEditor/rootComps/gfpp/gfppButton","rEditor/rootComps/gfpp/gfppCustomButton"],function(a,b,c,d){"use strict";return a.createClass({displayName:"gfppButtonGenerator",render:function(){return a.createElement(this.props.template?d:c,b.assign({},this.props))}})});define("rEditor/rootComps/gfpp/gfpp.rt",["react","lodash","uiAnimations","baseUI","rEditor/rootComps/gfpp/gfppButtonGenerator"],function(a,b,c,d,e){"use strict";function f(c,d){return a.createElement(e,b.assign({},{key:c.icon||c.label||c.tooltip,className:b({selected:c.isSelected,disabled:c.isDisabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")+" "+c.className},b.omit(this.getButtonProps(c),"className")))}return function(){return a.createElement(c.gfppAnimation,{},a.createElement.apply(this,["ul",b.assign({},{id:"gfpp",ref:"gfpp",className:b({gfpp:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:this.getKey(),onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onClick:this.stopEventPropagation},this.getTopLevelProps()),b.map(this.state.mainButtons,f.bind(this))]))}});define("rEditor/rootComps/gfpp/gfpp",["reactDOM","lodash","react","core","pLoader!santa:utils","rEditor/rootComps/gfpp/gfppModel","rEditor/rootComps/gfpp/gfpp.rt","experiment"],function(a,b,c,d,e,f,g,h){"use strict";var i=["settings","layout","design","customizeDesign","upgrade","crop","filters","animation","link","hide","stretch","stretchForColumns","applyToOtherView","help","connect","pinMode"];function j(){var a=i.slice(0);if(h.isOpen("switchLayoutDesignOrder")){k(a)}return a}function k(a){var c=b.indexOf(a,"layout");var d=b.indexOf(a,"design");var e=a[c];a[c]=a[d];a[d]=e}function l(a,c){var d=b.map(c,function(b){return a[b]});return b.compact(d)}function m(a,b){var c=f.getData(a,b);var d=c.mainActions||[];var e=c.extraActions||[];var g=l(c.presetActions,j());var h=d.concat(g).concat(e);return{mainButtons:h}}function n(a,c){return function(){var e=b.get(a.selection.getSelectedComponentData(),"appPartName");var f=a.selection.getSelectedComponentType();var g={component:e||f,origin:d.constants.BI.HELP.ORIGIN.GFPP,learn_more:false};a.panelManager.openHelpCenter(c,null,g)}}return c.createClass({displayName:"GFPP",mixins:[d.mixins.editorAPIMixin],propTypes:{selectedComponent:c.PropTypes.arrayOf(c.PropTypes.object).isRequired},getInitialState:function(){return m(this.getEditorAPI(),this.props.selectedComponent)},componentWillReceiveProps:function(a){this.setState(m(this.getEditorAPI(),a.selectedComponent))},getTopLevelProps:function(){return b.pick(this.props,["style"])},getButtonProps:function(a){if(a.isApplied){b.assign(a,{label:a.label_active||a.label,icon:a.icon_active||a.icon,tooltip:a.tooltip_active||a.tooltip})}if(a.helpId&&b.isUndefined(a.onClick)){a.onClick=n(this.getEditorAPI(),a.helpId)}a.selectedComponent=this.props.selectedComponent;return a},getSize:function(){if(this.refs.gfpp){var c=e.domMeasurements.getBoundingRect(a.findDOMNode(this.refs.gfpp));return b.pick(c,["width","height"])}},stopEventPropagation:function(a){a.stopPropagation()},getKey:function(){return b.head([].concat(this.props.selectedComponent)).id+"_"+b.size([].concat(this.props.selectedComponent))},render:g})});define("rEditor/rootComps/selectionBox/selectionBoxCommons",["lodash","experiment"],function(a,b){"use strict";function c(b,c,e){var f=a.head(c);while(f&&!d(e,f)){f=b.components.getContainer(f)}return f}function d(b,c){return a.some(b,function(a){return a(c)})}function e(a,b){return b&&a.components.layout.isShowOnFixedPosition(b)?"fixed":"absolute"}function f(c,d,f,g){var h=0;var i=0;if(a.size(f)>1){h=2;i=h*2}var j=d.bounding;var k={position:e(c,f),top:d.bounding.y-g-h,left:d.bounding.x-g-h,width:j.width+i,height:j.height+i};if(b.isOpen("se_editBoxPerformance")){var l="translate3d("+(j.x-g-h)+"px,"+(j.y-g-h)+"px,0)";k.top=0;k.left=0;k.WebkitTransform=l;k.transform=l}return k}return{getPosition:e,getBoundingStyle:f,findFirstContainerMatchingConditions:c}});define("rEditor/rootComps/selectionBox/controllers/tab.rt",["react","lodash","util"],function(a,b,c){"use strict";function d(){this.props.onTabClick(this.props.tab)}return function(){return a.createElement("label",{className:"label-controller tab "+this.props.tabClass+" "+b({active:this.props.tab.active}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:d.bind(this)},a.createElement("div",{className:"label"},"\n        ",this.getTabLabel(),"\n    "),a.createElement("div",{className:"action",key:this.props.tabsAnimationText},"\n        ",c.translate(this.props.tabsAnimationText),"\n    "))}});define("rEditor/rootComps/selectionBox/controllers/tab",["lodash","react","util","rEditor/rootComps/selectionBox/controllers/tab.rt"],function(a,b,c,d){"use strict";return b.createClass({displayName:"selectionBoxTab",propTypes:{tab:b.PropTypes.shape({modeId:b.PropTypes.string.isRequired,label:b.PropTypes.string.isRequired,active:b.PropTypes.bool.isRequired}).isRequired,onTabClick:b.PropTypes.func.isRequired,translate:b.PropTypes.bool,tabClass:b.PropTypes.string.isRequired,tabsAnimationText:b.PropTypes.string},getTabLabel:function(){return this.props.translate?c.translate(this.props.tab.label):this.props.tab.label},render:d})});define("rEditor/rootComps/selectionBox/controllers/tabsController.rt",["react","lodash","rEditor/rootComps/selectionBox/controllers/tab","uiAnimations"],function(a,b,c,d){"use strict";function e(b,e){return a.createElement(d.tabIndicationAnimation,{selectors:{label:".label",action:".action"},key:e+"-"+b.id,direction:this.props.isPositionTop?1:-1,immediatePlay:this.state.tabsAnimationStatus[e]},a.createElement(c,{tab:b,tabClass:this.tabIndexClass(e),translate:this.props.translate,onTabClick:this.props.onTabClick,tabsAnimationText:this.state.tabsAnimationText}))}return function(){return a.createElement.apply(this,["div",{className:"tabs-controller "+(this.props.className||"")},b.map(this.props.tabs,e.bind(this))])}});define("rEditor/rootComps/selectionBox/controllers/tabsController",["lodash","react","rEditor/rootComps/selectionBox/controllers/tabsController.rt"],function(a,b,c){"use strict";function d(b){if(!b.tabIndicationState){return{tabsAnimationStatus:a.times(b.tabs.length,a.constant(false)),tabsAnimationText:""}}switch(b.tabIndicationState.indication){case"DELETE":return{tabsAnimationStatus:a.map(b.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_DELETED"};case"APPLY":if(b.tabIndicationState.activeMode){return{tabsAnimationStatus:a.map(b.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_APPLIED"}}return{tabsAnimationStatus:a(b.tabs).map("active").map(a.negate(a.identity)).value(),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_APPLIED"};case"ADD":if(b.tabIndicationState.activeMode){return{tabsAnimationStatus:a.map(b.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"}}return{tabsAnimationStatus:a.times(b.tabs.length,a.constant(true)),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"};default:return{tabsAnimationStatus:a.times(b.tabs.length,a.constant(false))}}}return b.createClass({displayName:"tabsController",propTypes:{tabs:b.PropTypes.arrayOf(b.PropTypes.shape({modeId:b.PropTypes.string,label:b.PropTypes.string.isRequired,active:b.PropTypes.bool.isRequired})).isRequired,translate:b.PropTypes.bool,tabIndicationState:b.PropTypes.shape({indication:b.PropTypes.string.isRequired,activeMode:b.PropTypes.bool}),onTabClick:b.PropTypes.func.isRequired,isPositionTop:b.PropTypes.bool.isRequired},getInitialState:function(){return d(this.props)},componentWillReceiveProps:function(a){this.setState(d(a))},getReversedTabs:function(){return a(this.props.tabs).cloneDeep().reverse()},tabIndexClass:function(a){if(this.props.tabs.length===1){return"left-most-tab right-most-tab"}else if(a===this.props.tabs.length-1){return"right-most-tab"}else if(a===0){return"left-most-tab"}return""},render:c})});define("rEditor/rootComps/selectionBox/controllers/paginationController.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:"pagination-controller "+(this.props.className||"")},a.createElement("span",{className:"arrow prev-arrow",onClick:this.onPrev}),a.createElement("span",{className:"middle-label",onClick:this.onLabelClick},this.getLabel()),a.createElement("span",{className:"arrow next-arrow",onClick:this.onNext}))}});define("rEditor/rootComps/selectionBox/controllers/paginationController",["react","lodash","core","util","rEditor/rootComps/selectionBox/controllers/paginationController.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"paginationController",render:e,mixins:[c.mixins.editorAPIMixin,d.translationMixin],propTypes:{label:a.PropTypes.string.isRequired,labelParams:a.PropTypes.object.isRequired,onNext:a.PropTypes.func.isRequired,onPrev:a.PropTypes.func.isRequired,onLabelClick:a.PropTypes.func.isRequired},getLabel:function(){return this.translateTemplate(this.props.label,this.props.labelParams,this.getEditorAPI())},onNext:function(){this.props.onNext()},onPrev:function(){this.props.onPrev()},onLabelClick:function(){this.props.onLabelClick()}})});define("rEditor/rootComps/selectionBox/navControls.rt",["react","lodash","util","baseUI","rEditor/rootComps/selectionBox/controllers/tabsController","rEditor/rootComps/selectionBox/controllers/paginationController"],function(a,b,c,d,e,f){"use strict";function g(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}return function(){return a.createElement("div",{onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:this.getCalculatedStyle(),className:"nav-controls "+this.getPositionClass()},this.props.navType===d.uiConstants.NAVIGATION_TYPES.TABS?a.createElement(e,g({key:"tabsController",className:this.getPositionClass(),isPositionTop:this.isPositionTop(),tabIndicationState:this.props.tabIndicationState},this.props.content)):null,this.props.navType===d.uiConstants.NAVIGATION_TYPES.PAGINATION?a.createElement(f,g({key:"paginationController",className:this.getPositionClass()},this.props.content)):null)}});define("rEditor/rootComps/selectionBox/navControls",["react","lodash","core","baseUI","uiConstants","rEditor/rootComps/selectionBox/navControls.rt"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"navControls",mixins:[c.mixins.editorAPIMixin],propTypes:{navType:a.PropTypes.oneOf(b.values(d.uiConstants.NAVIGATION_TYPES)),content:a.PropTypes.object.isRequired,style:a.PropTypes.object,onMouseEnterControls:a.PropTypes.func,onMouseLeaveControls:a.PropTypes.func},onMouseEnter:function(){if(b.isFunction(this.props.onMouseEnterControls)){this.props.onMouseEnterControls()}},onMouseLeave:function(){if(b.isFunction(this.props.onMouseLeaveControls)){this.props.onMouseLeaveControls()}},stopEventPropagation:function(a){a.stopPropagation()},getPositionClass:function(){return this.isPositionTop()?"comp-top":"comp-bottom"},isPositionTop:function(){return b.get(this.props,"style.top")!==e.NAVIGATION_CONTROLS_POS.BOTTOM},getCalculatedStyle:function(){var a={marginLeft:this.props.style&&this.props.style.left||0};return a},render:f})});define("rEditor/rootComps/selectionBox/focusBox.rt",["react","lodash","rEditor/rootComps/selectionBox/navControls"],function(a,b,c){"use strict";function d(){var b=this.getFocusedContainerLayout();var d=this.getNavControlsContent();return a.createElement("div",{className:"focusbox",style:this.getFocusBoxStyle()},a.createElement(c,{ref:"navControls",style:this.props.navControlsStyle,navType:this.getNavType(),content:d,onMouseEnterControls:this.onMouseEnterControls,onMouseLeaveControls:this.onMouseLeaveControls,tabIndicationState:this.props.tabIndicationState}),a.createElement("div",{className:"focus-frame"}))}return function(){return d.apply(this,[])}});define("rEditor/rootComps/selectionBox/focusBox",["react","reactDOM","lodash","core","baseUI","pLoader!santa:utils","rEditor/rootComps/selectionBox/selectionBoxCommons","experiment","rEditor/rootComps/selectionBox/focusBox.rt"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,b){if(h.isOpen("se_editHoverBox")){return!c.isEmpty(a.components.modes.getModes(b))}return false}function k(a,b){var d=a.components.modes.getComponentActiveModeIds(b);var e=a.components.modes.getComponentModesAvailableInView(b);return c.map(e,c.partial(l,d))}function l(a,b){var d;switch(b.type){case"DEFAULT":d="HOVER_BOX_STATE_REGULAR";break;case"HOVER":d="HOVER_BOX_STATE_HOVER";break;case"SCROLL":d="scroll > "+b.params.scrollPos;break;case"WIDTH":d="width > "+b.params.width;break;default:d=b.label||"unknown-mode"}return c.assign({},b,{active:!!a[b.modeId],label:d})}function m(a,b,d){var e=a.components.modes.getComponentActiveModeIds(b);if(e[d.modeId]){a.selection.selectComponentByCompRef(b);if(h.isOpen("applicativeModes")){a.components.modes.deactivateComponentMode(b,d.modeId)}}else{a.components.modes.activateComponentMode(b,d.modeId);var f=c.head(a.components.modes.getModesByType(b,"DEFAULT"));if(f&&f.modeId===d.modeId){n(a.panelManager)}}}function n(a){var b=["compPanels.dynamicPanels.animationPanel"];c.forEach(b,a.closePanelByName)}function o(a,b){var c=k(a,b);return{tabs:c,translate:true,onTabClick:function(c){return m(a,b,c)}}}return a.createClass({displayName:"focusBox",mixins:[d.mixins.editorAPIMixin],PropTypes:{focusedContainer:a.PropTypes.object.isRequired,selectedComponents:a.PropTypes.oneOfType([a.PropTypes.object,a.PropTypes.arrayOf(a.PropTypes.object)]).isRequired},getInitialState:function(){return{mouseOverNavControls:false}},getFocusedContainerLayout:function(){var a=this.getEditorAPI();var b=a.components.layout.getRelativeToScreen(this.props.focusedContainer);return g.getBoundingStyle(a,b,[this.props.focusedContainer],0)},getFocusBoxStyle:function(){var a=this.getFocusedContainerLayout();if(a.position==="fixed"){a.top+=this.getEditorAPI().editorConfig.previewPosition.top;a.left+=this.getEditorAPI().editorConfig.previewPosition.left}return a},getNavControlsSize:function(){if(this.refs.navControls){var a=f.domMeasurements.getBoundingRect(b.findDOMNode(this.refs.navControls));return c.pick(a,["width","height"])}return false},onMouseEnterControls:function(){if(!this.state.mouseOverNavControls){this.setState({mouseOverNavControls:true})}},onMouseLeaveControls:function(){if(this.state.mouseOverNavControls){this.setState({mouseOverNavControls:false})}},getNavType:function(){var a=this.getEditorAPI();if(j(a,this.props.focusedContainer)){return e.uiConstants.NAVIGATION_TYPES.TABS}return a.components.is.focusBoxNavType(this.props.focusedContainer)},getNavControlsContent:function(){var a=this.getEditorAPI();var b=this.props.focusedContainer;if(j(a,b)){return o(a,b)}return a.components.is.focusBoxNavContent(b)},render:i})});define("rEditor/utils/mouseMoveActions/baseResize",["lodash","core","rEditor/utils/mouseMoveActions/mouseMoveActionTypes","util"],function(a,b,c,d){"use strict";var e=b.utils.SnapToHandler;var f=b.utils.layoutTransitionsUtil;var g,h,i,j,k,l,m;var n;var o;var p=b.utils.DragConstraintsHandler;var q=[];var r=["fill","fitWidth"];var s={"wysiwyg.viewer.components.WPhoto":function(b){var c=n.components.properties.get(b);return a.includes(r,c.displayMode)},"wysiwyg.viewer.components.SiteButton":true,"wysiwyg.viewer.components.inputs.Checkbox":true,"wysiwyg.common.components.imagebutton.viewer.ImageButton":true,"wysiwyg.viewer.components.ClipArt":true,"wysiwyg.viewer.components.svgshape.SvgShape":true,"wysiwyg.viewer.components.MatrixGallery":true,"tpa.viewer.components.Thumbnails":true,"wysiwyg.viewer.components.PaginatedGridGallery":true,"wysiwyg.viewer.components.SlideShowGallery":true,"wysiwyg.viewer.components.Video":true,"wysiwyg.viewer.components.mobile.TinyMenu":true,"wysiwyg.viewer.components.inputs.RadioButton":true,"wysiwyg.viewer.components.MediaPlayer":true};var t={"wysiwyg.viewer.components.PopupContainer":function(b){var c=n.components.properties.get(g);return a.assign({},b,{symmetry:{horizontal:c.horizontalAlignment==="center",vertical:c.verticalAlignment==="center"}})}};var u={right:{right:true},left:{left:true},top:{top:true},bottom:{bottom:true},topRight:{top:true,right:true},topLeft:{top:true,left:true},bottomRight:{bottom:true,right:true},bottomLeft:{bottom:true,left:true}};var v={right:{x:1,y:0},left:{x:-1,y:0},top:{x:0,y:-1},bottom:{x:0,y:1},topRight:{x:1,y:-1},topLeft:{x:-1,y:-1},bottomRight:{x:1,y:1},bottomLeft:{x:-1,y:1}};function w(a){return v[a]}function x(a){return u[a]}function y(a){return{x:a.pageX,y:a.pageY}}function z(b){var c=n.components.getType(b);var d=a.has(s,c);return d}function A(b){var c=n.components.getType(b);var d=s[c];var e=a.isFunction(d)?d(g):!!d;var f=a.pick(u,["topRight","topLeft","bottomRight","bottomLeft"]);var h=a.includes(f,l);return(n.getCompRestrictions(g).resizeOnlyProportionally||!i)&&h&&e}function B(){if(n.components.layout.isPinned(g)){return false}if(z(g)){return A(g)}return(i||n.components.is.group(g)||n.multiselect.isMultiselect(g))&&n.components.is.proportionallyResizable(g)}function C(b){return a.has(t,b)}function D(a,b){return t[b](a)}function E(a){var b=y(a);var c=w(j);var d=n.components.layout.getRelativeToScreen(g);var e=n.components.getType(g);m=B();if(C(e)){d=D(d,e)}h=new f.Resize(d,b,c,m);o=n.components.layout.getProportionStructure(g,c)}function F(a){var b=k.getClosestLayoutDistance(n,a,l);if(Math.abs(b.x)<5){if(l.right){if(B()&&a.height){a.height+=b.x}a.width+=b.x}else if(l.left){if(B()&&a.height){a.height-=b.x}a.x+=b.x;a.width-=b.x}}if(Math.abs(b.y)<5){if(l.top){if(B()&&a.width){a.width-=b.y}a.y+=b.y;a.height-=b.y}else if(l.bottom){if(B()&&a.width){a.width+=b.y}a.height+=b.y}}}function G(a){if(l.right){a.width-=a.width%5}else if(l.left){var b=a.x%5;a.x-=b;a.width+=b}if(l.top){var c=a.y%5;a.y-=c;a.height+=c}else if(l.bottom){a.height-=a.height%5}}function H(a){var b=k.getSnapData(a,l);n.snapData.set(b)}function I(b,c){n=b;g=n.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(c.comps);var d=a.map(g,"id");n.renderPlugins.setCompsToShowOnTop(d);i=c.evt.shiftKey;j=c.directionName;k=new e(n,c.comps);l=x(c.directionName);q=a.map(g,function(a){return new p(n,a)});a.forEach(q,function(a){a.highlightDragConstraints()});E(c.evt)}function J(a){var c=y(a);if(i!==a.shiftKey){i=a.shiftKey;E(a)}var d=h.getLayout(c);if(n.getViewTools().snapToEnabled&&d.rotationInDegrees===0){F(d)}var e=n.components.layout.getRelativeToScreen(g);d=b.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(n,g[0],d,e);if(m){n.components.layout.updateRelativeToScreenAndPreserveProportions(g,d,o)}else{n.components.layout.updateRelativeToScreen(g,d,true)}n.waitForChangesApplied(function(){if(k){var b=n.components.layout.getRelativeToScreen(g);if(a.altKey){G(b)}else if(n.getViewTools().snapToEnabled&&b.rotationInDegrees===0){H(b)}}})}function K(){k=null;n.snapData.clear();n.renderPlugins.setCompsToShowOnTop(null);n.history.add("Resize component");a.forEach(q,function(a){a.removeHighlightDragConstraints()});q=[];if(n.components.layout.isPinned(g)){var b=n.components.layout.getDock(g);var c=d.pinModeUtils.getDockedDirection(b);var e=n.components.layout.get(g);if(d.pinModeUtils.checkSizeRestrictions(c,e)){n.openPinModeSizeRestrictionPanel({state:"on resize",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}}}return{start:I,on:J,end:K,type:c.RESIZE}});define("rEditor/utils/mouseMoveActions/pageResize",["lodash","core","rEditor/utils/mouseMoveActions/mouseMoveActionTypes","constants"],function(a,b,c,d){"use strict";var e,f,g,h,i,j,k;function l(a){return{x:a.pageX,y:a.pageY}}function m(a,b){e=a;var c=e.pages.getPrimaryPageId();f=l(b.evt);i=e.pages.getReference(c);k=e.pages.getPageBottomByComponents(i.id);g=e.components.layout.get(i).height}function n(b){var c=l(b);var d=c.y-f.y;h=Math.max(r(d),k);e.pages.properties.update(i,{minHeight:h});j=!a.isEqual(h,g)}function o(){e.pages.properties.update(i,{minHeight:null});q()}function p(){if(j){q();e.bi.event(b.bi.events.pageResize.PAGE_MIN_HEIGHT_RESIZE,{yCoordinate_new:h,yCoordinate_old:g});j=false}}function q(){e.history.add("Resize page")}function r(a){var b=g+a;var c=e.isMobileEditor()?d.CONSTRAINS.PAGE_MIN_HEIGHT.MOBILE:d.CONSTRAINS.PAGE_MIN_HEIGHT.DESKTOP;return Math.max(b,c)}return{start:m,on:n,end:p,reset:o,type:c.RESIZE}});define("rEditor/utils/mouseMoveActions/baseResizeAndPush",["lodash","core","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c){"use strict";var d=b.utils.layoutTransitionsUtil;var e=b.utils.mouseCoordinatesHandler;var f;var g;var h;function i(a){var b=e.fitMouseCoordinatesToViewer(g,a);return{x:b.pageX,y:b.pageY}}function j(b,c){g=b;f=c.comps;g.selection.setIsMouseUpSelectionEnabled(false);var e=a.map(f,"id");g.renderPlugins.setCompsToShowOnTop(e);var j=i(c.evt);var k=g.components.layout.getRelativeToScreen(f);h=new d.Resize(k,j,{x:0,y:1},false)}function k(b){var c=i(b);var d=h.getLayout(c);var e=g.components.layout.getMinDimensions(f);d.bounding=g.utils.getBoundingLayout(d);if(d.height>=e.height){g.components.layout.updateRelativeToScreenAndAdjustLayout(f,a.pick(d,["height","width"]),true)}}function l(){g.renderPlugins.setCompsToShowOnTop(null);g.history.add("Resize component")}return{start:j,on:k,end:l,type:c.RESIZE}});define("rEditor/utils/mouseMoveActions/baseRotate",["lodash","core","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c){"use strict";var d=b.utils.layoutTransitionsUtil;var e=b.utils.mouseCoordinatesHandler;var f=false;var g;var h;var i;var j;var k=3;var l=90;var m=15;function n(a){o(a);j.components.layout.updateRelativeToScreen(i,a,true)}function o(a){if(a.rotationInDegrees<0){a.rotationInDegrees+=360}var b=a.rotationInDegrees%l;if(b<=k){a.rotationInDegrees-=b}else if(b>=l-k){a.rotationInDegrees+=l-b}}function p(a){var b=Math.floor(g<0?g+360:g);var c=Math.floor(a.rotationInDegrees<0?a.rotationInDegrees+360:a.rotationInDegrees);var d=c-b;var e=Math.floor(d/m);a.rotationInDegrees=g+e*m;j.components.layout.updateRelativeToScreen(i,a,true)}function q(b,c){i=c.comps;j=b;j.selection.setIsMouseUpSelectionEnabled(false);var f=a.map(i,"id");j.renderPlugins.setCompsToShowOnTop(f);var g=j.components.layout.getRelativeToScreen(i);var k=a.defaults({y:g.y+j.editorConfig.previewPosition.top,x:g.x+j.editorConfig.previewPosition.left},g);var l=e.fitMouseCoordinatesToViewer(j,c.evt);var m={x:l.pageX,y:l.pageY};h=new d.Rotate(g,m,k)}function r(a){var b=e.fitMouseCoordinatesToViewer(j,a);var c={x:b.pageX,y:b.pageY};var d=h.getLayout(c);if(a.shiftKey){if(!f){g=j.components.layout.getRelativeToScreen(i).rotationInDegrees}p(d)}else{n(d)}f=a.shiftKey}function s(){j.waitForChangesApplied(function(){var a=j.components.layout.get(i).rotationInDegrees;j.bi.event(b.bi.events.editBox.ROTATE_COMPONENT,{value:parseInt(a,10),origin:"editBox"})});j.renderPlugins.setCompsToShowOnTop(null);j.history.add("Rotate component")}return{start:q,on:r,end:s,type:c.ROTATE}});define("rEditor/utils/mouseMoveActions/baseDoubleClick",["lodash","core","gfppData"],function(a,b,c){"use strict";function d(d,e){var f=d.components.getType(e.comp);var g=d.pluginService.getPlugin(d.pluginService.pluginConstants.DOUBLE_CLICK,f);if(a.isFunction(g)){g(d,e)}else{var h=c.getComponentMainActionClick(d,e.comp);if(a.isFunction(h)){h(d,e.comp,b.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}}return{doubleClick:d}});define("rEditor/utils/mouseMoveActions/baseDragAndPush",["lodash","core","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c){"use strict";var d=b.utils.layoutTransitionsUtil;var e=b.utils.mouseCoordinatesHandler;var f;var g;var h;var i;var j=0;var k;function l(a,b){var c=b.x+b.width<=a.x;var d=b.x>=a.x+a.width;var e=!(c||d);return e&&b.y+b.height<=a.y}function m(b){var c=h.components.getSiblings(g);var d=a(c).map(function(a){return h.components.layout.getRelativeToScreen(a)}).filter(function(a){return l(b,a)}).value();if(d.length===0){return 0}var e=a.maxBy(d,function(a){return a.y+a.height});return e.y+e.height}function n(a){var b=h.components.getContainer(g);var c=h.components.layout.getRelativeToScreen(b);var d=m(a);return Math.max(d,c.y)}function o(b,c){h=b;g=c.comps;k=c.onDragAndPushEnd;var i=a.map(g,"id");h.renderPlugins.setCompsToShowOnTop(i);var l=a.omit(h.components.layout.getRelativeToScreen(g),"bounding");var m=a.map(g,function(b){return a.omit(h.components.layout.getRelativeToScreen(b),"bounding")});j=n(l);var o=e.fitMouseCoordinatesToViewer(h,c.evt);var p={x:o.pageX,y:o.pageY};f=new d.Drag(l,p,m)}function p(b){var c=e.fitMouseCoordinatesToViewer(h,b);var d={x:c.pageX,y:c.pageY};var k=f.getLayout(d);k.y=Math.max(k.y,j);i=f.getBoundComponentLayouts(k);for(var l=0;l<g.length;l++){h.components.layout.updateRelativeToScreenAndAdjustLayout(g[l],a.pick(i[l],"y"))}}function q(){if(i){for(var b=0;b<g.length;b++){h.components.layout.updateRelativeToScreen(g[b],a.pick(i[b],"y"))}i=null}h.waitForChangesApplied(function(){h.renderPlugins.setCompsToShowOnTop(null)});if(a.isFunction(k)){k()}}return{start:o,on:p,end:q,type:c.DRAG}});define("rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion.rt",["react","lodash","util","symbols","uiConstants"],function(a,b,c,d,e){"use strict";return function(){return a.createElement("div",{className:"quick-tip",onMouseDown:this.onMouseDown},a.createElement("div",{className:"close-quick-tip",onClick:this.close},a.createElement("span",{},a.createElement(d.symbol,{name:"bubble-close"}))),a.createElement("div",{className:"quick-tip-image"},a.createElement(d.symbol,{name:"idea-bulb"})),a.createElement("div",{className:"text-container",style:{textAlign:"left"}},a.createElement("div",{className:"text"},"\n            ",c.translate(this.props.text),"\n        "),a.createElement("div",{className:"text link-action",onClick:this.onLinkClick},"\n\n            ",c.translate(this.props.linkActionText),"\n        ")))}});define("rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion",["react","core","rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"applyModeFromClipboardSuggestion",mixins:[b.mixins.editorAPIMixin],propTypes:{text:a.PropTypes.string.isRequired,linkActionText:a.PropTypes.string.isRequired},componentWillUnmount:function(){this.getEditorAPI().copyPaste.hideApplyModeFromClipboardSuggestion()},close:function(){this.getEditorAPI().copyPaste.hideApplyModeFromClipboardSuggestion()},onMouseDown:function(a){a.stopPropagation()},onLinkClick:function(a){a.preventDefault();var b=this.getEditorAPI().copyPaste;b.hideApplyModeFromClipboardSuggestion();b.removePastedComponentAndApplyModeFromClipboard()},render:c})});define("rEditor/rootComps/selectionBox/groupSelectionFrame.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{},this.ancestorToStyle?a.createElement("div",{
key:"markContainer",className:b({layout:true,"secondary-component":true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.boundingContainerStyle}):null)}});define("rEditor/rootComps/selectionBox/groupSelectionFrame",["react","lodash","core","rEditor/rootComps/selectionBox/selectionBoxCommons","rEditor/rootComps/selectionBox/groupSelectionFrame.rt"],function(a,b,c,d,e){"use strict";function f(a,b){var c=a.multiselect.isMultiselect(b);return!c&&a.components.is.groupedComponent(b)}function g(a,b){if(f(a,b)){return d.findFirstContainerMatchingConditions(a,b,[a.components.is.group])}return null}return a.createClass({displayName:"groupSelectionFrame",mixins:[c.mixins.editorAPIMixin],PropTypes:{selectedComponents:a.PropTypes.oneOfType([a.PropTypes.object,a.PropTypes.arrayOf(a.PropTypes.object)]).isRequired},componentWillUpdate:function(){var a=this.getEditorAPI();this.ancestorToStyle=g(a,this.props.selectedComponents);if(this.ancestorToStyle){var b=a.components.layout.getRelativeToScreen(this.ancestorToStyle);this.boundingContainerStyle=d.getBoundingStyle(a,b,this.props.selectedComponents,1)}},render:e})});define("rEditor/rootComps/selectionBox/componentLabels.rt",["react","lodash","baseUI","util"],function(a,b,c,d){"use strict";return function(){return a.createElement("span",{className:b(this.getContainerClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.props.labelInlineStyles},this.props.isPinnedToPage?a.createElement("span",{key:"pinModeIndicator",className:b(this.getPinSymbolContainerClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(c.symbol,{name:"pinModeIndicator",className:"symbol-pinModeIndicator"})):null,this.props.showComponentType&&this.props.componentType?a.createElement("span",{key:"componentTypeLabel",className:b(this.getComponentTypeLabelClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},this.props.componentType):null,this.props.componentNickname?a.createElement("span",{className:"label-comp-nickname",key:"componentNicknameLabel"},this.props.componentNickname):null,this.props.infoText&&this.props.isConnected?a.createElement(c.infoIcon,{key:"infoIcon",className:"label-info-icon-container",text:this.props.infoText,symbolName:"connectedInfoIcon"}):null)}});define("rEditor/rootComps/selectionBox/componentLabels",["lodash","react","rEditor/rootComps/selectionBox/componentLabels.rt"],function(a,b,c){"use strict";return b.createClass({displayName:"componentLabels",propTypes:{showComponentType:b.PropTypes.bool,isConnected:b.PropTypes.bool,isLabelLarge:b.PropTypes.bool,isLabelBelowLine:b.PropTypes.bool,showOnAllPages:b.PropTypes.bool,isPinnedToPage:b.PropTypes.bool,componentType:b.PropTypes.string,componentNickname:b.PropTypes.string,labelInlineStyles:b.PropTypes.object},getContainerClasses:function(){return{"component-labels":true,"label-small":!this.props.isLabelLarge,"label-large":this.props.isLabelLarge,"label-above-line":!this.props.isLabelBelowLine}},getComponentTypeLabelClasses:function(){return{"label-comp-type":true,"show-on-all-pages":this.props.showOnAllPages}},getPinSymbolContainerClasses:function(){return{"symbol-container":true,"symbol-container-not-connected-comp":!this.props.isConnected,"symbol-container-connected-comp":this.props.isConnected,"show-on-all-pages":this.props.showOnAllPages&&!this.props.isConnected}},render:c})});define("rEditor/rootComps/selectionBox/editBox.rt",["react","lodash","core","baseUI","util","rEditor/rootComps/selectionBox/groupSelectionFrame","rEditor/rootComps/selectionBox/navControls","rEditor/rootComps/selectionBox/componentLabels","experiment"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(c,d,e,f,g,h){return a.createElement("div",{className:b({layout:true,"secondary-component":e,"show-on-all-pages":this.isCompShowOnAllPages(g)}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:h,style:this.getSubComponentStyle(g)})}function k(b,c,d,e){var f=this.getPaddingStyle();return a.createElement("div",{className:"padding-wrapper",key:"paddingWrapper",style:f.wrapper},a.createElement("div",{className:"left-padding",style:f.left},a.createElement("div",{className:"min-indicator-margin",style:{top:this.getMarginLabelTop()}},this.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?a.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleLeft"},this.getMarginValue("left"),"\n                "):null)),a.createElement("div",{className:"right-padding",style:f.right},a.createElement("div",{className:"min-indicator-margin",style:this.layout.x<56?{right:0,position:"absolute",top:this.getMarginLabelTop()}:{top:this.getMarginLabelTop()}},this.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?a.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleRight"},this.getMarginValue("right"),"\n                "):null)))}function l(a,b,d,e,f){this.getEditorAPI().bi.event(c.bi.events.pageResize.PAGE_MIN_HEIGHT_TOOLTIP_APPEARED)}function m(c,e,f,g){var j=this.getComponentData(this.props.selectedComponents);return a.createElement(d.tooltip,{id:this.getLinkedToTooltipId(j),key:this.getLinkedToTooltipId(j),value:this.getLinkDescriptionFromData(j),alignment:"right",delay:"500",width:"260px",marginsFromElement:9,disabled:!this.shouldShowLinkedToTooltip(e,j),shouldTranslate:false,openTriggers:[d.uiConstants.TOOLTIP.TRIGGERS.IMMEDIATE,d.uiConstants.TOOLTIP.TRIGGERS.MOUSE_ENTER]},a.createElement("div",{className:b({layout:true,"secondary-component":e,"show-on-all-pages":this.isCompShowOnAllPages(this.props.selectedComponents)}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:e?this.getBoundingStyle():this.getLayoutStyle()},i.isOpen("se_platform1")&&this.props.selectedComponents&&this.props.selectedComponents.length===1?a.createElement(h,{key:"compLabels",isConnected:this.props.isConnected,infoText:"PLATFORM_ONSTAGE_CONNECTED_ELEMENT_LABEL"}):null,!this.isHorizontallyStretchedToScreen&&(c.top&&c.left||c.resizeOnlyProportionally)?a.createElement("span",{className:this.getResizeHandleCursorClass("TOP_LEFT")+" handle handle-resize-corner top left","data-direction-name":"topLeft",ref:"resizeTopLeft",onMouseDown:this.startResize,key:"resizeTopLeft"}):null,c.top?a.createElement("span",{className:this.getResizeHandleCursorClass("TOP")+" handle handle-resize-side top","data-direction-name":"top",onMouseDown:this.startResize,key:"resizeTopCenter"}):null,!this.isHorizontallyStretchedToScreen&&(c.top&&c.right||c.resizeOnlyProportionally)?a.createElement("span",{className:this.getResizeHandleCursorClass("TOP_RIGHT")+" handle handle-resize-corner top right","data-direction-name":"topRight",onMouseDown:this.startResize,key:"resizeTopRight"}):null,c.right?a.createElement("span",{className:this.getResizeHandleCursorClass("RIGHT")+" handle handle-resize-side right","data-direction-name":"right",onMouseDown:this.startResize,key:"resizeMiddleRight"}):null,!this.isHorizontallyStretchedToScreen&&(c.bottom&&c.right||c.resizeOnlyProportionally)?a.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_RIGHT")+" handle handle-resize-corner bottom right","data-direction-name":"bottomRight",onMouseDown:this.startResize,key:"resizeBottomRight"}):null,c.bottom?a.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM")+" handle handle-resize-side bottom","data-direction-name":"bottom",onMouseDown:this.startResize,key:"resizeBottomCenter"}):null,c.bottomPage?a.createElement(d.tooltip,{id:"pageResizeKnobTooltip",key:"pageResizeKnobTooltip",value:"OnStage_PageMinHeightHandle_Tooltip",alignment:"top",delay:"500",openTriggers:[],closeTriggers:[],onOpen:l.bind(this,c,e,f,g,j)},a.createElement("span",{id:"resize-page",className:b({"footer-handle":this.isFooterContainerSelected()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")+" "+"handle handle-push handle-resize-with-anchors",onMouseDown:this.startPageResize,onDoubleClick:this.resetPageSize,onMouseEnter:this.showPageResizeKnobTooltip,onMouseLeave:this.hidePageResizeKnobTooltip,key:"resizeBottomPage"},a.createElement(d.symbol,{name:"pageResizeHandle"}))):null,!this.isHorizontallyStretchedToScreen&&(c.bottom&&c.left||c.resizeOnlyProportionally)?a.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_LEFT")+" handle handle-resize-corner bottom left","data-direction-name":"bottomLeft",onMouseDown:this.startResize,key:"resizeBottomLeft"}):null,c.left?a.createElement("span",{className:this.getResizeHandleCursorClass("LEFT")+" handle handle-resize-side left","data-direction-name":"left",onMouseDown:this.startResize,key:"resizeMiddleLeft"}):null,c.rotate?a.createElement("span",{className:"handle handle-rotate",onMouseDown:this.startRotate,key:"rotate",ref:"rotate"},a.createElement(d.symbol,{name:"rotate"})):null,c.rotate&&this.isComponentRotated()?a.createElement("span",{className:"handle handle-rotate-cancel",onMouseDown:this.cancelRotation,style:{transform:"rotate("+(360-this.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"cancelRotate",ref:"cancelRotate"},a.createElement(d.symbol,{name:"rotateCancel"})):null,c.dragAndPush&&!this.isComponentRotated()?a.createElement(d.tooltip,{id:"dragWithAnchorsVerticalTooltip",key:"dragWithAnchorsVerticalTooltip",value:"ONSTAGE_DragHandle_Tooltip",alignment:"top",openTriggers:[],closeTriggers:[]},a.createElement("span",{className:"handle handle-push handle-drag-with-anchors",onMouseEnter:this.showDragWithAnchorsKnobTooltip,onMouseLeave:this.hideDragWithAnchorsKnobTooltip,onMouseDown:this.startDragAndPush,key:"dragWithAnchorsVertical"},a.createElement(d.symbol,{name:"pushAndEnforceAnchors"}))):null,c.resizeAndPush&&!this.isComponentRotated()&&!f&&!c.resizeOnlyProportionally?a.createElement(d.tooltip,{id:"resizeWithAnchorsBottomTooltip",key:"resizeWithAnchorsBottomTooltip",value:"OnStage_StretchHandle_Tooltip",alignment:"bottom",openTriggers:[],closeTriggers:[]},a.createElement("span",{className:"handle handle-push handle-resize-with-anchors",onMouseEnter:this.showResizeWithAnchorsKnobTooltip,onMouseLeave:this.hideResizeWithAnchorsKnobTooltip,onMouseDown:this.startResizeAndPush,key:"resizeWithAnchorsBottom"},a.createElement(d.symbol,{name:"resizeAndEnforceAnchors"}))):null,this.possibleLayoutActionsMap.rotatable?a.createElement("span",{className:"indicator",style:{transform:"rotate("+(360-this.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"rotationIndicator"},Math.floor(this.layout.rotationInDegrees),"°\n        "):null))}function n(){var c=this.getAllowedKnobsMap();var g=this.isMultiselect();var h=this.getEditorAPI().components.is.group(this.props.selectedComponents);var i=e.translate;return a.createElement.apply(this,["div",{className:b(this.getEditBoxClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},this.hasSubComponents()?b.map(this.getSubComponents(),j.bind(this,c,g,h,i)):null,a.createElement(f,{selectedComponents:this.props.selectedComponents}),this.shouldShowPadding()?k.apply(this,[c,g,h,i]):null,a.createElement("div",{className:b({bounding:true,"show-on-all-pages":this.isCompShowOnAllPages(this.props.selectedComponents)}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getBoundingStyle(),ref:"boundingDiv"},this.shouldShowDragBounding()?a.createElement("span",{className:"indicator dragging",key:"dragBoundingStyle"},"\n            x: ",parseInt(this.relativeToStructureLayout.bounding.x,10),", y: ",parseInt(this.relativeToStructureLayout.bounding.y,10),"\n        "):null,(this.possibleLayoutActionsMap.resizable||this.possibleLayoutActionsMap.resizeOnlyProportionally)&&!this.isHorizontallyStretchedToScreen?a.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyle"},"\n                 W: ",parseInt(this.relativeToStructureLayout.bounding.width,10),", H: ",parseInt(this.relativeToStructureLayout.bounding.height,10),"\n        "):null),m.apply(this,[c,g,h,i]),this.canBeMovedToFooter()?a.createElement("span",{className:"move-to-footer",key:"moveToFooter",style:this.getMoveToFooterStyle(),onMouseDown:this.moveToFooter},i("OnStage_MoveToFooter_Button"),"\n\n            ",a.createElement(d.symbol,{name:"moveToFooterArrow"})):null,this.props.applyModeFromClipboardSuggestion?a.createElement(d.bubble,{key:"applyModeFromClipboardSuggestion",value:this.getApplyModeFromClipboardSuggestion(),noArrow:true,alignment:d.uiConstants.TOOLTIP.ALIGNMENT.LEFT,closeTriggers:[d.uiConstants.TOOLTIP.TRIGGERS.OUTER_CLICK],hideMethod:this.hideApplyModeFromClipboardSuggestion,targetNode:this.refs.boundingDiv}):null])}return function(){return n.apply(this,[])}});define("rEditor/rootComps/selectionBox/editBox",["reactDOM","react","lodash","core","baseUI","experiment","rEditor/utils/mouseMoveActions/baseResize","rEditor/utils/mouseMoveActions/pageResize","rEditor/utils/mouseMoveActions/baseResizeAndPush","rEditor/utils/mouseMoveActions/baseRotate","rEditor/utils/mouseMoveActions/baseDoubleClick","rEditor/utils/mouseMoveActions/baseDragAndPush","rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion","util","pLoader!santa:utils","rEditor/rootComps/selectionBox/selectionBoxCommons","rEditor/rootComps/selectionBox/editBox.rt","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){"use strict";var r=21;var s=["SITE_HEADER","SITE_FOOTE/**/R"];var t=800;var u={px:"px",pct:"%",vw:"%"};var v=["TOP_LEFT","TOP","TOP_RIGHT","RIGHT","BOTTOM_RIGHT","BOTTOM","BOTTOM_LEFT","LEFT"];var w=["top-left-resize-cursor","top-resize-cursor","top-right-resize-cursor","right-resize-cursor","bottom-right-resize-cursor","bottom-resize-cursor","bottom-left-resize-cursor","left-resize-cursor"];var x="platform.components.AppController";function y(a){return c.some(a,function(a){return c.includes(s,a.id)})}function z(a,b){return c.some(b,function(b){var c=a.components.getType(b);return c===o.constants.POPUP.POPUP_CONTAINER.COMPONENT_TYPE})}function A(a,b){var c=a.components.layout.getRelativeToScreen(b);if(a.components.layout.isShowOnFixedPosition(b)){c.y+=a.editorConfig.previewPosition.top;c.bounding.y+=a.editorConfig.previewPosition.top;c.x+=a.editorConfig.previewPosition.left;c.bounding.x+=a.editorConfig.previewPosition.left}return c}function B(a,b,c,d){if(a.isMobileEditor()||a.isCurrentPageLandingPage()||a.components.layout.isShowOnFixedPosition(b)){return false}var e=a.siteSegments.getPagesContainer();var f=a.components.layout.getRelativeToScreen(e);var g=f.y+f.height-(c.bounding.y+c.bounding.height);var h=g>=0&&g<=r;return h&&!d&&a.components.canShowOnAllPages(b)&&!a.text.isEditingText()}function C(a,b){return a.getCompRestrictions(a.components.is.page(b)?a.siteSegments.getPagesContainer():b)}function D(a){if(!a||!c.isUndefined(a.left.px)&&a.left.px!==0){return false}return a.left.vw===0}return b.createClass({displayName:"editBox",mixins:[d.mixins.editorAPIMixin],propTypes:{selectedComponents:b.PropTypes.oneOfType([b.PropTypes.object,b.PropTypes.arrayOf(b.PropTypes.object)]).isRequired,focusedContainer:b.PropTypes.object,isPinMode:b.PropTypes.bool,isConnected:b.PropTypes.bool,isDim:b.PropTypes.bool,isResizing:b.PropTypes.bool,isDragging:b.PropTypes.bool,isRotating:b.PropTypes.bool},prepareData:function(a){var b=this.getEditorAPI();this.layout=A.call(this,b,a.selectedComponents);this.relativeToStructureLayout=b.components.layout.getRelativeToStructure(a.selectedComponents);this.isShowOnAllPages=b.components.isShowOnAllPages(a.selectedComponents);this.possibleLayoutActionsMap=C(b,a.selectedComponents);this.isHorizontallyStretchedToScreen=b.components.layout.isHorizontallyStretchedToScreen(a.selectedComponents)},componentWillMount:function(){this.prepareData(this.props)},getEditBoxClasses:function(){return{"edit-box":true,"edit-box-for-pin-mode":this.props.isPinMode,"edit-box-dim":this.props.isDim,movable:this.possibleLayoutActionsMap.horizontallyMovable||this.possibleLayoutActionsMap.verticallyMovable,"show-move-to-footer-button":this.shouldShowMoveToFooterButton,horizontallyStretched:this.isHorizontallyStretchedToScreen,"full-stretched":this.isHorizontallyStretchedToScreen&&D(this.layout.docked),dragging:this.props.isDragging,resizing:this.props.isResizing,rotating:this.props.isRotating,"small-width-component":this.layout.width<=50,"multi-select":this.isMultiselect()}},getLayoutStyle:function(a){a=a||this.layout;var b="rotate("+a.rotationInDegrees+"deg)";var c={position:p.getPosition(this.getEditorAPI(),this.props.selectedComponents),top:a.y-1,left:a.x-1,width:a.width,height:a.height,transform:b,WebkitTransform:b};if(this.isColumnsContainer()){c.boxSizing="border-box";c.height+=1}if(f.isOpen("se_editBoxPerformance")){var d="translate3d("+(a.x-1)+"px,"+(a.y-1)+"px,0) "+b;c.left=0;c.top=0;c.transform=d;c.WebkitTransform=d}return c},isComponentRotated:function(){return this.layout.rotationInDegrees!==0},getMoveToFooterStyle:function(a){a=a||this.layout;var b=a.bounding.y+a.bounding.height;var c=a.bounding.x+a.bounding.width/2;return{top:b-14,left:c}},getBoundingStyle:function(a){return p.getBoundingStyle(this.getEditorAPI(),a||this.layout,this.props.selectedComponents,1)},shouldShowPadding:function(){var a=f.isOpen("se_screenWidthEditBox");return a&&this.isHorizontallyStretchedToScreen},getPaddingStyle:function(){var a=this.getEditorAPI().components.layout.isShowOnFixedPosition(this.props.selectedComponents)?"fixed":"absolute";var b={top:this.layout.y-1,height:this.layout.height+2,position:a};var c={top:0,bottom:0,left:0,width:this.layout.x};var d={top:0,bottom:0,left:this.layout.x+this.layout.width,right:0};return{wrapper:b,left:c,right:d}},componentWillReceiveProps:function(a){this.prepareData(a);var b=this.getEditorAPI();if(this.props.isResizing||this.props.isRotating||this.props.isPinMode||!b.utils.isSameRef(this.props.selectedComponents,a.selectedComponents)){this.shouldShowMoveToFooterButton=false}else if(this.props.isDragging){this.shouldShowMoveToFooterButton=B(b,a.selectedComponents,this.layout,this.isShowOnAllPages)}},getResizeHandleCursorClass:function(a){var b=c.indexOf(v,a);var d=this.layout.rotationInDegrees+22.5;if(d>=360){d-=360}var e=Math.floor(d/45);var f=b+e;if(f>=w.length){f-=w.length}var g=w[f];return g},getAllowedKnobsMap:function(){var a=this.getEditorAPI();var b=this.props.selectedComponents;var d=this.possibleLayoutActionsMap;var e=a.components.layout.RESIZE_SIDES;var f=c.difference(d.resizeableSides,d.disabledKnobs);var g=z(a,b);return{top:c.includes(f,e.TOP)&&!y(b),bottom:c.includes(f,e.BOTTOM)&&!y(b),left:c.includes(f,e.LEFT),right:c.includes(f,e.RIGHT),dragAndPush:a.multiselect.containsSiblingsOnly(b)&&(d.verticallyMovable||d.canMoveUp)&&!a.components.layout.isPinned(b)&&d.anchorableFrom,resizeOnlyProportionally:d.resizeOnlyProportionally,resizeAndPush:!a.multiselect.isMultiselect(b)&&d.verticallyResizable&&!a.components.layout.isPinned(b)&&!g,rotate:d.rotatable&&!a.components.layout.isPinned(b),bottomPage:this.isPageContainerSelected()||this.isFooterContainerSelected()}},startPageResize:function(a){var b=this.getEditorAPI();b.registerMouseMoveAction(h,{evt:a,comps:this.props.selectedComponents});this.hidePageResizeKnobTooltip();a.stopPropagation()},resetPageSize:function(a){var b=this.getEditorAPI();h.reset();b.bi.event(d.bi.events.pageResize.PAGE_MIN_HEIGHT_RESET_MIN_HEIGHT);a.stopPropagation()},startResize:function(a){var b=this.getEditorAPI();var c=a.target.getAttribute("data-direction-name");b.registerMouseMoveAction(g,{evt:a,directionName:c,comps:this.props.selectedComponents});var e=b.multiselect.isMultiselect(this.props.selectedComponents)?"multiselect":b.getComponentType(this.props.selectedComponents);b.bi.event(d.bi.events.editBox.RESIZE,{origin:"editBox",handle_value:c,component_type:e});a.stopPropagation()},startRotate:function(a){this.getEditorAPI().registerMouseMoveAction(j,{evt:a,comps:this.props.selectedComponents});a.stopPropagation()},cancelRotation:function(a){var b=this.getEditorAPI();b.selection.setIsMouseUpSelectionEnabled(false);b.components.layout.update(this.props.selectedComponents,{rotationInDegrees:0});b.bi.event(d.bi.events.editBox.CANCEL_ROTATE_COMPONENT);b.history.add("Rotation canceled");a.stopPropagation()},canBeMovedToFooter:function(){var a=this.getEditorAPI();var b=!a.components.is.groupedComponent(this.props.selectedComponents);var c=a.multiselect.areComponentsOfSamePage(this.props.selectedComponents);return b&&c},startDragAndPush:function(a){var b=this.getEditorAPI();var c=b.components.is.page(this.props.selectedComponents)?[b.siteSegments.getPagesContainer()]:b.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(this.props.selectedComponents);b.registerMouseMoveAction(l,{evt:a,comps:c});b.bi.event(d.bi.events.editBox.DRAG_BY_HANDLE,{component_type:b.getComponentType(this.props.selectedComponents)});this.hideKnobTooltip("dragWithAnchorsVerticalTooltip");a.stopPropagation()},startResizeAndPush:function(a){var b=this.getEditorAPI();b.registerMouseMoveAction(i,{evt:a,comps:this.props.selectedComponents});b.bi.event(d.bi.events.editBox.RESIZE_BY_HANDLE,{component_type:b.getComponentType(this.props.selectedComponents)});this.hideKnobTooltip("resizeWithAnchorsBottomTooltip");a.stopPropagation()},onDoubleClick:function(a){var b=this.getEditorAPI();if(b.selection.isMultiSelectKeyPressed(a)){return}var c={evt:a,comp:this.props.selectedComponents};k.doubleClick(b,c)},showKnobTooltip:function(a){if(!this.props.isResizing&&!this.props.isDragging){this.showTooltipTimeout=window.setTimeout(function(){e.tooltipManager.show(a)},t)}},hideKnobTooltip:function(a){if(this.showTooltipTimeout){window.clearTimeout(this.showTooltipTimeout);this.showTooltipTimeout=null}e.tooltipManager.hide(a)},showDragWithAnchorsKnobTooltip:function(){this.showKnobTooltip("dragWithAnchorsVerticalTooltip")},showResizeWithAnchorsKnobTooltip:function(){this.showKnobTooltip("resizeWithAnchorsBottomTooltip")},showPageResizeKnobTooltip:function(){this.showKnobTooltip("pageResizeKnobTooltip")},hidePageResizeKnobTooltip:function(){this.hideKnobTooltip("pageResizeKnobTooltip")},hideDragWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("dragWithAnchorsVerticalTooltip")},hideResizeWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("resizeWithAnchorsBottomTooltip")},moveToFooter:function(a){var b=this.getEditorAPI();var c=b.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(this.props.selectedComponents);b.components.moveToFooter(c);b.bi.event(d.bi.events.editBox.MOVE_TO_FOOTER,{component_type:b.getComponentType(this.props.selectedComponents)});this.shouldShowMoveToFooterButton=false;a.stopPropagation()},hasSubComponents:function(){return this.getEditorAPI().components.is.group(this.props.selectedComponents)||this.isColumnsContainer()||this.isMultiselect()},isColumnsContainer:function(){var a="wysiwyg.viewer.components.StripColumnsContainer";var b=this.props.selectedComponents;return this.getEditorAPI().components.getType(b)===a},getSubComponentStyle:function(a){var b=A.call(this,this.getEditorAPI(),a);return this.getLayoutStyle(b)},getSubComponents:function(){var a=this.getEditorAPI();if(this.isMultiselect()){return this.props.selectedComponents}return a.components.getChildren(this.props.selectedComponents)},isCompShowOnAllPages:function(a){return this.getEditorAPI().components.isShowOnAllPages(a)},isMultiselect:function(){return this.getEditorAPI().multiselect.isMultiselect(this.props.selectedComponents)},getRotateKnobRect:function(){if(this.layout.rotationInDegrees){return this.refs.cancelRotate&&a.findDOMNode(this.refs.cancelRotate).getBoundingClientRect()}return this.refs.rotate&&a.findDOMNode(this.refs.rotate).getBoundingClientRect()},doesAncestorHaveStates:function(){return!!this.getAncestorCompWithStates()},getAncestorCompWithModes:function(){if(this.isMultiselect()){return null}var a=this.getEditorAPI();var b=c.head([].concat(this.props.selectedComponents));while(b&&!a.components.modes.getModes(b)){b=a.components.getContainer(b)}return b},getMarginLabelTop:function(){return this.layout.height/2-30},getComponentData:function(a){var b=this.getEditorAPI();var d=c.head(a);return b.components.data.get(d)},getLinkedToTooltipId:function(a){if(!a){return"linkedTo"}return"linkedTo-"+a.id},getLinkDescriptionFromData:function(a){if(!a){return""}var c=n.translate("mobile_link_notification_tooltip");var d=n.link.getLinkValueAsString(this.getEditorAPI(),a.link);return b.createElement(e.popoverTemplates.iconAndText,{text:c+" "+d,icon:"mobileCompWithLink",shouldTranslate:false})},shouldShowLinkedToTooltip:function(a,b){var c=this.getEditorAPI();if(c.viewMode.get()!==c.viewMode.VIEW_MODES.MOBILE){return false}if(this.props.isDragging||this.props.isResizing||this.props.isRotating){return false}if(a){return false}if(!b){return false}if(!b.link){return false}return true},getMarginValue:function(a){var b=this.layout.docked&&this.layout.docked[a].px>=0?"px":"vw";return this.layout.docked&&this.layout.docked[a][b]+u[b]},isPageContainerSelected:function(){return this.getEditorAPI().components.is.page(this.props.selectedComponents)},isFooterContainerSelected:function(){return this.getEditorAPI().getComponentType(this.props.selectedComponents)==="FooterContainer"},hideApplyModeFromClipboardSuggestion:function(){this.getEditorAPI().copyPaste.hideApplyModeFromClipboardSuggestion()},getApplyModeFromClipboardSuggestion:function(){var a={text:"HOVER_BOX_PASTE_FROM_CLIPBOARD_MSG_TEXT",linkActionText:"HOVER_BOX_PASTE_FROM_CLIPBOARD_MSG_BUTTON",onLinkClick:function(){this.getEditorAPI().copyPaste.removePastedComponentAndApplyModeFromClipboard()}};return b.createElement(m,a)},shouldShowDragBounding:function(){var a=this.getEditorAPI();var b=c.every(this.props.selectedComponents,function(b){return a.components.getType(b)===x});return this.possibleLayoutActionsMap.movable&&!b},render:q})});define("rEditor/rootComps/compControls/compControls.rt",["react","lodash","rEditor/rootComps/gfpp/gfpp","rEditor/rootComps/selectionBox/focusBox","rEditor/rootComps/selectionBox/editBox","core","experiment"],function(a,b,c,d,e,f,g){"use strict";return function(){return a.createElement("div",{style:{visibility:this.props.siteScale===1?"visible":"hidden"},onMouseEnter:this.props.clearHoverBox},this.props.panel?a.createElement(f.lazyComponent,b.assign({},{ref:"compPanel",moduleName:this.props.panel.name,key:f.lazyComponent.isLoaded(this.props.panel.name)?this.props.panel.name:"loading",onLoad:this.forceUpdate.bind(this)},this.getPanelProps())):null,this.getColumnsContainer()?a.createElement(f.lazyComponent,b.assign({},{moduleName:"columnsControls",key:"columnsControls"},this.getColumnsControlsProps())):null,this.shouldShowFocusBox()?a.createElement(d,{key:"focusBox-"+this.props.focusedContainer.id,ref:"focusBox",navControlsStyle:this.state.navControlsStyle,focusedContainer:this.props.focusedContainer,selectedComponents:this.props.selectedComponents,tabIndicationState:this.props.tabIndicationState}):null,this.shouldShowAttachFocusBox()?a.createElement(d,{key:"attachFocusBox",navControlsStyle:this.state.attachCandidateNavControlsStyle,focusedContainer:this.props.attachCandidate,selectedComponents:this.props.selectedComponents}):null,this.shouldRenderEditBox()?a.createElement(e,{ref:"editBox",key:"editBox",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,isPinMode:this.props.isPinMode,isDim:this.isDesignPanelOpen(),isConnected:this.isConnected(),selectedComponents:this.props.selectedComponents,focusedContainer:this.props.focusedContainer,performingMouseMoveAction:this.props.performingMouseMoveAction,onContextMenu:this.props.onContextMenu,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion}):null,this.shouldShowGfpp()?a.createElement(c,{key:"gfpp",ref:"gfpp",style:this.state.gfppStyle,selectedComponent:this.props.selectedComponents}):null)}});define("rEditor/rootComps/compControls/compControls",["reactDOM","react","lodash","core","jquery","uiConstants","pLoader!santa:utils","experiment","rEditor/rootComps/compControls/compControls.rt"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d.utils.compControlsMeasurer;var k=["wysiwyg.common.components.anchor.viewer.Anchor"];var l=["wysiwyg.viewer.components.WRichText","wysiwyg.viewer.components.HoverBox","wysiwyg.viewer.components.BoxSlideShow","wysiwyg.viewer.components.StripContainerSlideShow",g.constants.POPUP.POPUP_CONTAINER.COMPONENT_TYPE];var m=3;var n={top:0,bottom:0,left:0,right:0};function o(a,b,c){c=c||0;return Math.abs(a-b)<=c}function p(a,b){return Math.ceil(a-b+m)}function q(a,b){if(!b){return n}var c={top:p(a.y,b.top),bottom:p(b.bottom,a.y+a.height),left:p(a.x,b.left),right:p(b.right,a.x+a.width)};return c}function r(a){var b=a.siteSegments.getPagesContainer();return a.components.layout.getRelativeToScreen(b).x}function s(a,b){var d=!c.isEqual(a.hoveredComp,b.hoveredComp);var e=!c.isEqual(a.selectedComponents,b.selectedComponents);var f=!b.performingMouseMoveAction||a.performingMouseMoveAction!==b.performingMouseMoveAction;return f&&(!d||e)}function t(a,b,c,e,g){var h=!b.fixedPosition;var i=d.utils.stageUtils.getViewPort(h,c);if(g){i.y=h?d.utils.scrollUtils.getScroll().scrollTop+f.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS:f.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS}return i||{}}function u(a,b,d,e){var f=this.getEditorAPI();var g;var i=c.head(this.props.selectedComponents).id;var k={id:i,layout:a};if(h.isOpen("se_platform1")){var l=c.head(this.props.selectedComponents);var m=l&&f.platform.controllers.connections.get(l);k=!l?{}:{id:l.id,layout:a,hasLabels:!c.isEmpty(m)}}if(this.isCompRequiresCustomGfppPos(a,this.props.selectedComponents)){g=this.props.lastSelectionClickPos}var n=f.getLeftBarButtonsBoundingRect();var o=this.props.focusedContainer&&this.props.focusedContainer.id!==this.props.selectedComponents[0].id;var p=this.refs.focusBox?this.refs.focusBox.getNavControlsSize():null;var q=this.props.focusedContainer&&this.getBoundingLayoutRelativeToScreen(this.props.focusedContainer);var s=this.props.focusedContainer?{id:this.props.focusedContainer.id,layout:q}:null;var u=t(q,a,n,o,p);var v={gfppSize:d,viewPort:u,navControlsSize:p,pageXBoundary:r(f),rotateKnobMargins:e,alignToPageBoundaries:f.viewMode.get()===f.viewMode.VIEW_MODES.MOBILE};return j.getCompControlsPositions(s,b,k,v,g)}return b.createClass({displayName:"compControls",mixins:[d.mixins.editorAPIMixin],propTypes:{panel:b.PropTypes.shape({name:b.PropTypes.string,props:b.PropTypes.object}),isDragging:b.PropTypes.bool,isResizing:b.PropTypes.bool,isRotating:b.PropTypes.bool,isSectionDragging:b.PropTypes.bool,selectedComponents:b.PropTypes.arrayOf(b.PropTypes.object).isRequired,focusedContainer:b.PropTypes.object,hoveredComp:b.PropTypes.oneOfType([b.PropTypes.bool,b.PropTypes.object]),clearHoverBox:b.PropTypes.func,performingMouseMoveAction:b.PropTypes.bool,lastSelectionClickPos:b.PropTypes.object,onContextMenu:b.PropTypes.func,previewPosition:b.PropTypes.object.isRequired,attachCandidate:b.PropTypes.object},getInitialState:function(){this.panelReady=false;this.lastMeasuredPanelHeight=0;this.throttledSetCompsStyle=c.throttle(this.setCompsStyle,50,{leading:false,trailing:true});return{gfppStyle:{top:0,left:0,visibility:"hidden",position:"absolute"},compPanelStyle:{top:0,left:0,opacity:0,visibility:"hidden"},navControlsStyle:{top:0,left:0},isSelectedComponentConnected:false}},isCompsStyleSet:function(){return!this.props.panel||this.state.compPanelStyle.visibility!=="hidden"&&!!this.lastMeasuredPanelHeight&&this.state.compPanelStyle.left!==0&&this.state.compPanelStyle.top!==0},shouldShowGfpp:function(){return!this.props.isDragging&&!this.props.isResizing&&!this.props.isRotating},getBoundingLayoutRelativeToScreen:function(a){var b=this.getEditorAPI();var d=b.components.layout.getRelativeToScreen(a);return c.assign(d.bounding,{fixedPosition:b.components.layout.isShowOnFixedPosition(a),
rotationInDegrees:d.rotationInDegrees})},getCompControlsStyles:function(a,b,d,e,f){var g=this.getEditorAPI();var h=this.props.panel&&(a||!this.isCompsStyleSet());var i=u.call(this,e,d,b,f);i.gfppStyle.visibility="inherit";i.gfppStyle.visibility="inherit";if(h){i.compPanelStyle.top+=this.props.previewPosition.top;if(c.has(i.compPanelStyle,"left")){i.compPanelStyle.left+=this.props.previewPosition.left}if(!e.fixedPosition){var j=g.ui.scroll.getScroll();i.compPanelStyle.top-=j.scrollTop}c.assign(i.compPanelStyle,this.getPanelStyle())}else{i=c.pick(i,["gfppStyle","navControlsStyle"])}if(e.fixedPosition){i.gfppStyle.top+=this.props.previewPosition.top;if(c.has(i.gfppStyle,"left")){i.gfppStyle.left+=this.props.previewPosition.left}i.gfppStyle.position="fixed"}else{i.gfppStyle.position="absolute"}if(this.props.isPinMode){i.gfppStyle.visibility="hidden"}return i},getPanelStyle:function(){var a={};if(this.panelReady){a.visibility="inherit";a.opacity=1}else{a.visibility="hidden";a.opacity=0}return a},isCompRequiresCustomGfppPos:function(a){var b=this.getEditorAPI();var d=c.includes(l,b.components.getType(this.props.selectedComponents));if(d){return false}var e=f.CUSTOM_GFPP_POS.HEIGHT_TO_APPLY;return a.height>=e},getRotateKnobRect:function(){return this.refs.editBox&&this.refs.editBox.getRotateKnobRect()},isDesignPanelOpen:function(){var a=this.getEditorAPI().panelManager.getOpenPanels();return!!c.find(a,{name:d.constants.componentPanels.design})},getRotateKnobMargins:function(a){if(!a.rotationInDegrees){return n}var b=this.getRotateKnobRect();if(!b){return n}var c=this.getEditorAPI().ui.scroll.getScroll();var d=c.scrollTop-this.props.previewPosition.top;var e=c.scrollLeft-this.props.previewPosition.left;b={top:b.top+d,bottom:b.bottom+d,left:b.left+e,right:b.right+e};return q(a,b)},setCompsStyle:function(b){var d=this.refs.gfpp?this.refs.gfpp.getSize():null;if(this.props.isPinMode){d={width:0,height:0}}if(!d){return}var f=this.refs.compPanel?a.findDOMNode(this.refs.compPanel):null;this.lastMeasuredPanelHeight=f?e(f).height():0;var g=this.getBoundingLayoutRelativeToScreen(this.props.selectedComponents);var h=this.getRotateKnobMargins(g);var i=this.getCompControlsStyles(b,d,f,g,h);if(!this.lastMeasuredPanelHeight){i.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"}}var j=c.pick(this.state,c.keys(i));var k=c.every(i,function(a,b){var d=j[b];return c.every(a,function(a,b){var e=d[b];if(c.isFinite(e)&&c.isFinite(a)){return o(e,a,2)}return c.isEqual(e,a)})});if(!k){this.setState(i)}},onWindowScroll:function(){this.setCompsStyle()},onWindowResize:function(){if(!this.debouncedSetCompsStyle){this.debouncedSetCompsStyle=c.debounce(this.setCompsStyle,200)}this.debouncedSetCompsStyle(true)},shouldShowFocusBox:function(){var a=c.head(this.props.selectedComponents);var b=c.get(this.props,"focusedContainer.id")===a.id;return this.props.focusedContainer&&(!(this.props.performingMouseMoveAction&&b)||c.isEqual(this.getEditorAPI().pages.popupPages.getPopupContainer(),a))},shouldShowAttachFocusBox:function(){return this.getEditorAPI().selection.getParentToFocus([this.props.attachCandidate])},shouldRenderEditBox:function(){if(!this.props.selectedComponents||this.props.isSectionDragging){return false}var a=this.getEditorAPI().components.getType(this.props.selectedComponents);return!c.includes(k,a)},componentDidMount:function(){this.throttledSetCompsStyle();var a=this.getEditorAPI();a.ui.scroll.addListener(this.onWindowScroll);window.addEventListener("resize",this.onWindowResize)},componentWillUnmount:function(){var a=this.getEditorAPI();a.ui.scroll.removeListener(this.onWindowScroll);window.removeEventListener("resize",this.onWindowResize)},componentWillReceiveProps:function(a){var b={};var d=!c.get(a.panel,["props","useLastPanelPosition"]);if(!c.isEqual(this.props.panel,a.panel)&&d){b.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"};if(!a.panel){this.panelReady=false}}var e=!this.getEditorAPI().utils.isSameRef(this.props.selectedComponents,a.selectedComponents);var f=!this.props.performingMouseMoveAction&&a.performingMouseMoveAction;if(e||f){b.gfppStyle={top:0,left:0,visibility:"hidden",position:"absolute"};b.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"}}if(!c.isEmpty(b)){this.setState(b)}},setAttachCandidateNavControlsStyle:function(){var b=this.refs.compPanel?a.findDOMNode(this.refs.compPanel):null;var c=this.getBoundingLayoutRelativeToScreen(this.props.attachCandidate);var e=!c.fixedPosition;var f=this.getEditorAPI().getLeftBarButtonsBoundingRect();var g=d.utils.stageUtils.getViewPort(e,f);var h={id:this.props.attachCandidate.id,layout:c};var i=j.getCompControlsPositions(h,b,h,{viewPort:g});this.setState({attachCandidateNavControlsStyle:i.navControlsStyle})},componentDidUpdate:function(a){if(s(a,this.props)){this.throttledSetCompsStyle()}if(!c.isEqual(a.attachCandidate,this.props.attachCandidate)&&this.shouldShowAttachFocusBox()){this.setAttachCandidateNavControlsStyle()}},onPanelDragEnd:function(a){this.setState({compPanelStyle:a})},onCompPanelLoaded:function(){this.panelReady=true;this.throttledSetCompsStyle()},getPanelProps:function(){return c.assign({onDragEnd:this.onPanelDragEnd,onCompPanelLoaded:this.onCompPanelLoaded,style:this.state.compPanelStyle,selectedComponent:this.props.selectedComponents,compType:this.getEditorAPI().components.getType(this.props.selectedComponents)},this.props.panel.props)},isColumnsContainer:function(a){var b="wysiwyg.viewer.components.StripColumnsContainer";return this.getEditorAPI().components.getType(a)===b},getColumnsContainer:function(){var a=this.props.selectedComponents;if(this.isColumnsContainer(a)){return a}var b=this.getEditorAPI().utils.findAncestorMatchesCondition(a,this.isColumnsContainer);if(b){return this.getEditorAPI().components.asArray(b)}return null},getColumnsControlsProps:function(){return{selectedComponents:this.props.selectedComponents,columnsContainer:this.getColumnsContainer()}},isConnected:function(){if(this.props.selectedComponents.length!==1){return false}var a=this.getEditorAPI();return a.platform.controllers.connections.get(this.props.selectedComponents[0]).length>0},render:i})});define("rEditor/rootComps/attachHighlight/attachHighlight.rt",["react","lodash","experiment"],function(a,b,c){"use strict";return function(){return a.createElement("div",{},c.isOpen("attachImprovements")?a.createElement("div",{key:"attach-highlight",className:"attach-highlight"},a.createElement("div",{className:b({"highlight-container-exp":true,master:this.isShowOnAllPages(),box:this.isBoxContainer()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getBoxPosition()},a.createElement("label",{},this.translateIfNeeded(this.getAttachTranslationKey(this.state.compLabel)))),a.createElement("div",{style:this.getAttachOverlayLayoutStyle(),className:"attach-overlay"})):null,!c.isOpen("attachImprovements")?a.createElement("div",{key:"experiment.isOpen('attachImprovements')",className:b({"highlight-container":true,master:this.isShowOnAllPages()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getPosition()},a.createElement("label",{},this.translateIfNeeded(this.getAttachTranslationKey(this.state.compLabel)))):null)}});define("rEditor/rootComps/attachHighlight/attachHighlight",["react","core","lodash","rEditor/rootComps/attachHighlight/attachHighlight.rt","util","rEditor/rootComps/selectionBox/selectionBoxCommons","experiment"],function(a,b,c,d,e,f,g){"use strict";var h={HeaderContainer:"OnStage_AttachTo_Header",Page:"OnStage_AttachTo_Page",FooterContainer:"OnStage_AttachTo_Footer",Container:"OnStage_AttachTo_Box",HoverBox:"OnStage_AttachTo_Hover_Box",BoxSlideShowSlide:"OnStage_AttachTo_Slide",StripContainerSlideShowSlide:"OnStage_AttachTo_Slide",StripContainer:"OnStage_AttachTo_Strip",Column:"OnStage_AttachTo_Column",PopupContainer:"OnStage_AttachTo_PopUp"};function i(a,b){return a.components.layout.getRelativeToScreen(b)}function j(a){var b=a.selection.getSelectedComponents()[0];return i(a,b)}function k(a,b){var c=a.components.layout.getRelativeToScreen(b);if(a.components.layout.isShowOnFixedPosition(b)){c.y+=a.editorConfig.previewPosition.top;c.bounding.y+=a.editorConfig.previewPosition.top;c.x+=a.editorConfig.previewPosition.left;c.bounding.x+=a.editorConfig.previewPosition.left}return c}function l(a,b){var d=c(b).thru(a.components.getType).thru(function(a){return a.split(".")}).last();if(d==="Column"&&!a.components.getSiblings(b).length){return"StripContainer"}return d}var m={displayName:"attachHighlight",mixins:[b.mixins.editorAPIMixin,e.translationMixin],getInitialState:function(){var a=l(this.getEditorAPI(),this.props.comp);return{compLabel:this.props.comp&&h[a]}},componentWillReceiveProps:function(a){var b=l(this.getEditorAPI(),this.props.comp);this.setState({compLabel:a.comp&&h[b]})},isShowOnAllPages:function(){return this.getEditorAPI().components.isShowOnAllPages(this.props.comp)},getAttachTranslationKey:function(){var a=l(this.getEditorAPI(),this.props.comp);return h[a]},getPosition:function(){var a=this.getEditorAPI();var b=k(a,this.props.comp);var c=f.getPosition(a,this.props.comp);return{top:b.y-2,left:b.x-2,height:b.height,width:b.width,position:c}},render:d};if(g.isOpen("attachImprovements")){c.assign(m,{getBoxPosition:function(){var a=i(this.getEditorAPI(),this.props.comp);return{top:a.y,left:a.x,height:a.height,width:a.width}},getAttachOverlayLayoutStyle:function(){var a=j(this.getEditorAPI());return{top:a.y,left:a.x,width:a.width,height:a.height}},isBoxContainer:function(){return this.getEditorAPI().components.getType(this.props.comp)==="mobile.core.components.Container"}})}return a.createClass(m)});define("rEditor/rootComps/constraintArea/constraintArea.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:"negative-constraint-indication constraint-area",style:this.getPosition()},a.createElement("div",{className:"box"},a.createElement("label",{},this.translateIfNeeded("mobilemenu_Settings_fixed_area_label"))))}});define("rEditor/rootComps/constraintArea/constraintArea",["react","core","lodash","util","rEditor/rootComps/constraintArea/constraintArea.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"constraintArea",mixins:[b.mixins.editorAPIMixin,d.translationMixin],getPosition:function(){var a=this.props.area;return{top:a.top,left:a.left,height:a.height,width:a.width}},render:e})});define("rEditor/rootComps/snapLayer/snapLayer.rt",["react","lodash"],function(a,b){"use strict";function c(c,d){return a.createElement("rect",{className:b({"show-on-all-pages":c.isShowOnAllPages}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),x:c.x,y:c.y,height:c.height,width:c.width,key:"rectDrawData"+d})}function d(b,c){return a.createElement("line",{x1:b[0].x,y1:b[0].y,x2:b[1].x,y2:b[1].y,key:"snapLine"+c})}return function(){return this.props.snapData?a.createElement("div",{className:"snap-layer",key:"layer"},a.createElement.apply(this,["svg",{},b.map(this.getRectanglesDrawData(),c.bind(this)),b.map(this.getLines(),d.bind(this))])):null}});define("rEditor/rootComps/snapLayer/snapLayer",["react","lodash","rEditor/rootComps/snapLayer/snapLayer.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"snapLayer",propTypes:{snapData:a.PropTypes.array},getRectanglesDrawData:function(){var a=b.flatMap(this.props.snapData,"rectanglesDrawData");return a},getLines:function(){return b.map(this.props.snapData,"line")},render:c})});define("rEditor/rootComps/anchor/anchor.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";return function(){return a.createElement("div",{className:"anchorWrapper",style:{top:this.getTopPosition()}},a.createElement("div",{className:"anchor-line before"}),a.createElement("div",{className:"anchor "+(this.props.isSelected?"anchor-selected":"")},a.createElement("div",{className:"anchorContent",onMouseDown:this.onMouseDown,onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},a.createElement(c.symbol,{className:"anchorIcon",name:"anchor"}),a.createElement("div",{className:"anchorName"},this.getAnchorName()),a.createElement(c.symbol,{className:"rightIcon",name:this.isLocked()?"anchorLock":"anchorDragHandle"}))),a.createElement("div",{className:"anchor-line after-with-sections-reorganize"}))}});define("rEditor/rootComps/anchor/anchor",["react","lodash","core","rEditor/utils/mouseMoveActions/baseDoubleClick","rEditor/rootComps/anchor/anchor.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"anchor",propTypes:{compRef:a.PropTypes.object.isRequired,isSelected:a.PropTypes.bool.isRequired},mixins:[c.mixins.editorAPIMixin],getInitialState:function(){this.editorAPI=this.getEditorAPI();return{}},getAnchorName:function(){var a=this.editorAPI.components.data.get(this.props.compRef);return a.name},onDoubleClick:function(a){var b={evt:a,comp:[this.props.compRef]};d.doubleClick(this.getEditorAPI(),b)},getTopPosition:function(){return this.editorAPI.components.layout.getRelativeToStructure(this.props.compRef).y},isLocked:function(){return false},render:e})});define("rEditor/rootComps/anchor/anchorsContainer.rt",["react","lodash","rEditor/rootComps/anchor/anchor"],function(a,b,c){"use strict";function d(b,d){return a.createElement(c,{key:"anchor"+d,compRef:b,onContextMenu:this.props.onContextMenu,isSelected:this.isSelectedComp(b)})}return function(){return a.createElement.apply(this,["div",{className:b({"anchors-container":true,"mobile-editor":this.editorAPI.isMobileEditor()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},b.map(this.getAnchors(),d.bind(this))])}});define("rEditor/rootComps/anchor/anchorsContainer",["react","lodash","core","rEditor/rootComps/anchor/anchorsContainer.rt"],function(a,b,c,d){"use strict";var e="wysiwyg.common.components.anchor.viewer.Anchor";return a.createClass({displayName:"stageComps",mixins:[c.mixins.editorAPIMixin],getInitialState:function(){this.editorAPI=this.getEditorAPI();return{}},getAnchors:function(){var a=this.editorAPI.pages.getReference(this.editorAPI.pages.getFocusedPageId());return this.editorAPI.components.get.byType(e,a)},isSelectedComp:function(a){return this.editorAPI.selection.isComponentSelected(a)},render:d})});define("rEditor/rootComps/selectionBox/hoverBox.rt",["react","lodash","baseUI","rEditor/rootComps/selectionBox/componentLabels","experiment"],function(a,b,c,d,e){"use strict";return function(){return a.createElement("div",{style:this.getHoverBoxStyles(),className:b(this.getClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},e.isOpen("se_platform1")?a.createElement(d,{key:"newComponentLabel",showComponentType:this.shouldShowComponentType(),isConnected:this.isConnectedToData(),infoText:"PLATFORM_ONSTAGE_CONNECTED_ELEMENT_LABEL",isLabelLarge:this.isRootComponent(this.getEditorAPI(),this.props.hoveredComp),isLabelBelowLine:this.isSiteHeaderHovered(this.getEditorAPI(),this.props.hoveredComp),componentType:this.getComponentType(),componentNickname:this.getComponentNickname(),labelInlineStyles:this.getHoverBoxLabelStyles(),showOnAllPages:this.isShownOnAllPages(),isPinnedToPage:this.isCompPinned()}):null,!e.isOpen("se_platform1")?a.createElement("span",{ref:"label",className:b(this.getLabelClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getHoverBoxLabelStyles(),key:"newComponentLabel"},this.isCompPinned()?a.createElement(c.symbol,{name:"pinModeIndicator",key:"pinModeIndicator",className:b(this.getIndicatorClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")}):null,a.createElement("span",{className:"actual-label"},this.getComponentLabel())):null)}});define("rEditor/rootComps/selectionBox/hoverBox",["reactDOM","lodash","react","jquery","core","rEditor/rootComps/selectionBox/hoverBox.rt"],function(a,b,c,d,e,f){"use strict";function g(a,b){var c=a.components.layout.getRelativeToScreen(b);if(a.components.layout.isShowOnFixedPosition(b)){c.y+=a.editorConfig.previewPosition.top;c.bounding.y+=a.editorConfig.previewPosition.top;c.x+=a.editorConfig.previewPosition.left;c.bounding.x+=a.editorConfig.previewPosition.left}return c}function h(a,b){return a.outerWidth()/b.outerWidth()<2}function i(a,b){var c=e.utils.stageUtils.getViewPort();return a.offset().left-b.width()>c.x}function j(a,b){return b.id==="SITE_FOOTER"||b.id==="SITE_HEADER"||b.id===a.pages.getFocusedPageId()}function k(a,b){if(h(a,b)){if(i(a,b)){return l.LEFT}return l.RIGHT}return l.INNER}var l={INNER:"inner",LEFT:"left",RIGHT:"right"};var m=2;return c.createClass({displayName:"hoverBox",mixins:[e.mixins.editorAPIMixin],getInitialState:function(){return{labelPosition:l.INNER,shouldCalculateLabelPosition:true}},componentWillMount:function(){this.isMovable=this.getEditorAPI().components.is.verticallyMovable(this.props.hoveredComp)||this.getEditorAPI().components.is.horizontallyMovable(this.props.hoveredComp)},componentDidMount:function(){if(this.state.shouldCalculateLabelPosition){var b=d(a.findDOMNode(this));var c=d(a.findDOMNode(this.refs.label));this.setState({labelPosition:k(b,c),shouldCalculateLabelPosition:false})}},componentDidUpdate:function(){if(this.state.shouldCalculateLabelPosition){var b=d(a.findDOMNode(this));var c=d(a.findDOMNode(this.refs.label));this.setState({labelPosition:k(b,c),shouldCalculateLabelPosition:false})}},componentWillReceiveProps:function(a){if(a.hoveredComp.id!==this.props.hoveredComp.id){this.isMovable=this.getEditorAPI().components.is.verticallyMovable(a.hoveredComp)||this.getEditorAPI().components.is.horizontallyMovable(a.hoveredComp);this.setState({shouldCalculateLabelPosition:true})}},isRootComponent:function(a,b){return b.id==="SITE_FOOTER"||b.id==="SITE_HEADER"||b.id===a.pages.getFocusedPageId()},isSiteHeaderHovered:function(a,b){return b.id==="SITE_HEADER"},isConnectedToData:function(){var a=this.getEditorAPI();var b=a.platform.controllers.connections.get(this.props.hoveredComp);return b.length>0},isHoveredSelectedComp:function(){var a=this.getEditorAPI();var b=a.selection.getSelectedComponents();return a.utils.isSameRef(b,this.props.hoveredComp)},isConnectedToControllers:function(a){var b=a.platform.controllers.connections.get(this.props.hoveredComp);return b.length>0},getComponentLabel:function(){var a=this.getEditorAPI();var b=a.selection.getSelectedComponents();var c=a.utils.isSameRef(b,this.props.hoveredComp);var d=a.components.getDisplayName(this.props.hoveredComp);if(a.developerMode.isEnabled()){d+=" "+this.getComponentNickname()}return c?"":d},getComponentType:function(){return this.isHoveredSelectedComp()?"":this.getEditorAPI().components.getDisplayName(this.props.hoveredComp)},getComponentNickname:function(){var a=this.getEditorAPI().components.getNickname(this.props.hoveredComp);return this.isHoveredSelectedComp()||!a?"":"#"+a},getHoverBoxStyles:function(){var a=g(this.getEditorAPI(),this.props.hoveredComp);var c={top:a.y-1,left:a.x-1,width:a.width,height:a.height};if(a.rotationInDegrees){var d="rotate("+a.rotationInDegrees+"deg)";b.assign(c,{transform:d,WebkitTransform:d})}var e=this.getEditorAPI().components.is.fullWidth(this.props.hoveredComp);if(e){b.assign(c,{borderLeft:0,borderRight:0})}return c},getClasses:function(){var a=this.getEditorAPI();var b=this.props.hoveredComp;var c={"hover-box":true,"show-on-all-pages":a.components.isShowOnAllPages(b),"fixed-position":a.components.layout.isShowOnFixedPosition(b),overlay:this.props.overlay};return c},isShownOnAllPages:function(){var a=this.getEditorAPI();return a.components.isShowOnAllPages(this.props.hoveredComp)},getHoverBoxLabelStyles:function(){var a=this.getEditorAPI();if(a.components.is.fullWidth(this.props.hoveredComp)){var b=a.isMobileEditor()?0:a.siteSegments.getPagesContainerAbsLayout().x+m;return{left:b}}},getLabelClasses:function(){var a=j(this.getEditorAPI(),this.props.hoveredComp);return{"comp-label":true,"label-large":a,"label-inner":!a&&this.state.labelPosition===l.INNER,"label-left":!a&&this.state.labelPosition===l.LEFT,"label-right":!a&&this.state.labelPosition===l.RIGHT}},getIndicatorClasses:function(){return{"show-on-all-pages":this.getEditorAPI().components.isShowOnAllPages(this.props.hoveredComp)}},shouldShowComponentType:function(){return this.props.hoveredComp&&!(this.getEditorAPI().developerMode.isEnabled()&&this.isConnectedToData())},isCompPinned:function(){return this.getEditorAPI().components.layout.isPinned(this.props.hoveredComp)&&!this.isHoveredSelectedComp()},render:f})});define("rEditor/rootComps/selectionBox/overlay.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:b({overlay:true,visible:this.state.shouldShowOverlay}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getStyles()},"\n    ",this.getOverlay(),"\n")}});define("rEditor/rootComps/selectionBox/overlay",["react","lodash","core","rEditor/rootComps/selectionBox/overlay.rt"],function(a,b,c,d){"use strict";function e(a,b){if(a[b]){return{transitionDuration:(a[b].duration||0)+"ms",transitionDelay:(a[b].delay||0)+"ms"}}return{}}function f(){return this.leaveAnimationId?"leave":"enter"}return a.createClass({displayName:"overlay",mixins:[c.mixins.editorAPIMixin],getInitialState:function(){return{shouldShowOverlay:false}},overlayProps:{},getOverlay:function(){return this.getEditorAPI().components.is.getOverlay(this.state.hoveredComp)||""},getStyles:function(){this.overlayProps=this.getEditorAPI().components.is.getOverlayProperties(this.state.hoveredComp);return this.overlayProps?e(this.overlayProps,f.call(this)):{}},componentWillReceiveProps:function(a){var b=a.hoveredComp&&this.getEditorAPI().components.is.shouldBeOverlayed(a.hoveredComp);if(this.state.hoveredComp&&!this.getEditorAPI().components.is.exist(this.state.hoveredComp)){this.setState({shouldShowOverlay:false,hoveredComp:null});return}if(!this.getEditorAPI().overlay.shouldUpdate()){return}if(b){this.componentWillEnter(a.hoveredComp)}else if(this.state.shouldShowOverlay){this.componentWillLeave()}else{return}this.setState({shouldShowOverlay:b})},componentWillEnter:function(a){if(this.leaveAnimationId){this.leaveAnimationId=window.clearTimeout(this.leaveAnimationId)}this.setState({hoveredComp:a})},componentWillLeave:function(){this.leaveAnimationId=window.setTimeout(this.componentHasLeft,this.overlayProps.leave.duration)},componentHasLeft:function(){this.leaveAnimationId=null;this.setState({hoveredComp:null})},render:d})});define("rEditor/rootComps/lasso/lasso.rt",["react","lodash"],function(a,b){"use strict";function c(c,d){return a.createElement("rect",b.assign({},{className:b({"lasso-candidate":true,"show-on-all-pages":this.getEditorAPI().components.isShowOnAllPages(c.component)}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:d},c.layout.bounding))}return function(){return a.createElement("div",{className:"lasso-layer"},a.createElement.apply(this,["svg",{className:"lasso-highlights"},a.createElement("rect",b.assign({},{className:"lasso-rect"},this.props.lassoLayout)),b.map(this.props.candidates,c.bind(this))]))}});define("rEditor/rootComps/lasso/lasso",["react","lodash","core","rEditor/rootComps/lasso/lasso.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"lasso",mixins:[c.mixins.editorAPIMixin],propTypes:{lassoLayout:a.PropTypes.shape({x:a.PropTypes.number,y:a.PropTypes.number,width:a.PropTypes.number,height:a.PropTypes.number}),candidates:a.PropTypes.arrayOf(a.PropTypes.shape({component:a.PropTypes.object,layout:a.PropTypes.object}))},render:d})});define("rEditor/rootComps/mouseCatcher.rt",["react","lodash","uiConstants","rEditor/rootComps/compControls/compControls","rEditor/rootComps/attachHighlight/attachHighlight","rEditor/rootComps/constraintArea/constraintArea","rEditor/rootComps/snapLayer/snapLayer","rEditor/rootComps/anchor/anchorsContainer","rEditor/rootComps/selectionBox/hoverBox","rEditor/rootComps/selectionBox/overlay","rEditor/rootComps/lasso/lasso"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(){var b=this.getMarginsIndicatorStyles(this.getCompToShowMarginsIndicator());return a.createElement("div",{key:"marginsIndicator",className:"margins-indicator",style:b.indicator},b.marginLeft?a.createElement("div",{key:"leftMarginIndicator",className:"left",style:{width:b.marginLeft}}):null,b.marginRight?a.createElement("div",{key:"rightMarginIndicator",className:"right",style:{width:b.marginRight}}):null)}return function(){return a.createElement("div",{className:b({parentSizeAbs:true,mouseCatcher:true,draggable:this.isCompDraggable()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onDoubleClick:this.onDoubleClick,onContextMenu:this.props.onContextMenu,onMouseMove:this.onMouseMove,onMouseLeave:this.clearHoverBox},a.createElement(j,{hoveredComp:this.props.hoveredComp}),this.props.constraintArea?a.createElement(f,{key:"constraintArea",area:this.props.constraintArea}):null,this.props.attachCandidate?a.createElement(e,{key:"attachHighlight",comp:this.props.attachCandidate}):null,this.props.lassoLayout?a.createElement(k,{key:"lassoLayout",lassoLayout:this.props.lassoLayout,candidates:this.props.lassoCandidates}):null,this.props.siteScale===1&&this.props.hoveredComp&&this.getEditorAPI().components.is.exist(this.props.hoveredComp)&&!this.props.isPinMode?a.createElement(i,{overlay:this.props.hoverBoxOverlay,hoveredComp:this.props.hoveredComp,key:"hoverBox"}):null,this.props.siteScale===1&&this.props.selectedComponents?a.createElement(d,{key:"compControls",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,performingMouseMoveAction:this.props.performingMouseMoveAction,selectedComponents:this.props.selectedComponents,focusedContainer:this.props.focusedContainer,hoveredComp:this.props.hoveredComp,clearHoverBox:this.clearHoverBox,lastSelectionClickPos:this.props.lastSelectionClickPos,panel:this.props.compPanel,previewPosition:this.props.previewPosition,siteScale:this.props.siteScale,isPinMode:this.props.isPinMode,onContextMenu:this.props.onContextMenu,isSectionDragging:this.props.isSectionDragging,attachCandidate:this.props.attachCandidate,tabIndicationState:this.props.tabIndicationState,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion}):null,a.createElement(g,{key:"snapLayer",snapData:this.props.snapData}),!this.props.previewMode&&this.props.editorIsInit&&!this.props.isPinMode?a.createElement(h,{key:"anchorsContainer",onContextMenu:this.props.onContextMenu}):null,this.showMarginsIndicator()?l.apply(this,[]):null)}});define("rEditor/utils/mouseMoveActions/baseDrag",["core","lodash","rEditor/utils/mouseMoveActions/mouseMoveActionTypes","experiment"],function(a,b,c,d){"use strict";var e=15;var f=a.utils.AttachHandler;var g=a.utils.AttachHandlerExperimentAttachImprovements;var h=a.utils.SnapToHandler;var i=a.utils.layoutTransitionsUtil;var j=a.utils.DragConstraintsHandler;var k;var l;var m;var n;var o;var p={top:true,right:true,bottom:true,left:true,centerX:true,centerY:true};var q=false;var r=false;var s=false;var t;var u,v,w,x,y,z,A;function B(a){q=s&&(q||(Math.abs(a.pageX-v.x)>2||Math.abs(a.pageY-v.y)>2));return q}function C(a){if(x){var b=x.getClosestLayoutDistance(u,a.bounding,p);if(Math.abs(b.x)<5){a.x+=b.x;a.bounding.x+=b.x}if(Math.abs(b.y)<5){a.y+=b.y;a.bounding.y+=b.y}}}function D(a){a.x-=a.x%5;a.y-=a.y%5}function E(a){if(x){var b=x.getSnapData(a.bounding,p);u.snapData.set(b)}}function F(a){var c=b.some(a,function(a){return u.components.is.groupedComponent(a)});return!c}function G(a){return b.map(a,function a(b){var c={component:b,attachUtil:new f(u,{comp:b,layout:u.components.layout.getRelativeToScreen(b)},f.TYPES.COMP)};return c})}function H(a){var b=w?w:v;return{x:Math.abs(b.x-a.x),y:Math.abs(b.y-a.y)}}function I(a){var b=H(a);return b.x>e||b.y>e}function J(){return m&&!u.multiselect.isMultiselect(l)}function K(){if(!m){return}var a=[];var c=b.map(o,"component");var d=b.map(o,function b(d){var e=d.attachUtil.getCurrentAttachCandidate(null,c);var f=d.component;if(e){var g=u.components.setContainer(f,e);a.push(e);return g}return f});u.selection.selectComponentByCompRef(d)}function L(a){if(!m){return}var b={x:a.clientX,y:a.clientY};var c=n.getCurrentAttachCandidate(null,b);if(c){var d=u.components.setContainer(l,c);u.selection.selectComponentByCompRef(d)}}function M(a,c){u=u||a;q=false;l=c.selectedComp;v=c.initMousePosition;w=null;y=u.components.is.horizontallyMovable(c.selectedComp);z=u.components.is.verticallyMovable(c.selectedComp);A=u.components.layout.getRelativeToScreen(l);if(!c.initMousePosition){s=false;return}s=true;var e=u.components.layout.getRelativeToScreen(l);var p=b.map(l,function(a){return u.components.layout.getRelativeToScreen(a)});m=F(l);if(u.multiselect.isMultiselect(l)){o=G(l)}else if(d.isOpen("attachImprovements")){n=new g(u,{layout:e,comp:l},f.TYPES.COMP)}else{n=new f(u,{layout:e,comp:l},f.TYPES.COMP)}t=new j(u,l);x=new h(u,l);k=new i.Drag(A,v,p)}function N(c){var d=a.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(u,c);var e={x:d.pageX,y:d.pageY,isShiftPressed:c.shiftKey};if(B(d)){u.selection.setIsMouseUpSelectionEnabled(false);if(!r){var f=b.map(l,"id");u.renderPlugins.setCompsToShowOnTop(f);r=true}var g=k.getLayout(e);if(u.multiselect.isMultiselect(l)){g=a.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(u,l,g,A)}if(!y){g.x=A.x}if(!z){g.y=A.y}if(c.altKey){D(g)}else if(u.getViewTools().snapToEnabled){if(I(e)){u.snapData.clear()}else{g.bounding=u.utils.getBoundingLayout(g);C(g);E(g)}}if(J()){var h=n.getCurrentAttachCandidate(null,{x:d.clientX,y:d.clientY});n.highlightAttachCandidate(h);t.highlightDragConstraints()}var i=k.getBoundComponentLayouts(g);for(var j=0;j<l.length;j++){u.components.layout.updateRelativeToScreen(l[j],i[j],true)}}w=e}function O(b){var c=a.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(u,b);if(B(c)){if(u.multiselect.isMultiselect(l)){K()}else{L(c);n.clearHighlightAttachCandidate()}t.removeHighlightDragConstraints();x=null;u.snapData.clear();u.waitForChangesApplied(function(){u.history.add("Dragged component")});u.openCompOutOfGridPanelIfNeeded(l)}u.renderPlugins.setCompsToShowOnTop(null);r=false;v=null}return{start:M,on:N,end:O,type:c.DRAG}});define("rEditor/utils/mouseMoveActions/dragAttempt",["lodash","core","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c){"use strict";var d,e,f,g;var h=5;function i(a,b){return a>=h||b>=h}function j(a,b){g=a;d=false;e=b.initMousePosition;f=b.selectedComp}function k(a){var b=Math.abs(a.pageX-e.x);var c=Math.abs(a.pageY-e.y);d=d||i(b,c);if(d){g.selection.setIsMouseUpSelectionEnabled(false)}}function l(){if(d&&g.components.layout.isPinned(f)&&!g.pinMode.isOpened()){g.pinMode.open("on_drag");g.bi.event(b.bi.events.pinToScreen.DRAG_ATTEMPT,{component_type:g.getComponentType(f)})}}return{start:j,on:k,end:l,type:c.DRAG_ATTEMPT}});define("rEditor/utils/lassoMouseMoveActions/lassoDrag",["core","lodash","util","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c,d){"use strict";var e=["SITE_PAGES","PAGES_CONTAINER","SITE_HEADER","SITE_FOOTER"];var f=4;var g;var h;var i;var j;var k;var l;var m;var n;var o;var p;var q=a.utils.mouseCoordinatesHandler;function r(a){if(k){return true}var b=q.fitMouseCoordinatesToViewer(l,a);var c=b.pageY;var d=b.pageX;var e=Math.abs(d-j.x);var g=Math.abs(c-j.y);k=e>f&&g>f;return k}function s(a){var b=q.fitMouseCoordinatesToViewer(l,a);var c=Math.min(b.pageX,j.x);var d=Math.min(b.pageY,j.y);var e=Math.max(b.pageX,j.x);var f=Math.max(b.pageY,j.y);return{x:c,y:d,width:e-c,height:f-d}}function t(a){var b=l.components.layout.getRelativeToScreen(a);if(l.components.getType(a)==="wysiwyg.viewer.components.WRichText"){u(a,b)}return{component:a,layout:b}}function u(a,b){var c=l.components.layout.getEffectiveTextDimensions(a);if(c){b.width=c.width;b.height=c.height;b.bounding.width=c.width;b.bounding.height=c.height;
b.x+=c.dx;b.y+=c.dy;b.bounding.x+=c.dx;b.bounding.y+=c.dy}return b}function v(a){if(l.components.is.fullWidth(a.component)||l.components.layout.isHorizontallyStretchedToScreen(a.component)){return"fullWidth"}return"standard"}function w(a,b){return b.y<=a.bounding.y&&b.y+b.height>=a.bounding.y+a.bounding.height}function x(a,c){l=a;var d=l.pages.getFocusedPageId();n=c.selectedComponents;var f=e.concat(b.map(n,"id"));var q=l.components.getAllComponents(d,function a(c){return!b.includes(f,c.id)&&!l.components.is.page(c)});m=c.prevSelectedComps;o=m!==n&&c.initMousePosition.isSpecialKeyPressed;p=l.selection.isSingleSelectionComponent(n);j=b.clone(c.initMousePosition);k=false;h=[];i=b.pick(j,["x","y"]);g=b(q).map(t).groupBy(v).value()}function y(a){if(r(a)){if(p){l.selection.deselectComponents();p=false}if(o){l.selection.selectComponentByCompRef(m);o=false}i=s(a);h=b.filter(g.standard,function a(b){return c.layoutUtils.isLayoutContainedWithinRect(b.layout.bounding,i)});var d=b.filter(g.fullWidth,function(a){return w(a.layout,i)});h=h.concat(d);l.lasso.setCandidates(h);l.lasso.setLayout(i)}}function z(d){var e=c.browserUtil.isSpecialKeyPressed(d);if(!b.isEmpty(h)){var f=b.map(h,"component");if(f.length>1){f=b.reject(f,l.selection.isSingleSelectionComponent)}if(f.length>1||f.length===1&&m&&m.length>0){l.bi.event(a.bi.events.selection.MULTISELECT,{num_of_elements_selected:f.length,selection_method:"lasso"})}l.closeCompPanelIfExists();if(e){l.selection.addComponentToSelectionByRef(f)}else{l.selection.selectComponentByCompRef(f)}}l.lasso.clear()}return{start:x,on:y,end:z,type:d.LASSO}});define("rEditor/rootComps/mouseCatcher",["reactDOM","react","jquery","lodash","rEditor/rootComps/mouseCatcher.rt","core","util","rEditor/utils/mouseMoveActions/baseDrag","rEditor/utils/mouseMoveActions/dragAttempt","rEditor/utils/lassoMouseMoveActions/lassoDrag"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=["wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.PageGroup","wysiwyg.common.components.anchor.viewer.Anchor"];var l=f.utils.mouseCoordinatesHandler;function m(a,b){if(!p(a,b)){return i}return h}var n=1;function o(a,b){if(a.selection.isHiddenComponentDraggedNext()){return false}if(a.components.is.siteSegment(b)||a.components.is.page(b)){return true}return a.components.is.container(b)&&(!a.selection.isComponentSelected(b)||!a.components.is.movable(b))}function p(a,b){var c=a.getCompDragRestrictions(b);return c.horizontallyMovable||c.verticallyMovable}function q(a,b){var c=a.selection.getComponentUnderClickToBeSelected(b.clientX,b.clientY);return a.selection.isComponentSelected(c)}function r(a,b){var c=a.selection.getSelectedComponents();if(a.selection.isSelectedCompUnderCursorAndBeneathSiteSegment(c,b)){return false}var d=a.selection.getComponentUnderClickToBeSelected(b);var e=g.browserUtil.isSpecialKeyPressed(b);return e||o(a,d)}function s(a,b){var c=a.selection.getSelectedComponents();var e=a.components.getType(b);return(!a.selection.isComponentSelected(b)||a.multiselect.isMultiselect(c))&&!d.includes(k,e)}function t(a){return!!a.editor.state.lassoLayout}function u(a,b){var c=a.components.is.controlledByParent;return d(b).map(function(b){return c(b)?a.utils.findAncestorMatchesCondition(b,d.negate(c)):b}).thru(a.multiselect.getComponentsWhichDontHaveAncestorsInTheArray).value()}return b.createClass({displayName:"mouseCatcher",mixins:[f.mixins.editorAPIMixin],propTypes:{selectedComponents:b.PropTypes.oneOfType([b.PropTypes.object,b.PropTypes.arrayOf(b.PropTypes.object)]),focusedContainer:b.PropTypes.object,config:b.PropTypes.object,onContextMenu:b.PropTypes.func,performingMouseMoveAction:b.PropTypes.bool,hoveredComp:b.PropTypes.object,isDragging:b.PropTypes.bool,isResizing:b.PropTypes.bool,isRotating:b.PropTypes.bool,isPinMode:b.PropTypes.bool,compPanel:b.PropTypes.object,editingAreaLayout:b.PropTypes.object,previewPosition:b.PropTypes.object,previewMode:b.PropTypes.bool.isRequired,attachCandidate:b.PropTypes.object,snapData:b.PropTypes.array,applyModeFromClipboardSuggestion:b.PropTypes.object,tabIndicationState:b.PropTypes.object.isRequired,lastSelectionClickPos:b.PropTypes.object,lassoCandidates:b.PropTypes.array,lassoLayout:b.PropTypes.object,constraintArea:b.PropTypes.object},componentWillMount:function(){this.compsBeforeSelection=null;this.shouldStartDragging=false;this.shouldStartLasso=false;this.initMousePosition=null},componentDidMount:function(){c(a.findDOMNode(this)).on("mouseenter",this.onMouseEnter)},componentWillUnmount:function(){c(a.findDOMNode(this)).off("mouseenter",this.onMouseEnter)},componentWillReceiveProps:function(a){var b=this.getEditorAPI();var c=m(b,a.selectedComponents);if(this.shouldStartDragging&&c){var d=u(b,a.selectedComponents);b.registerMouseMoveAction(c,{initMousePosition:this.initMousePosition,selectedComp:d})}else if(this.shouldStartLasso){b.registerMouseMoveAction(j,{initMousePosition:this.initMousePosition,prevSelectedComps:this.compsBeforeSelection,selectedComponents:a.selectedComponents})}this.shouldStartDragging=false;this.shouldStartLasso=false},onMouseDown:function(a){var b=this.getEditorAPI();g.keyboardShortcuts.enable();var c=l.fitMouseCoordinatesToViewer(b,a);this.initMousePosition={x:c.pageX,y:c.pageY,isShiftPressed:a.shiftKey,isSpecialKeyPressed:g.browserUtil.isSpecialKeyPressed(a),isAltKeyPressed:a.altKey};this.shouldStartLasso=r(b,a);this.shouldStartDragging=!this.shouldStartLasso&&(!b.selection.isMultiSelectKeyPressed(a)||q(b,a));if(b.selection.isHiddenComponentDraggedNext()){b.selection.setIsHiddenComponentDraggedNext(false)}else if(!t(b)){this.compsBeforeSelection=this.props.selectedComponents;b.selection.selectComponentByClick(a);this.shouldStartDragging=this.shouldStartDragging&&b.selection.isComponentExplicitlySelected()}b.closeRightClickMenu();b.panelManager.notifyMouseDown(a)},onMouseUp:function(a){var b=this.getEditorAPI();var c=a.button===2;if(!c){this.deselectClickedCompIfNeeded(a);if(b.selection.getIsMouseUpSelectionEnabled()&&!t(b)){b.selection.selectNonGroupCompUnderCursor(a,this.props.siteScale)}}b.selection.setIsMouseUpSelectionEnabled(false);this.initMousePosition=null;this.shouldStartDragging=false;this.shouldStartLasso=false},onMouseMove:function(a){var b=this.getEditorAPI();var c=l.fitMouseCoordinatesToViewer(b,a);if(!this.props.registeredMouseMoveAction){this.updateHoverBox(a)}b.cursor.updateMousePosition(c.pageX,c.pageY)},onMouseEnter:function(a){if(a.which!==n){this.getEditorAPI().endMouseMoveActionIfNeeded(d.clone(a))}},updateHoverBox:function(a){var b=this.getEditorAPI();b.waitForChangesApplied(function(){var c=b.selection.getComponentToBeMarkedByHoverBox(a);var d=this.props.hoverBoxOverlay;if(!this.props.hoveredComp&&c){if(s(b,c)){this.props.setHoverBox(c,d)}}else if(this.props.hoveredComp&&!c){this.props.clearHoverBox()}else if(this.props.hoveredComp&&c){if(!s(b,c)){this.props.clearHoverBox()}else if(this.props.hoveredComp.id!==c.id){this.props.setHoverBox(c,d)}}}.bind(this))},clearHoverBox:function(){this.props.clearHoverBox()},deselectClickedCompIfNeeded:function(a){var b=this.getEditorAPI();if(b.selection.isMultiSelectKeyPressed(a)&&this.initMousePosition){var c=b.selection.getComponentUnderClickToBeSelected(a);var e=!!d.find(this.compsBeforeSelection,c);var f=l.fitMouseCoordinatesToViewer(b,a);var g=!this.isPointsDistanceBiggerThan(this.initMousePosition,{x:f.pageX,y:f.pageY},2);if(e&&g){b.selection.setIsMouseUpSelectionEnabled(false);b.selection.deselectComponents(c)}}},isPointsDistanceBiggerThan:function(a,b,c){var d=Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2);return Math.sqrt(d)>c},isComponentSelected:function(){return this.getEditorAPI().selection.isComponentSelected()},getComponentLabel:function(){return this.getEditorAPI().getComponentType(this.props.selectedComponents)},isCompDraggable:function(){var a=this.getEditorAPI();var b=this.props.hoveredComp;if(b){return s(a,b)&&a.components.is.draggable(b)}return false},getCompToShowMarginsIndicator:function(){var a=this.getEditorAPI();if(this.props.attachCandidate){return this.props.attachCandidate}if(this.props.isDragging){return a.components.getContainer(this.getEditorAPI().selection.getSelectedComponents())}return null},showMarginsIndicator:function(){var a=this.getEditorAPI();var b=this.getCompToShowMarginsIndicator();return b&&a.components.is.showMarginsIndicator(b)},getMarginsIndicatorStyles:function(a){var b=this.getEditorAPI();var c=b.components.layout.getRelativeToScreen(a);var e=b.components.layout.getCompMargin(a);return{indicator:{top:c.y,left:c.x,width:c.width,height:c.height},marginLeft:Math.max(0,e.left),marginRight:Math.max(0,e.right),inlineWidth:c.width-d.sum(e)}},render:e})});define("rEditor/rootComps/textEditor.rt",["react","lodash","textControls"],function(a,b,c){"use strict";return function(){return a.createElement(c.richTextInput,{ref:"richTextInput",valueLink:{value:this.state.textData,requestChange:this.handleTextChange},themeColors:this.getThemeColors(),themeFonts:this.getThemeFonts(),documentType:this.getDocumentType(),languages:this.getLanguages(),layout:this.getTextEditorLayout(),onHeightChange:this.handleTextHeightChange,fonts:this.getCurrentSelectableFontsWithParams(),hideToolbar:true,className:"text-editor",onShow:this.handleShowTextEditor,openLinkDialog:this.openLinkDialog,openColorPicker:this.openTextColorPicker,selectAllOnInit:true,isResizing:this.props.isResizing,panelManager:this.getPanelManager(),shouldLimitTextLength:true})}});define("rEditor/rootComps/textEditor",["react","lodash","rEditor/rootComps/textEditor.rt","core","textControls","panelUtils"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"textEditor",render:c,mixins:[d.mixins.editorAPIMixin,f.linkColorPickerMixin],getComponentData:function(){return this.getEditorAPI().components.data.get(this._textComponent)},setComponentData:function(a){var c=this.getComponentData();b.forOwn(a,function(a,b){c[b]=a});this.getEditorAPI().components.data.update(this._textComponent,c,true)},setComponentLayout:function(a){this.getEditorAPI().components.layout.updateRelativeToScreenAndAdjustLayout(this._textComponent,a)},_cacheSelectedComponent:function(){this._textComponent=this.getEditorAPI().text.getTextCompForEdit()},getInitialState:function(){this._cacheSelectedComponent();return{textData:{text:this.getComponentData().text.replace(/\n/g,""),linkList:this.getComponentData().linkList}}},getThemeColors:function(){return this.getEditorAPI().theme.colors.getAll()},getThemeFonts:function(){return this.getEditorAPI().theme.fonts.getAll()},getDocumentType:function(){return this.getEditorAPI().generalInfo.getDocumentType()},getLanguages:function(){return this.getEditorAPI().theme.fonts.getCharacterSet()},getTextEditorLayout:function(){var a=this.getEditorAPI();var b=a.components.layout.getRelativeToScreen(this._textComponent);var c=a.components.layout.isShowOnFixedPosition(this._textComponent);var d={top:b.y,left:b.x,width:b.width,height:b.height,position:c?"fixed":"absolute"};if(c){d.top+=a.editorConfig.previewPosition.top;d.left+=a.editorConfig.previewPosition.left}return d},takeSnapshot:function(){if(this.snapshotTimeoutHandle){window.clearTimeout(this.snapshotTimeoutHandle)}var a=this;this.snapshotTimeoutHandle=window.setTimeout(function(){a.getEditorAPI().history.add("RT:Change");delete a.snapshotTimeoutHandle},1e3)},handleTextChange:function(a){var b=this.getEditorAPI();this.setComponentData(a);b.waitForChangesApplied(this.takeSnapshot);this.setState({textData:a})},handleTextHeightChange:function(a){this.setComponentLayout({height:a})},getCurrentSelectableFontsWithParams:function(){return e.fontUtils.getCurrentSelectableFontsWithParams(this.getEditorAPI())},handleShowTextEditor:function(a){this._cacheSelectedComponent();var c=this.getEditorAPI();var d=this._textComponent;var e=b.now();c.waitForChangesApplied(function(){window.setTimeout(function(){var e=b.head(c.selection.getSelectedComponents());if(e===d){c.renderPlugins.setHideTextComponent(d.id);if(a){a()}c.openComponentPanel("textSettingsPanel")}else{c.text.stopEditing()}},Math.max(250-b.now()+e,0))})},componentDidMount:function(){this.getEditorAPI().text.setCurrentTextEditor(this.refs.richTextInput)},componentWillUnmount:function(){window.clearTimeout(this.panelTimeout);if(this.snapshotTimeoutHandle){window.clearTimeout(this.snapshotTimeoutHandle);this.getEditorAPI().history.add("RT:Change")}this.getEditorAPI().text.setCurrentTextEditor(null)},openLinkDialog:function(a,b){var c=this.getEditorAPI();c.openLinkPanel({link:a,callback:b})},openTextColorPicker:function(a,b,c,d){this.openColorPicker(b,a,true,c,d)},getPanelManager:function(){return this.getEditorAPI().panelManager}})});define("rEditor/rootComps/funTextEditor.rt",["react","lodash","textControls"],function(a,b,c){"use strict";return function(){return this.isReady()?a.createElement(c.richTextInput,b.assign({},{key:"richTextInput",ref:"richTextInput",valueLink:{value:this.getValue(),requestChange:this.handleTextChange},themeColors:this.getThemeColors(),themeFonts:this.getThemeFonts(),documentType:this.getDocumentType(),languages:this.getLanguages(),layout:this.getTextEditorLayout(),fonts:this.getAllFonts(),hideToolbar:true,className:"text-editor",openLinkDialog:this.openLinkDialog,openColorPicker:this.openTextColorPicker,isResizing:this.props.isResizing,panelManager:this.getPanelManager(),shouldLimitTextLength:true,isFocusOnInit:false,isTextEditorOpen:this.state.isTextEditorOpen},this.getRichTextProps())):null}});define("rEditor/rootComps/funTextEditor",["react","lodash","rEditor/rootComps/funTextEditor.rt","textControls","core","panels","panelUtils"],function(a,b,c,d,e,f,g){"use strict";var h=false;return a.createClass({displayName:"funTextEditor",render:c,mixins:[e.mixins.editorAPIMixin,g.linkColorPickerMixin],getThemeColors:function(){return this.getEditorAPI().theme.colors.getAll()},getThemeFonts:function(){return this.getEditorAPI().theme.fonts.getAll()},getDocumentType:function(){return this.getEditorAPI().generalInfo.getDocumentType()},getLanguages:function(){return this.getEditorAPI().theme.fonts.getCharacterSet()},getTextEditorLayout:function(){var a={};if(this.props.selectedTextComp){var b=this.getEditorAPI();var c=this.getTextComponentFromProps();var d=b.components.layout.getRelativeToScreen(c);var e=b.components.layout.isShowOnFixedPosition(c);a={top:d.y,left:d.x,width:d.width,height:d.height,position:e?"fixed":"absolute"};if(e){a.top+=b.editorConfig.previewPosition.top;a.left+=b.editorConfig.previewPosition.left}}if(!this.props.isOpenTextEditor){a.visibility="hidden"}return a},getAllFonts:function(){return d.fontUtils.getCurrentSelectableFontsWithParams(this.getEditorAPI(),false,true)},openLinkDialog:function(a,b){var c=this.getEditorAPI();c.openLinkPanel({link:a,callback:b})},openTextColorPicker:function(a,b,c,d){this.openColorPicker(b,a,true,c,d)},isReady:function(){return this.getEditorAPI().isPreviewReady()&&b.get(window,"CKEDITOR.WIX.status")==="ready"},getComponentDataFromProps:function(a){return this.getEditorAPI().components.data.get(this.getTextComponentFromProps(a))},getTextComponentFromProps:function(a){a=a||this.props;return a.selectedTextComp},getValue:function(){if(this.props.selectedTextComp){var a=this.getComponentDataFromProps();return{text:a.text,linkList:a.linkList}}return{text:"",linkList:[]}},getPanelManager:function(){return this.getEditorAPI().panelManager},renderWhenReady:function(){if(this.isReady()&&this.refs.richTextInput){this.getEditorAPI().text.setCurrentTextEditor(this.refs.richTextInput);this.forceUpdate()}else{window.setTimeout(this.renderWhenReady,100)}},deleteTextEditorComponentIfEmpty:function(a){var b=this.getEditorAPI().components.data.get(a);if(b){var c=b.text;if(d.dataUtils.isEmptyHtmlText(c)){this.getEditorAPI().components.remove(a)}}},getInitialState:function(){return{isTextEditorOpen:false}},componentWillReceiveProps:function(a){if(this.props.isOpenTextEditor!==a.isOpenTextEditor){this.setState({isTextEditorOpen:a.isOpenTextEditor})}},componentWillUpdate:function(a){if(this.props.selectedTextComp&&!b.isEqual(this.props.selectedTextComp,a.selectedTextComp)||this.props.isOpenTextEditor&&!a.isOpenTextEditor){this.stopTextEditing()}},componentDidUpdate:function(a){if(!a.isOpenTextEditor&&this.props.isOpenTextEditor){this.getEditorAPI().renderPlugins.setHideTextComponent(this.getTextComponentFromProps().id);this.refs.richTextInput.focus();this.refs.richTextInput.selectAll();this.refs.richTextInput.resetUndo();this.getEditorAPI().openComponentPanel("textSettingsPanel")}},componentDidMount:function(){this.renderWhenReady()},componentWillUnmount:function(){this.stopTextEditing()},stopTextEditing:function(){if(h){return}h=true;var a=this.getEditorAPI();var b=this;this.stopRichTextInput();this.getEditorAPI().renderPlugins.setHideTextComponent(null);var c=this.getTextComponentFromProps();a.waitForChangesApplied(function a(){b.deleteTextEditorComponentIfEmpty(c);h=false});this.getEditorAPI().text.stopEditing()},stopRichTextInput:function(){var a=this.refs.richTextInput;if(a){a.handleDataChange();a.clearUnusedLinks()}},handleTextChange:function(a){var b=this.getEditorAPI();this.setComponentData(a);b.waitForChangesApplied(this.takeSnapshot)},setComponentData:function(a){var c=this.getComponentDataFromProps();b.forOwn(a,function(a,b){c[b]=a});this.getEditorAPI().components.data.update(this.getTextComponentFromProps(),c,true)},takeSnapshot:function(){if(this.snapshotTimeoutHandle){window.clearTimeout(this.snapshotTimeoutHandle)}var a=this;this.snapshotTimeoutHandle=window.setTimeout(function(){a.getEditorAPI().history.add("RT:Change");delete a.snapshotTimeoutHandle},1e3)},getRichTextProps:function(){var a=this.getEditorAPI();var b={fontsUrls:a.fonts.css.getUrls(),themeFontsCss:a.theme.fonts.getThemeStyles(),themeColorsCss:a.theme.colors.getCss()};return b}})});define("rEditor/rootComps/gridLines/gridLines.rt",["react","lodash"],function(a,b){"use strict";function c(b,c){return a.createElement("line",{key:c+"backLine",x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2,className:"backLine"})}function d(b,c){return a.createElement("line",{key:c+"frontLine",x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2,className:"frontLine"})}return function(){return a.createElement.apply(this,["svg",{className:"gridLines"+" "+b({fade:this.props.fade}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},b.map(this.props.gridLines,c.bind(this)),b.map(this.props.gridLines,d.bind(this))])}});define("rEditor/rootComps/gridLines/gridLines",["react","lodash","core","rEditor/rootComps/gridLines/gridLines.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"gridLines",mixins:[c.mixins.editorAPIMixin],propTypes:{gridLines:a.PropTypes.arrayOf(a.PropTypes.object),fade:a.PropTypes.bool},getDefaultProps:function(){return{fade:false}},render:d})});define("rEditor/rootComps/rulers/guide.rt",["react","lodash","core","baseUI","uiConstants","symbols"],function(a,b,c,d,e,f){"use strict";function g(a){this.onContainerMouseDown(a)}return function(){return a.createElement("div",{className:this.props.rulerDirection+"-guide-container",style:this.getGuideContainerStyle()},a.createElement("div",{className:this.props.rulerDirection+"-guide",style:this.getGuideStyle()}),a.createElement("div",{ref:"guide",className:this.props.rulerDirection+"-guide-catcher",onClick:this.handleGuideClick,onMouseDown:g.bind(this),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},a.createElement("div",{className:this.props.rulerDirection+"-guide-handler"},this.shouldShowSelectedGuide()?a.createElement(f.symbol,{key:"selected",name:"guidesHandler_selected"}):null,!this.shouldShowSelectedGuide()?a.createElement(f.symbol,{key:"regular",name:"guidesHandler_regular"}):null)),this.getBubbleMode()?a.createElement(d.bubble,b.assign({},{ref:"bubble",key:"hoverBubble"},this.getBubbleProps())):null)}});define("rEditor/rootComps/rulers/rulersComputations",["lodash","jquery"],function(a,b){"use strict";var c=22;function d(a,b,c,d){var e=0;var f=a==="vertical"?Math.floor(c.width/100):Math.round((c.height+c.y)/100);if(b&&a==="horizontal"){f=Math.floor(d.previewHeight+d.previewPosition.top)/100}if(!b&&a==="horizontal"){e=Math.floor(c.y/100)+1}return[e,f]}function e(a,b,c,e){var f=d(e,a,b,c);var g=f[0];var h=f[1];var i=[];for(var j=g;j<=h;j++){i.push(j*100)}return i}function f(a,b,d,e){var f,g,h,i;f=a?0:-b.x;g=a?b.width:e-b.x;h=a?0:c;i=d.maxBottomY+d.marginBottom;var j=a?d.scrollTop:d.scrollTop+c;return{vertical:{min:f,max:g,minInView:f},horizontal:{min:h,max:i,minInView:j}}}function g(a,b,c,d,e,g){var h=f(a,b,c,d);h=e==="vertical"?h.vertical:h.horizontal;return g<h.min||g>h.max}function h(a,b,c,d,e,g){var h=f(a,b,c,d);h=e==="vertical"?h.vertical:h.horizontal;return g<h.minInView||g>h.max}function i(a,b){if(a){return b?b.maxBottomY+b.marginBottom:0}return"calc(100% - "+c+"px)"}function j(a,b){return a?b.width:"calc(100% - "+c+"px)"}function k(a,b,c){var d;if(b==="vertical"){d=c.pageX-a.editorConfig.previewPosition.left-a.siteSegments.getPagesContainerAbsLayout().x}else{d=c.pageY-a.editorConfig.previewPosition.top+a.site.getScroll().y}return d}function l(a,b){var c=a.siteSegments.getPagesContainerAbsLayout();return a.isMobileEditor()?b:b+c.x}function m(a,c){var d=b(c).offset().top-parseInt(b(c).css("top"),10);return a-d}return{getRulerNumbers:e,isGuideOutOfLimits:g,isGuideOutOfViewLimits:h,getHorizontalTicksHeight:i,calcNewGuidePosition:k,calcHorizontalDraggingPosition:m,getVerticalTicksWidth:j,getVerticalGuidePosition:l}});define("rEditor/rootComps/rulers/guide",["reactDOM","react","lodash","baseUI","core","panels","util","uiConstants","rEditor/rootComps/rulers/guide.rt","rEditor/rootComps/rulers/rulersComputations"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k="guideToolTipTrash";var l="smallVApproval";var m=700;var n=900;var o=10;var p=20;var q=3;var r=6;var s=-5;var t=5;var u=600;var v=500;return b.createClass({displayName:"guide",mixins:[e.mixins.editorAPIMixin,g.draggableMixin],propTypes:{rulerDirection:b.PropTypes.string.isRequired,guidePosition:b.PropTypes.number.isRequired,guideId:b.PropTypes.string.isRequired,isSelected:b.PropTypes.bool,isGuideOutOfLimitsFunc:b.PropTypes.func.isRequired,isMouseOverRulers:b.PropTypes.bool,toolsHidden:b.PropTypes.bool,disableInteraction:b.PropTypes.bool,previewSize:b.PropTypes.object.isRequired},getInitialState:function(){this.preventClickAfterDragEnd=false;return{isHoverBubble:false,mouseOverGuide:false,guidePosition:this.props.guidePosition,stepperSymbol:k,stepperValueInvalid:false,selectedDueToHoverBubbleClick:false,isFirstRender:true}},componentWillReceiveProps:function(a){if(!this.isBeingDragged){this.setState({stepperValueInvalid:false,guidePosition:a.guidePosition})}},componentWillUpdate:function(a,b){if(!this.props.toolsHidden&&a.toolsHidden&&a.isSelected){this.getEditorAPI().rulers.deselectGuide()}if(!this.state.isHoverBubble&&b.isHoverBubble){this.getEditorAPI().rulers.sendBIEvent("GUIDE_TOOLTIP_APPEAR",{})}},setGuideSelected:function(a){if(this.state.isFirstRender){this.setState({isFirstRender:false})}this.getEditorAPI().rulers.selectGuide(this.props.guideId,a);this.setState({stepperValueInvalid:false,stepperSymbol:k})},shouldShowSelectedGuide:function(){return this.isBeingDragged||this.state.mouseOverGuide||this.props.isSelected},getGuideContainerStyle:function(){return this.props.rulerDirection==="horizontal"?{top:this.state.guidePosition}:{left:j.getVerticalGuidePosition(this.getEditorAPI(),this.state.guidePosition)}},getGuideStyle:function(){var a=this.getEditorAPI();var b=this.props.previewSize;if(this.props.rulerDirection==="horizontal"){var c=b.width;return{left:-c,width:c}}var d=a.isMobileEditor()?b.height+h.MOBILE_PREVIEW_TOP:b.height;return{height:d}},removeGuide:function(){var a=this.getEditorAPI();a.rulers.removeGuideById(this.props.guideId)},onDragStart:function(){this.getEditorAPI().rulers.updateEditorRulersState("isDragging",true);this.setState({stepperValueInvalid:false,stepperSymbol:k})},getDragPosition:function(a){var c=b.findDOMNode(this);return this.props.rulerDirection==="horizontal"?j.calcHorizontalDraggingPosition(a.top,c):a.left-this.getEditorAPI().siteSegments.getPagesContainerAbsLayout().x},whileDrag:function(a){var b=this.getDragPosition(a);if(this.props.isGuideOutOfLimitsFunc(b)){this.endDrag()}else{this.setState({guidePosition:b})}},onDragEnd:function(a){var b=this.getEditorAPI();b.rulers.updateStateOnDragEnd(this.props.isMouseOverRulers);var c=this.getDragPosition(a);if(this.props.isGuideOutOfLimitsFunc(c)){b.rulers.sendBIEvent("GUIDE_DELETED",{origin:"drag_outside"});this.removeGuide()}else{this.sendDragBIEvent(this.props.guidePosition,c);this.preventClickAfterDragEnd=true;b.rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,c)}},getDragLimits:function(){return this.props.rulerDirection==="horizontal"?{lockedX:true}:{lockedY:true}},sendDragBIEvent:function(a,b){var c={xCoordinate_new:0,xCoordinate_old:0,yCoordinate_new:0,yCoordinate_old:0};if(this.props.rulerDirection==="vertical"){c.xCoordinate_new=b;c.xCoordinate_old=a}else{c.yCoordinate_new=b;c.yCoordinate_old=a}this.getEditorAPI().rulers.sendBIEvent("GUIDE_DRAGGED",c)},closeHoverBubble:function(){this.setState({isHoverBubble:false})},deselectGuide:function(){if(!this.isBeingDragged){this.getEditorAPI().rulers.deselectGuide()}},onStepperValueChangeApproval:function(a){if(!this.props.isGuideOutOfLimitsFunc(c.parseInt(a))){var b=this.getEditorAPI();b.rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,c.parseInt(a));this.setState({stepperSymbol:l});window.setTimeout(this.deselectGuide.bind(this),m)}},onStepperSteppingValueChange:function(a){var b=c.parseInt(a);var d=!this.props.isGuideOutOfLimitsFunc(b);var e=this.props.guidePosition===a;this.sendStepperValueChangeBIEvent(a,d,e);this.setState({stepperValueInvalid:!d});if(!d){window.setTimeout(function(){this.setState({stepperValueInvalid:false})}.bind(this),n)}else{var f=this.getEditorAPI();f.rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,b)}},sendStepperValueChangeBIEvent:function(a,b,c){var d;if(c){d="no_change"}else{d=b?"accepted":"denied"}var e={type:this.props.rulerDirection,value:a,valid_value:d};this.getEditorAPI().rulers.sendBIEvent("VALUE_CHANGE_IN_GUIDE_TOOLTIP",e)},stepperSymbolClickFunc:function(){if(this.state.stepperSymbol===k){this.getEditorAPI().rulers.sendBIEvent("GUIDE_DELETED",{origin:"trash_icon"});this.removeGuide()}},stepperClick:function(){if(this.state.isHoverBubble){this.setState({isHoverBubble:false,stepperValueInvalid:false,stepperSymbol:k,selectedDueToHoverBubbleClick:true});this.setGuideSelected("click_on_tooltip")}else{this.setState({stepperValueInvalid:false,stepperSymbol:k})}},getStepperWithSVGProps:function(){return{showSymbol:this.props.isSelected&&!this.state.isFirstRender,stepperClickFunc:this.stepperClick,symbolClickFunc:this.stepperSymbolClickFunc,symbolName:this.state.stepperSymbol,stepperProps:{min:-99999,max:99999,step:1,selectedUnits:"px",units:"px",afterBlur:this.onStepperValueChangeApproval,isInvalidValue:this.state.stepperValueInvalid,valueLink:{value:this.state.guidePosition,requestChange:this.onStepperSteppingValueChange},dynamicInputSize:{characterWidth:o,minWidth:p},inputInFocus:this.state.selectedDueToHoverBubbleClick}}},getOverridePositionAdjustments:function(a){if(this.props.rulerDirection==="horizontal"){return undefined}return{type:h.TOOLTIP.ALIGNMENT.TOP,value:a==="hover"?q:r}},getBubbleMode:function(){if(this.props.isSelected&&!this.state.isFirstRender){return"selected"}return this.state.isHoverBubble&&!this.props.toolsHidden?"hover":null},getHoverBubbleProps:function(){return{closeTrigger:[],hideMethod:this.closeHoverBubble,timeoutForMouseOverBubble:u,mouseLeftTargetNode:!this.isBeingDragged&&!this.state.mouseOverGuide,className:"hover-bubble"}},getSelectedBubbleProps:function(){return{closeTrigger:[h.TOOLTIP.TRIGGERS.OUTER_CLICK],hideMethod:this.deselectGuide,timeoutForMouseOverBubble:0,mouseLeftTargetNode:null,className:"selected-bubble"}},getBubbleProps:function(){var b=this.getBubbleMode();var c=b==="hover"?this.getHoverBubbleProps():this.getSelectedBubbleProps();var d=this.getOverridePositionAdjustments(b);var e=this.props.rulerDirection==="horizontal"?t:s;var f=this.props.rulerDirection==="horizontal"?h.TOOLTIP.ALIGNMENT.LEFT:h.TOOLTIP.ALIGNMENT.RIGHT;return{value:{classPath:"baseUI.stepperWithSVG",props:this.getStepperWithSVGProps()},styleType:h.TOOLTIP.STYLE_TYPE.NORMAL,alignment:f,noArrow:true,targetNode:a.findDOMNode(this.refs.guide),closeTriggers:c.closeTrigger,hideMethod:c.hideMethod,marginsFromWindow:0,mouseLeftTargetNode:c.mouseLeftTargetNode,marginsFromElement:e,timeoutForMouseOverBubble:c.timeoutForMouseOverBubble,overridePositionAdjustments:d,customClasses:[c.className]}},onContainerMouseDown:function(a){a.stopPropagation();if(!this.props.toolsHidden){this.startDrag(a,this.getDragLimits())}},onMouseLeave:function(){this.setState({mouseOverGuide:false})},activateHoverBubble:function(){if(this.state.mouseOverGuide){this.setState({isHoverBubble:true,selectedDueToHoverBubbleClick:false})}},onMouseEnter:function(){var a=!this.props.disableInteraction&&(!this.props.isSelected&&!this.props.toolsHidden||this.props.isSelected&&this.state.isFirstRender);if(a){this.setState({mouseOverGuide:true});window.setTimeout(this.activateHoverBubble,v)}},handleGuideClick:function(a){a.stopPropagation();if(this.props.disableInteraction||this.props.toolsHidden){return}if(this.state.isHoverBubble){this.setState({isHoverBubble:false})}if(this.preventClickAfterDragEnd){this.preventClickAfterDragEnd=false;return}this.setGuideSelected("click_on_guide")},render:i})});define("rEditor/rootComps/rulers/rulers.rt",["react","lodash","core","util","rEditor/rootComps/rulers/guide"],function(a,b,c,d,e){"use strict";function f(a){a.preventDefault()}function g(b,c){return a.createElement("div",{key:"number-"+b,className:"ruler-number"},b)}function h(b,c){return a.createElement(e,{key:b.guideId,rulerDirection:this.props.rulerDirection,guidePosition:b.guidePosition,guideId:b.guideId,isSelected:this.props.selectedGuide===b.guideId,isGuideOutOfLimitsFunc:this.isGuideOutOfLimits,isMouseOverRulers:this.isMouseOver,toolsHidden:this.props.toolsHidden,disableInteraction:this.props.isDragging,previewSize:this.props.previewSize})}return function(){return a.createElement.apply(this,["div",{className:b({rulers:true,"mobile-editor-rulers":this.getEditorAPI().isMobileEditor(),"vertical-ruler":this.props.rulerDirection==="vertical","horizontal-ruler":this.props.rulerDirection==="horizontal"}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),ref:"rulerContainer",style:this.getRulersStyle(),onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:f.bind(this)},!this.props.toolsHidden?a.createElement("div",{className:this.props.rulerDirection+"-ticks",key:this.props.rulerDirection+"-ruler"},!this.getEditorAPI().isMobileEditor()&&this.props.rulerDirection==="vertical"?a.createElement("div",{className:"rulers-separator-blocker",key:"rulers-separator-blocker"}):null,!this.getEditorAPI().isMobileEditor()&&this.props.rulerDirection==="horizontal"?a.createElement("div",{className:"rulers-separator"+" "+b({"rulers-separator-hover":this.props.isHovered}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"rulers-separator"}):null,a.createElement("div",{className:"rulers-background"+" "+b({"rulers-background-hover":this.props.isHovered,"rulers-background-mobile":this.getEditorAPI().isMobileEditor()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("div",{className:"rulers-"+this.props.rulerDirection+"-ticks",style:this.getTicksPositionInBackgroundStyle()}),a.createElement.apply(this,["div",{className:"ruler-numbers-container",style:this.getRulersNumbersStyle()},b.map(this.getRulerNumbers(),g.bind(this))]))):null,b.map(this.props.guidesInRuler,h.bind(this))]);
}});define("rEditor/rootComps/rulers/rulers",["reactDOM","jquery","react","lodash","baseUI","core","util","rEditor/rootComps/rulers/rulers.rt","rEditor/rootComps/rulers/rulersComputations"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=4;var k="5px -21px";var l="5px 0";return c.createClass({displayName:"rulers",mixins:[f.mixins.editorAPIMixin],propTypes:{rulerDirection:c.PropTypes.string.isRequired,guidesInRuler:c.PropTypes.array.isRequired,selectedGuide:c.PropTypes.string,isHovered:c.PropTypes.bool,previewHeight:c.PropTypes.number,toolsHidden:c.PropTypes.bool,selectedComponents:c.PropTypes.array,isDragging:c.PropTypes.bool,previewSize:c.PropTypes.object.isRequired},getInitialState:function(){this.isMouseOver=false;this.viewPort=f.utils.stageUtils.getViewPort(true);this.verticalRulersComponentWidth=null;return{}},componentWillMount:function(){var a=g.keyboardShortcuts.extendContext(g.keyboardShortcuts.CONTEXTS.EDITOR,this.getRulersKeyboardShortcuts());g.keyboardShortcuts.registerContext(g.keyboardShortcuts.CONTEXTS.RULERS,a);this.horizontalTicksHeight=i.getHorizontalTicksHeight(this.getEditorAPI().isMobileEditor(),this.viewPort)},componentDidMount:function(){if(this.props.rulerDirection==="vertical"){this.verticalRulersComponentWidth=this.getVerticalRulerWidth()}},shouldComponentUpdate:function(a){if(!this.props.isHovered&&a.isHovered&&this.props.rulerDirection==="vertical"){this.getEditorAPI().rulers.sendBIEvent("RULERS_HOVER",{})}var b=this.viewPort;this.viewPort=f.utils.stageUtils.getViewPort(true);return this.props.previewHeight!==a.previewHeight||b!==this.viewPort||!d.isEqual(a,this.props)},componentWillUpdate:function(){this.horizontalTicksHeight=i.getHorizontalTicksHeight(this.getEditorAPI().isMobileEditor(),this.viewPort)},componentDidUpdate:function(a){if(d.isEmpty(a.selectedComponents)&&!d.isEmpty(this.props.selectedComponents)&&this.props.selectedGuide){this.getEditorAPI().rulers.deselectGuide()}if(this.props.rulerDirection==="vertical"){this.verticalRulersComponentWidth=this.getVerticalRulerWidth()}},componentWillUnmount:function(){g.keyboardShortcuts.unregisterContext(g.keyboardShortcuts.CONTEXTS.RULERS)},getRulersKeyboardShortcuts:function(){return{"del,backspace":this.getEditorAPI().rulers.removeGuideViaDelBtn,"shift + right":d.partial(this.changeGuidePositionViaKeyboard,"vertical",10),"shift + left":d.partial(this.changeGuidePositionViaKeyboard,"vertical",-10),"shift + up":d.partial(this.changeGuidePositionViaKeyboard,"horizontal",-10),"shift + down":d.partial(this.changeGuidePositionViaKeyboard,"horizontal",10),left:d.partial(this.changeGuidePositionViaKeyboard,"vertical",-1),right:d.partial(this.changeGuidePositionViaKeyboard,"vertical",1),up:d.partial(this.changeGuidePositionViaKeyboard,"horizontal",-1),down:d.partial(this.changeGuidePositionViaKeyboard,"horizontal",1)}},changeGuidePositionViaKeyboard:function(a,b){var c=this.getEditorAPI();var d=c.rulers.getSelectedGuideData();if(!this.isGuideOutOfLimits(d.guidePosition+b,false,a)){c.rulers.changeGuidePositionByPixels(a,b)}},getVerticalRulerWidth:function(){return this.refs.rulerContainer&&a.findDOMNode(this.refs.rulerContainer)&&a.findDOMNode(this.refs.rulerContainer).getBoundingClientRect()&&a.findDOMNode(this.refs.rulerContainer).getBoundingClientRect().width||0},getRulerNumbers:function(){var a=this.getEditorAPI();var b=a.siteSegments.getPagesContainerAbsLayout();return i.getRulerNumbers(a.isMobileEditor(),b,a.editorConfig,this.props.rulerDirection)},getRulersNumbersStyle:function(){var a=this.getEditorAPI();var b=a.siteSegments.getPagesContainerAbsLayout();if(this.props.rulerDirection==="vertical"){return{left:a.isMobileEditor()?j:b.x+j}}return{top:a.isMobileEditor()?1:Math.floor(b.y/100)*100+80+1}},getRulersStyle:function(){if(this.props.rulerDirection==="vertical"){var a=this.getEditorAPI();var b=a.siteSegments.getPagesContainerAbsLayout();var c={width:i.getVerticalTicksWidth(a.isMobileEditor(),b)};if(a.isMobileEditor()){c.left=b.x}return c}return{height:this.horizontalTicksHeight}},getTicksPositionInBackgroundStyle:function(){var a=this.getEditorAPI();if(this.props.rulerDirection==="vertical"){var b=a.siteSegments.getPagesContainerAbsLayout();return{backgroundPosition:a.isMobileEditor()?0:b.x+1}}return a.isMobileEditor()?{backgroundPosition:l}:{backgroundPosition:k}},isGuideOutOfLimits:function(a,b,c){var d=this.getEditorAPI();var e=d.siteSegments.getPagesContainerAbsLayout();c=c||this.props.rulerDirection;if(b){return i.isGuideOutOfViewLimits(d.isMobileEditor(),e,this.viewPort,this.verticalRulersComponentWidth,c,a,b)}return i.isGuideOutOfLimits(d.isMobileEditor(),e,this.viewPort,this.verticalRulersComponentWidth,c,a,b)},handleMouseEnter:function(a){if(b(a.target).hasClass("vertical-guide")||b(a.target).hasClass("horizontal-guide")){return}this.isMouseOver=true;var c=this.getEditorAPI();c.rulers.updateEditorRulersState("isHovered",true)},handleMouseLeave:function(){this.isMouseOver=false;if(!this.props.isDragging){var a=this.getEditorAPI();a.rulers.updateEditorRulersState("isHovered",false)}},handleMouseDown:function(a){if(d.includes(["rulers-vertical-ticks","rulers-horizontal-ticks","ruler-number","ruler-numbers-container"],a.target.className)){var b=i.calcNewGuidePosition(this.getEditorAPI(),this.props.rulerDirection,a);if(!this.isGuideOutOfLimits(b,true)){this.setNewGuide(b)}}},setNewGuide:function(a){var b=this.getEditorAPI();var c={};if(this.props.rulerDirection==="vertical"){b.rulers.setVerticalGuide(a);c={xCoordinate:a,yCoordinate:0}}else{b.rulers.setHorizontalGuide(a);c={xCoordinate:0,yCoordinate:a}}this.getEditorAPI().rulers.sendBIEvent("RULERS_CLICKED",c)},render:h})});define("rEditor/rootComps/mobileFrame/mobileFrame.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:b({"mobile-frame":true,previewMode:this.props.previewMode}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getFrameStyle()},a.createElement("div",{className:"block-layer bottom"}),a.createElement("div",{className:"mobile-frame-top"}),a.createElement("div",{className:"site-shadow",key:"mobile-site-shadow"}),a.createElement("div",{className:"mobile-frame-bottom"}))}});define("rEditor/rootComps/mobileFrame/mobileFrame",["react","core","rEditor/rootComps/mobileFrame/mobileFrame.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"mobileFrame",propTypes:{displayShadow:a.PropTypes.bool,siteScale:a.PropTypes.number,previewMode:a.PropTypes.bool.isRequired},mixins:[b.mixins.editorAPIMixin],getMobilePreviewLeft:function(){return this.getEditorAPI().site.getXPos()},getFrameStyle:function(){var a={left:this.getMobilePreviewLeft()};if(!this.props.previewMode&&this.props.siteScale!==1){a.height=Math.round(100/this.props.siteScale)+"%";a.transform="scale("+this.props.siteScale+")"}return a},render:c})});define("rEditor/utils/mouseMoveActions/baseSpace",["lodash","core","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c){"use strict";var d=b.utils.layoutTransitionsUtil;var e;var f;var g;var h;var i;var j;var k;var l;function m(b,c){h=b;f=c.compsToPush;g=c.snapThreshold||0;var i=a.map(f,"id");h.renderPlugins.setCompsToShowOnTop(i);var m=a.omit(h.components.layout.getRelativeToScreen(f),"bounding");var n=a.map(f,function(b){return a.omit(h.components.layout.getRelativeToScreen(b),"bounding")});j=c.minY;k=c.onSpaceEnd;l=c.onSpace;var o={x:c.evt.pageX,y:c.evt.pageY};e=new d.Drag(m,o,n)}function n(b){var c={x:b.pageX,y:b.pageY};var d=e.getLayout(c);d.y=Math.max(d.y,j);if(d.y-g<=j){d.y=j}i=e.getBoundComponentLayouts(d);for(var k=0;k<f.length;k++){h.components.layout.updateRelativeToScreenAndAdjustLayout(f[k],a.pick(i[k],"y"))}if(a.isFunction(l)){l(c.x,c.y)}}function o(){if(i){for(var b=0;b<f.length;b++){h.components.layout.updateRelativeToScreen(f[b],a.pick(i[b],"y"))}i=null}h.renderPlugins.setCompsToShowOnTop(null);if(a.isFunction(k)){k()}}return{start:m,on:n,end:o,type:c.SPACER}});define("rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";function d(){this.onClick()}return function(){return a.createElement(c.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip},a.createElement("div",{className:"section-controls-button "+(this.props.label?"with-label":"")+" "+(this.props.isDisabled?"disabled":""),onClick:d.bind(this),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},a.createElement(c.symbol,{name:this.props.symbol}),a.createElement("span",{},this.props.label)))}});define("rEditor/rootComps/sectionsReorganize/sectionControlsButton",["react","lodash","rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"sectionControlsButton",propTypes:{onClick:a.PropTypes.func,tooltip:a.PropTypes.string,symbol:a.PropTypes.string.isRequired,isDisabled:a.PropTypes.bool},onClick:function(){if(!this.isDisabled){this.props.onClick()}},render:c})});define("rEditor/rootComps/sectionsReorganize/sectionControls.rt",["react","lodash","uiConstants","baseUI","util","rEditor/rootComps/sectionsReorganize/sectionControlsButton"],function(a,b,c,d,e,f){"use strict";function g(){var g=this.getSectionStyle();return a.createElement("div",{className:b(this.getSectionControlsClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:g},a.createElement("div",{className:"highlight "+(this.props.isDragging?"with-shadow":""),style:this.getHighlightStyle(),onMouseDown:this.props.onDragHandleMouseDown}),this.shouldDisplayReorderButtons()?a.createElement("div",{key:"reorder-buttons",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},a.createElement("div",{className:"section-buttons"},a.createElement(f,b.assign({},{onClick:this.props.onUpClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Up",symbol:"sectionMoveUp",",":true,isDisabled:this.props.isFirstSection},this.getControlButtonProps())),a.createElement(f,b.assign({},{onClick:this.props.onDownClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Down",symbol:"sectionMoveDown",isDisabled:this.props.isLastSection,",":true},this.getControlButtonProps())),!this.props.isMobileEditor?a.createElement(f,b.assign({},{key:"duplicate_btn",onClick:this.props.onDuplicateClicked,tooltip:"ZoomOut_Section_Tooltip_Copy_Section",symbol:"sectionDuplicate"},this.getControlButtonProps())):null,a.createElement(f,b.assign({},{onClick:this.props.onDeleteClicked,tooltip:this.props.isMobileEditor?"ZoomOut_Section_Tooltip_Hide_Section":"ZoomOut_Section_Tooltip_Delete_Section",symbol:this.props.isMobileEditor?"sectionMobileHide":"sectionDelete"},this.getControlButtonProps())))):null,this.props.isGap?a.createElement("div",{key:"gap-delete",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},a.createElement("div",{className:"section-buttons"},a.createElement(f,b.assign({},{onClick:this.props.onDeleteClicked,symbol:"sectionDelete",label:e.translate("ZoomOut_Delete_Space_Tooltip")},this.getControlButtonProps())))):null,this.props.isHeader||this.props.isFooter?a.createElement("div",{key:"header-footer-info",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},a.createElement("div",{className:"section-buttons"},this.showHeader()?a.createElement(d.tooltip,{key:"header-info",value:"ZoomOut_Header_Tooltip",styleType:"small",alignment:c.TOOLTIP.ALIGNMENT.BOTTOM},a.createElement("div",{className:"header-footer-info",onMouseEnter:this.onHeaderOver},a.createElement(d.symbol,{name:"infoIcon",className:"info-icon"}),a.createElement("span",{className:"info-text"},e.translate("ZoomOut_Header")))):null,this.showFooter()?a.createElement(d.tooltip,{key:"footer-info",value:"ZoomOut_Footer_Tooltip",styleType:"small",alignment:c.TOOLTIP.ALIGNMENT.TOP},a.createElement("div",{className:"header-footer-info",onMouseEnter:this.onFooterOver},a.createElement(d.symbol,{name:"infoIcon",className:"info-icon"}),a.createElement("span",{className:"info-text"},e.translate("ZoomOut_Footer")))):null)):null)}return function(){return g.apply(this,[])}});define("rEditor/rootComps/sectionsReorganize/sectionControls",["react","lodash","core","experiment","rEditor/rootComps/sectionsReorganize/sectionControls.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"sectionControls",propTypes:{isMobileEditor:a.PropTypes.bool,layout:a.PropTypes.object.isRequired,siteScale:a.PropTypes.number.isRequired,showDragHighlight:a.PropTypes.bool,isDragging:a.PropTypes.bool,isSpacing:a.PropTypes.bool,isHeader:a.PropTypes.bool,isFooter:a.PropTypes.bool,isInZoomMode:a.PropTypes.bool,onDragHandleMouseDown:a.PropTypes.func,onUpClicked:a.PropTypes.func,onDownClicked:a.PropTypes.func,onDuplicateClicked:a.PropTypes.func,onDeleteClicked:a.PropTypes.func},getDefaultProps:function(){return{isMobileEditor:false,showDragHighlight:false}},getInitialState:function(){return{isHoveringControlButton:false}},componentWillMount:function(){this._setControlButtonHoverState=b.debounce(this.setControlButtonHoverState,100);this.throttledBi=b.throttle(this.bi,50,{leading:false,trailing:true})},getSectionControlsClasses:function(){return{"section-controls":true,"show-highlight":this.props.showDragHighlight||this.state.isHoveringControlButton,"no-drag-handle":this.state.isHoveringControlButton||this.props.isSpacing,"header-footer-blocker":this.props.isHeader||this.props.isFooter}},getSectionStyle:function(){return{top:this.props.layout.y*this.props.siteScale,height:this.props.layout.height*this.props.siteScale}},getHighlightStyle:function(){var a=this.props.isMobileEditor?"320px":"100%";var b={width:"calc("+a+" * "+this.props.siteScale+" + 2px)"};if(this.props.siteScale===1){b.pointerEvents="none"}return b},setControlButtonHoverState:function(a){if(this.state.isHoveringControlButton!==a){this.setState({isHoveringControlButton:a})}},shouldDisplayReorderButtons:function(){var a=this.props.isHeader||this.props.isFooter||this.props.isGap||this.props.isDragging;var b=this.props.isInZoomMode;return d.isOpen("se_removeReorderPanel")?b&&!a:!a},getControlButtonProps:function(){var a=this;return{onMouseEnter:function(){a._setControlButtonHoverState(true)},onMouseLeave:function(){a._setControlButtonHoverState(false)}}},getButtonsWrapperStyle:function(){var a="calc(25% + 100% * "+this.props.siteScale+" + 36px)";if(this.props.isMobileEditor){a="calc(50% + 320px / 2 * "+this.props.siteScale+" + 36px)"}return{height:this.props.layout.height*this.props.siteScale,left:a}},bi:function(a){this.props.editorAPI.bi.event(a,{editor_view_mode:this.props.editorAPI.getDeviceType()})},showHeader:function(){if(this.props.isHeader){this.throttledBi(c.bi.events.sectionReorganize.header_label_appear);return true}return false},showFooter:function(){if(this.props.isFooter){this.throttledBi(c.bi.events.sectionReorganize.footer_label_appear);return true}return false},onHeaderOver:function(){this.throttledBi(c.bi.events.sectionReorganize.header_tooltip_hover)},onFooterOver:function(){this.throttledBi(c.bi.events.sectionReorganize.footer_tooltip_hover)},render:e})});define("rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt",["react","lodash","baseUI","rEditor/rootComps/sectionsReorganize/sectionControls"],function(a,b,c,d){"use strict";function e(b,c,d,e,f){return a.createElement("line",{key:"separator-"+f,className:"section-separator",x1:e.x1,x2:e.x2,y1:e.y,y2:e.y})}function f(){var f=this.getSections();var g=this.getSpacerProps(f);var h=this.getSectionControlsProps(f,g);return a.createElement("div",{className:"sections-reorganize-exp"},a.createElement.apply(this,["svg",{className:"section-separators"},b.map(this.getSeparatorLines(f),e.bind(this,f,g,h))]),h&&!this.state.isSpacing?a.createElement(d,b.assign({},{key:h.layout.y+"_"+h.layout.height,isMobileEditor:this.props.isMobileEditor},h)):null,g&&(!this.props.isMobileEditor||this.props.siteScale!==1)?a.createElement(c.tooltip,{key:"spacer_tooltip",id:"zoom_mode_spacer_id",value:"ZoomOut_Change_Space_Tooltip",alignment:c.uiConstants.TOOLTIP.ALIGNMENT.CENTER,delay:"0",disabled:this.state.isSpacing},a.createElement("div",{key:"spacer",className:"spacer-handle",style:g.style,onMouseDown:g.onMouseDown},a.createElement(c.symbol,{name:"spacerHandleDots"}))):null)}return function(){return f.apply(this,[])}});define("rEditor/rootComps/sectionsReorganize/sectionsReorganize",["lodash","react","core","util","baseUI","rEditor/utils/mouseMoveActions/baseSpace","rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt"],function(a,b,c,d,e,f,g){"use strict";var h=30;var i=c.bi.events.sectionReorganize;var j=234;var k=5;function l(a){return a.siteSegments.getPagesContainerAbsLayout().y}function m(a,b,c){return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}function n(a,b,d){var e;if(d){e=320*b}else{var f=c.utils.stageUtils.getStageRect();e=(f.right-f.left)*b}var g=a.x*b;return g>=e}function o(a,b,d){var e;if(d){e=320*b}else{var f=c.utils.stageUtils.getStageRect();e=(f.right-f.left)*b}var g=a.x*b;return g<=e}function p(b){if(this.props.selectedSection){return a.find(b,a.bind(function(b){return a.isEqual(b.comps,this.props.selectedSection.comps)},this))}var c=this.state.stageMousePosition;if(c){for(var d=0;d<b.length;d++){if(c.y>=b[d].position.top&&c.y<=b[d].position.bottom){return b[d]}}}return null}function q(a){if(this.props.selectedSection){return-1}var b=this.state.stageMousePosition;if(b){for(var c=0;c<a.length-1;c++){if(b.y>a[c].position.bottom&&b.y<a[c+1].position.top){return c}}}return-1}function r(b){return this.props.selectedSection&&a.isEqual(b.comps,this.props.selectedSection.comps)}function s(a){if(!this.state.stageMousePosition){return false}var b=this.state.stageMousePosition.y;return b>=a.position.top&&b<=a.position.bottom}function t(a){var b=s.call(this,a);return b&&n(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor)}function u(b,c){if(this.state.isSpacing&&this.props.selectedSection){return a.findIndex(b,a.bind(r,this))}for(var d=0;d<b.length;d++){var e=d>0?b[d-1]:null;if(c.y<=b[d].position.top+h&&(!e||c.y>e.position.top+h)){return d}}return-1}function v(a){return!(a.isCurrentPageLandingPage()||a.pages.popupPages.isPopupOpened())}function w(b,d){var e=a.clone(b);var f=[];if(v(d)){var g=c.utils.sectionsReorganizeUtil.getHeaderSection(d);e.unshift(g)}for(var h=0;h<e.length;h++){var i=e[h];var j=h>0?e[h-1]:null;if(j&&j.position.bottom<i.position.top){f.push(i.position.top)}f.push(i.position.bottom)}return f}function x(b,d){if(!b||d&&d.isSpacerHovered){return null}var e=p.call(this,b);if(!e){return null}var f=a.findIndex(b,e);var g=r.call(this,e);var h=this.props.siteScale!==1;var i=this;var j=i.getEditorAPI();function k(a){j.bi.event(c.bi.events.sectionReorganize.reorder_panel_clicked,{editor_view_mode:j.getDeviceType(),action_clicked:a})}return{section:e,siteScale:this.props.siteScale,layout:this.getSectionLayout(e),showDragHighlight:!this.props.isMobileEditor||h,isDragging:g,isInZoomMode:j.zoomMode.isInZoomMode(),isSpacing:this.state.isSpacing,tooltipId:"reorganize-section-tooltip",isFirstSection:f===0,isLastSection:f===b.length-1,onDragHandleMouseDown:function(a){i.startSectionDrag(a,b,e)},onDuplicateClicked:function(){c.utils.sectionsReorganizeUtil.duplicateSection(j,b,a.findIndex(b,e));k("duplicate")},onDeleteClicked:function(){c.utils.sectionsReorganizeUtil.deleteSection(j,b,a.findIndex(b,e));j.history.add("Delete Section");k("delete")},onUpClicked:function(){i.shiftSection(b,e,-1);k("up")},onDownClicked:function(){i.shiftSection(b,e,1);k("down")}}}function y(a,b){return b.y>=a.y&&b.y<=a.y+a.height}function z(a,b){var d=c.utils.sectionsReorganizeUtil.getHeaderSection(a);b.unshift(d);return b}function A(b){if(!b){return null}var c=a.clone(b);c=z(this.getEditorAPI(),c);var d=q.call(this,c);if(d===-1){return null}var e={y:c[d].position.bottom,height:c[d+1].position.top-c[d].position.bottom};return{isGap:true,layout:e,siteScale:this.props.siteScale,onDeleteClicked:function(){this.closeGapBetweenSections(c,d)}.bind(this)}}function B(){var b=this.state.stageMousePosition;if(!b){return null}var c=this.getEditorAPI();if(!v(c)){return null}var d=c.components.layout.getRelativeToScreen(c.siteSegments.getHeader());var e=c.components.layout.getRelativeToScreen(c.siteSegments.getFooter());var f;if(y(d,b)){f={layout:d,isHeader:true,editorAPI:c}}else if(y(e,b)){f={layout:e,isFooter:true,editorAPI:c}}if(!f){return null}return a.assign(f,{siteScale:this.props.siteScale})}return b.createClass({displayName:"sectionsReorganize",propTypes:{isMobileEditor:b.PropTypes.bool.isRequired,sections:b.PropTypes.array.isRequired,selectedSection:b.PropTypes.object,isSectionDragging:b.PropTypes.bool,isCompDragging:b.PropTypes.bool,stageLayout:b.PropTypes.object.isRequired,siteScale:b.PropTypes.number.isRequired},mixins:[c.mixins.editorAPIMixin],getInitialState:function(){return{isSpacing:false,stageMousePosition:null}},componentDidMount:function(){this._throttledUpdateMousePosition=a.throttle(this.updateMousePosition,100);window.addEventListener("mousemove",this._throttledUpdateMousePosition)},componentWillUnmount:function(){window.removeEventListener("mousemove",this._throttledUpdateMousePosition)},updateMousePosition:function(b){var d=c.utils.stageUtils.getStageLayout();if(!m(d,b.clientX,b.clientY)){if(this.state.stageMousePosition){this.setState({stageMousePosition:null})}}else{var e=this.getEditorAPI();var f;b=a.pick(b,["clientX","clientY","pageX","pageY"]);var g=c.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(e,b);f={x:g.pageX,y:g.pageY};this.setState({stageMousePosition:f})}},getSections:function(){if(this.props.sections){return this.props.sections}return c.utils.sectionsReorganizeUtil.getPageSections(this.getEditorAPI())},getSectionControlsProps:function(a,b){return B.call(this)||A.call(this,a)||x.call(this,a,b)},getSpacerProps:function(b){if((this.props.isCompDragging||this.props.isSectionDragging)&&!this.state.isSpacing){return null}var c=this.state.stageMousePosition;if(!b||!c){return null}var d=u.call(this,b,c);var f=o(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor);var g=p.call(this,b);var h=a.findIndex(b,g);var i=g?t.call(this,g):false;if(d===-1||!f||i){return null}var j=this;var k=this.props.isMobileEditor?"320px":"100%";return{style:{top:this.getSectionLayout(b[d]).y*this.props.siteScale,width:"calc("+k+" * "+this.props.siteScale+" + 2px)"},onMouseDown:function(a){e.tooltipManager.hide("zoom_mode_spacer_id");j.startSpacing(a,b,d)},isSpacerHovered:d===h}},getSeparatorLines:function(b){var c=w(b,this.getEditorAPI());var e=this.props.stageLayout;var f=d.uiUtils.getScrollbarWidth();var g=(e.width-f)*this.props.siteScale;if(this.props.isMobileEditor){g=320*this.props.siteScale}var h=(e.width-f-g)/2;return a.flatMap(c,a.bind(function(a){a*=this.props.siteScale;return[{x1:h-j,x2:h,y:a},{x1:h+g,x2:h+g+j,y:a}]},this))},closeGapBetweenSections:function(a,b){var d=a[b+1].position.top-a[b].position.bottom;for(var e=b+1;e<a.length;e++){c.utils.sectionsReorganizeUtil.shiftSection(this.getEditorAPI(),a[e],-1*d)}this.getEditorAPI().history.add("Delete Space")},shiftSection:function(b,d,e){var f=a.findIndex(b,d);var g=f+e;if(g<0||g>=b.length){return}var h=d;var i=b[g];if(e===-1){h=b[g];i=d}c.utils.sectionsReorganizeUtil.switchSections(this.getEditorAPI(),b,h,i);this.getEditorAPI().history.add("Move Section")},startSectionDrag:function(a,b,d){var e=this.getEditorAPI();e.setPageSections(b,d);e.registerMouseMoveAction(c.utils.sectionDrag,{sections:b,evt:a,minY:l(e),draggedSection:d,onDragEnd:this.onSectionDragEnd.bind(this,d,d.position.top)},true)},onSectionDragEnd:function(a,b){a=this.props.selectedSection||a;this.reportBI(i.REORDER_SECTION,{position_before:b,position_after:a.position.top,section_size:c.utils.sectionsReorganizeUtil.getSectionSizeForBI(a.position.bottom-a.position.top)});this.getEditorAPI().clearPageSections()},startSpacing:function(b,d,e){var g=this.getEditorAPI();var h=[];for(var i=e;i<d.length;i++){h=h.concat(d[i].comps)}if(a.isEmpty(h)){return}var j=e===0?0:d[e-1].position.bottom;g.registerMouseMoveAction(f,{evt:b,minY:j,snapThreshold:Math.round(k/this.props.siteScale),compsToPush:h,onSpaceEnd:this.onSpaceEnd});this.setState({isSpacing:true});g.setPageSections(d,d[e]);g.bi.event(c.bi.events.sectionReorganize.zoom_mode_spacer_drag)},onSpaceEnd:function(){this.getEditorAPI().clearPageSections();this.setState({isSpacing:false});this.getEditorAPI().history.add("Change Sections Space")},getSectionLayout:function(b){if(b.layout){return b.layout}if((this.props.isSectionDragging||this.state.isSpacing)&&!a.isEmpty(b.comps)){var c=this.getEditorAPI().components.layout.getRelativeToScreen(b.comps);return c.bounding||c}return{y:b.position.top,height:b.position.bottom-b.position.top}},reportBI:function(b,c){var d=this.getEditorAPI();c=a.assign({page_id:d.pages.getFocusedPageId()},c);d.bi.event(b,c)},render:g})});define("rEditor/rootComps/pinMode/pinMode.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:"pin-mode"},a.createElement("div",{className:"preview-rect",style:this.props.style}),a.createElement("div",{className:"blocking-layer",onClick:this.exitPinMode}))}});define("rEditor/rootComps/pinMode/pinMode",["react","core","lodash","rEditor/rootComps/pinMode/pinMode.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"pinMode",mixins:[b.mixins.editorAPIMixin],render:d,exitPinMode:function(){this.getEditorAPI().pinMode.closeAndCheckSizeRestrictions()}})});define("rEditor/rootComps/stage/editorStage.rt",["react","lodash","rEditor/rootComps/mouseCatcher","rEditor/rootComps/textEditor","rEditor/rootComps/funTextEditor","core","util","experiment","uiAnimations","rEditor/rootComps/gridLines/gridLines","rEditor/rootComps/rulers/rulers","rEditor/rootComps/mobileFrame/mobileFrame","rEditor/rootComps/sectionsReorganize/sectionsReorganize","rEditor/rootComps/pinMode/pinMode"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";function o(b,c){var d=g.translate;return a.createElement("div",{key:"teaser",className:"mobile-optimized-teaser"},a.createElement("h1",{},d("mobile_view_notification_title")),"\n                        ",d("mobile_view_notification_text"),"\n                        ",a.createElement("a",{onClick:this.openEditorModePanel},d("mobile_view_notification_text_link")),"\n                        ",d("mobile_view_notification_text2"),"\n                    ")}function p(){var d=this.getGuides();var h=this.getEditorAPI();return a.createElement("div",{className:b({"editor-stage":true,"tools-hidden":this.props.isReorganizeHidden}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),id:this.props.id},h.isMobileEditor()?a.createElement(l,{key:"mobileFrame",siteScale:this.props.siteScale,displayShadow:!this.isSectionDragging(),previewMode:this.props.previewMode}):null,a.createElement("div",{className:"scrollable-editor-stage "+(this.isSiteScrollingEnabled()?"":"scrolling-disabled"),ref:"scrollableEditorStage",id:"scrollableEditorStage",onScroll:this._handleScroll},a.createElement("div",{ref:"siteCover",className:"site-cover",style:{height:this.getStageHeight()}},this.isGridLinesVisible()?a.createElement("div",{className:"gridLines",key:"gridLines"},a.createElement(j,{key:"pageGridLines",gridLines:this.getPageGridLines(),fade:this.shouldFadeGridLines()}),h.components.is.showMarginsIndicator(this.props.focusedContainer)?a.createElement(j,{key:"containerGridLines",gridLines:this.getContainerGridLines()}):null):null,a.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},!this.props.previewMode&&this.props.editorIsInit&&!this.props.imageCrop.isOn?a.createElement(c,{ref:"mouseCatcher",key:"mouseCatcher",config:this.props.config,attachCandidate:this.props.attachCandidate,onContextMenu:this.props.onContextMenu,editorIsInit:this.props.editorIsInit,isSectionDragging:this.isSectionDragging(),isDragging:this.isDragging(),isResizing:this.isResizing(),isRotating:this.isRotating(),isPinMode:this.props.isPinMode,performingMouseMoveAction:this.props.performingMouseMoveAction,registeredMouseMoveAction:this.props.registeredMouseMoveAction,hoveredComp:this.state.hoveredComp,hoverBoxOverlay:this.state.hoverBoxOverlay||this.props.hoverBoxOverlay,setHoverBox:this.setHoverBox,clearHoverBox:this.clearHoverBox,selectedComponents:this.props.selectedComponents,focusedContainer:this.props.focusedContainer,compPanel:this.props.panel,previewPosition:this.props.previewPosition,previewMode:this.props.previewMode,siteScale:this.props.siteScale,snapData:this.props.snapData,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,tabIndicationState:this.props.tabIndicationState,lastSelectionClickPos:this.props.lastSelectionClickPos,lassoCandidates:this.props.lassoCandidates,lassoLayout:this.props.lassoLayout,constraintArea:this.props.constraintArea}):null,this.props.imageCrop.isOn?a.createElement(f.lazyComponent,b.assign({},{moduleName:"imageCrop.layer",key:"imageCrop"},{imageCropData:this.props.imageCrop,imageComponent:this.getImageComponent()})):null,a.createElement(e,{key:"funTextEditor",isOpenTextEditor:this.props.isOpenTextEditor,selectedTextComp:this.getSelectedTextComp(),isResizing:this.isResizing()}),this.props.viewTools.rulersEnabled&&!(this.props.siteScale!==1)&&h.isPreviewReady()?a.createElement(k,{key:"rulers",rulerDirection:"horizontal",previewHeight:this.getStageHeight(),guidesInRuler:d.horizontalGuides,selectedGuide:this.props.viewTools.rulers.selectedGuide,isHovered:this.props.viewTools.rulers.isHovered,toolsHidden:this.props.hideTools,selectedComponents:this.props.selectedComponents,isDragging:this.props.viewTools.rulers.isDragging,previewSize:this.props.previewPosition}):null),a.createElement("div",{className:"non-scalable"},this.props.siteScale!==1?a.createElement("div",{className:"block-layer",key:"block-layer"},a.createElement("div",{className:"side left transition",style:this.getSideBlockLayerStyle()}),a.createElement("div",{className:"side right transition",style:this.getSideBlockLayerStyle()}),!h.isMobileEditor()?a.createElement("div",{key:"block-layer-bottom",className:"side bottom",style:{height:"calc(100% - "+this.getSideBlockLayerHeight()+"px)"}}):null,!this.isSectionDragging()&&!h.isMobileEditor()?a.createElement("div",{key:"scaled-site-shadow",className:"shadow",style:this.getBlockShadowStyle()}):null):null,this.props.editorIsInit&&!this.props.isPinMode&&!this.props.isPopupMode&&(h.isMobileEditor()||this.props.siteScale!==1)?a.createElement(m,{key:"sectionsReorganize",ref:"sectionsReorganize",isMobileEditor:h.isMobileEditor(),sections:this.props.pageSections.sections,selectedSection:this.props.pageSections.selectedSection,isSectionDragging:this.isSectionDragging(),isCompDragging:this.isDragging(),siteScale:this.props.siteScale,isHidden:this.props.isReorganizeHidden,halfOpacityTools:this.props.halfOpacityTools,stageLayout:h.ui.stage.getEditingAreaLayout()}):null))),a.createElement("div",{className:"fixed-editor-stage",style:{width:"calc(100% - "+g.uiUtils.getScrollbarWidth()+"px)"}},a.createElement("div",{className:"fixed-editor-stage-contents-wrapper "+(this.props.siteScale!==1?"no-pointer-events":"")},a.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},this.props.isPinMode?a.createElement(n,{ref:"pinMode",key:"pinMode",style:this.props.pinPreviewRectStyle}):null,this.props.viewTools.rulersEnabled&&!(this.props.siteScale!==1)?a.createElement(k,{key:"rulers",rulerDirection:"vertical",guidesInRuler:d.verticalGuides,selectedGuide:this.props.viewTools.rulers.selectedGuide,isHovered:this.props.viewTools.rulers.isHovered,toolsHidden:this.props.hideTools,isDragging:this.props.viewTools.rulers.isDragging,previewSize:this.props.previewPosition}):null),a.createElement("div",{className:"non-scalable"},h.isMobileEditor()?a.createElement("div",{key:"mobileOpacityLayer",className:"mobile-frame-opacity-layer"
}):null,a.createElement(i.panelsAnimation,{},this.shouldDisplayMobileOptimizedTeaser()&!h.zoomMode.isInZoomMode()?o.apply(this,[d,h]):null)))))}return function(){return p.apply(this,[])}});define("rEditor/rootComps/stage/editorStage",["reactDOM","lodash","react","core","uiAnimations","rEditor/utils/mouseMoveActions/mouseMoveActionTypes","rEditor/rootComps/stage/editorStage.rt"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(!b){return false}if(b.length!==1){return false}var c=b[0];var d=a.components.data.get(c);var e=d&&d.type;return e==="StyledText"}function i(a,b){if(b&&b.length===1){var c=b[0];var d=a.components.data.get(c).type;if(d==="Image"){return c}}return null}return c.createClass({displayName:"EditorStage",mixins:[d.mixins.editorAPIMixin],propTypes:{guidesState:c.PropTypes.object,onStageScroll:c.PropTypes.func,previewPosition:c.PropTypes.object,viewTools:c.PropTypes.object.isRequired,focusedContainer:c.PropTypes.object,imageCrop:c.PropTypes.object.isRequired,hideTools:c.PropTypes.bool.isRequired,previewMode:c.PropTypes.bool.isRequired,pinPreviewRectStyle:c.PropTypes.object.isRequired,isOpenTextEditor:c.PropTypes.bool.isRequired,selectedComponents:c.PropTypes.array,isPinMode:c.PropTypes.bool,attachCandidate:c.PropTypes.object,siteScale:c.PropTypes.number.isRequired,snapData:c.PropTypes.array,applyModeFromClipboardSuggestion:c.PropTypes.object,tabIndicationState:c.PropTypes.object.isRequired,lastSelectionClickPos:c.PropTypes.object,lassoCandidates:c.PropTypes.array,lassoLayout:c.PropTypes.object,constraintArea:c.PropTypes.object},getInitialState:function(){return{hoveredComp:null,hoverBoxOverlay:false}},componentWillReceiveProps:function(){if(this.state.hoveredComp&&!this.getEditorAPI().components.is.exist(this.state.hoveredComp)){this.clearHoverBox()}},setHoverBox:function(a,c){var d=this.getEditorAPI();var e=d.utils.getParentIfCompCanBeSelected(a);var f=e?e:a;if(!b.isEqual(this.state.hoveredComp,f)){this.setState({hoveredComp:f,hoverBoxOverlay:!!c})}},clearHoverBox:function(){if(this.state.hoveredComp){this.setState({hoveredComp:null,hoverBoxOverlay:false})}},shouldDisplayMobileOptimizedTeaser:function(){var a=this.getEditorAPI();return a.isMobileEditor()&&!a.getPreviewMode()&&!a.isMobileOptimizedSite()},openEditorModePanel:function(){this.getEditorAPI().openMobileElementsPanel({mobileElementId:"mobileView"})},getStageHeight:function(){if(!this.getEditorAPI().isPreviewReady()){return"100%"}return this.props.siteHeight*this.props.siteScale},isLandingPage:function(){return this.getEditorAPI().isCurrentPageLandingPage()},isPopupPage:function(){return Boolean(this.getEditorAPI().pages.popupPages.getCurrentPopupId())},isSectionDragging:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===f.SECTION_DRAG&&this.props.performingMouseMoveAction||false},isDragging:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===f.DRAG&&this.props.performingMouseMoveAction},isResizing:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===f.RESIZE},isRotating:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===f.ROTATE},getScalableAreaStyle:function(){var a=this.props.siteScale;if(a!==1){return{height:this.props.siteHeight,transform:"scale("+a+")",transformOrigin:"center 0"}}},getSideBlockLayerStyle:function(){if(this.getEditorAPI().isMobileEditor()){return{width:"calc((100% - 320px * "+this.props.siteScale+") / 2)"}}return{width:100*(1-this.props.siteScale)/2+"%"}},getSideBlockLayerHeight:function(){return Math.max(0,this.props.siteHeight*this.props.siteScale)},getBlockShadowStyle:function(){var a=100*(1-this.props.siteScale)/2;return{left:a+"%",right:a+"%",height:this.getSideBlockLayerHeight()+"px"}},getImageComponent:function(){return i(this.getEditorAPI(),this.props.selectedComponents)},getScroll:function(){var b=a.findDOMNode(this.refs.scrollableEditorStage);return{scrollTop:b.scrollTop,scrollLeft:b.scrollLeft}},setScroll:function(c){var d=a.findDOMNode(this.refs.scrollableEditorStage);if(!b.isUndefined(c.scrollTop)){d.scrollTop=c.scrollTop}if(!b.isUndefined(c.scrollLeft)){d.scrollLeft=c.scrollLeft}},animateScroll:function(b,c,d){var f=a.findDOMNode(this.refs.scrollableEditorStage);e.scrollTo(b,c,0,f,d)},getGuides:function(){var a=this.getEditorAPI();var c=a.isMobileEditor()?"mobile":"desktop";var d=b.get(this.props.viewTools.rulers.guidesState,c);return d?{verticalGuides:d.verticalGuides,horizontalGuides:d.horizontalGuides}:{verticalGuides:[],horizontalGuides:[]}},syncPreviewScroll:function(){var a=this.getScroll();this.getEditorAPI().site.setScroll(a.scrollLeft,a.scrollTop)},_handleScroll:function(a){this.syncPreviewScroll(a);if(this.props.onStageScroll){this.props.onStageScroll(a)}},isSiteScrollingEnabled:function(){var a=b.get(this.getEditorAPI(),["site","isScrollingEnabled"],true);return!b.isFunction(a)||a()},getSiteCoverSizes:function(){var b=a.findDOMNode(this.refs.siteCover);return{width:b.clientWidth,height:b.clientHeight}},getPageGridLines:function(){var a=this.getEditorAPI();var b=this.isLandingPage()||this.isPopupPage();return d.utils.gridLinesUtil.getPageGridLines(a,b)},getContainerGridLines:function(){var a=this.getEditorAPI();var b=this.props.focusedContainer;return d.utils.gridLinesUtil.getContainerGridLines(a,b)},shouldFadeGridLines:function(){var a=this.getEditorAPI();var b=this.props.focusedContainer;var c=a.selection.getSelectedComponents();var d="wysiwyg.viewer.components.StripColumnsContainer";return!!(a.components.is.showMarginsIndicator(b)||a.components.getType(c)===d&&a.components.getChildren(c).length>1)},isGridLinesVisible:function(){var a=this.getEditorAPI();var b=true;if(a.isPreviewReady()&&a.pages.popupPages.isPopupOpened()){b=a.components.is.gridLinesVisible(a.pages.popupPages.getPopupContainer())}return a.isDesktopEditor()&&this.props.viewTools.guidelinesEnabled&&!this.props.isPinMode&&b},getSelectedTextComp:function(){if(h(this.getEditorAPI(),this.props.selectedComponents)){return this.props.selectedComponents[0]}return null},render:g})});define("rEditor/rootComps/prefetch/prefetch.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("link",{rel:"prefetch prerender",href:this.getHref()})}});define("rEditor/rootComps/prefetch/prefetch",["react","rEditor/rootComps/prefetch/prefetch.rt"],function(a,b){"use strict";return a.createClass({displayName:"prefetch",render:b,getHref:function(){if(this.props.base){return this.props.base.replace(/\/$/,"")+"/"+this.props.href.replace(/^\//,"")}return this.props.href}})});define("rEditor/rootComps/editorView.rt",["react","lodash","rEditor/rootComps/topBar/topBar","rEditor/rootComps/leftBar/leftBar","rEditor/rootComps/toolBar/toolBar","rEditor/rootComps/rightClickMenu/rightClickMenu","rEditor/rootComps/panels/openedPanels","rEditor/rootComps/portal/portal","baseUI","core","uiAnimations","rEditor/rootComps/stage/editorStage","rEditor/rootComps/mobileFrame/mobileFrame","textControls","rEditor/rootComps/prefetch/prefetch","experiment"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";function q(c){var e=c.getPreviewMode()?"consolePane":"idePane";return a.createElement(i.splitter,{className:"ide-splitter",layout:"horizontal",splitPosition:c.developerMode.ui[e].getSplitPosition(),onDividerClick:c.getPreviewMode()?null:c.developerMode.ui.idePane.toggleMinimize,statefulResize:true,onResize:c.developerMode.ui[e].setSplitPosition},a.createElement(i.splitter.Pane,{},a.createElement("div",{ref:"editingArea",id:"editingArea",className:b({"editing-area":true,"mobile-editor":c.isMobileEditor(),"preview-mode":c.getPreviewMode()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("div",{className:"preview-frame-cover"},c.isMobileEditor()&&c.getPreviewMode()?a.createElement(m,{key:"mobileFrame",previewMode:c.getPreviewMode()}):null,a.createElement("div",{className:"preview-container"},a.createElement("iframe",{ref:"preview",id:"preview",src:this.props.previewSrc,allowFullScreen:"true"})),!this.props.previewMode?a.createElement(l,{id:"stageContainer",ref:"editorStage",key:"editorStage",siteHeight:this.props.config.previewHeight,config:this.props.config,viewTools:this.props.viewTools,imageCrop:this.props.imageCrop,focusedContainer:this.props.focusedContainer,hideTools:this.props.hideTools,previewMode:this.props.previewMode,pinPreviewRectStyle:this.props.pinPreviewRectStyle,isOpenTextEditor:this.props.isOpenTextEditor,attachCandidate:this.props.attachCandidate,editorIsInit:this.props.editorIsInit,onContextMenu:this.onContextMenu,registeredMouseMoveAction:this.props.registeredMouseMoveAction,performingMouseMoveAction:this.props.performingMouseMoveAction,selectedComponents:this.props.selectedComponents,panel:this.props.compPanel,previewPosition:this.props.config.previewPosition,siteScale:this.props.siteScale,portalComps:this.props.portalComps,pageSections:this.props.pageSections,halfOpacityTools:this.props.halfOpacityTools,isReorganizeHidden:this.props.isReorganizeHidden,isPopupMode:this.props.isPopUpMode,isPinMode:this.props.isPinMode,onStageScroll:this.props.handleStageScroll,snapData:this.props.snapData,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,tabIndicationState:this.props.tabIndicationState,lastSelectionClickPos:this.props.lastSelectionClickPos,lassoCandidates:this.props.lassoCandidates,lassoLayout:this.props.lassoLayout,constraintArea:this.props.constraintArea}):null),a.createElement(g,{openPanels:this.props.nonCompPanels,editorState:this.props.editorState}),a.createElement(k.leftBarAnimation,{},!this.props.previewMode&&!this.props.isPinMode&&!this.props.imageCrop.isOn?a.createElement(d,{leftBarState:this.props.leftBar,ref:"leftBar",openPanels:this.props.openPanels,isPopupMode:this.props.isPopUpMode,isMobileEditor:this.props.isMobileEditor,isEnabled:this.props.editorIsInit,key:"leftBar",onContextMenu:this.onContextMenuPreventDefault,halfOpacityTools:this.props.halfOpacityTools,isHidden:this.props.hideTools}):null),!b.isEmpty(this.props.portalComps)?a.createElement(h,{key:"portalComps",comps:this.props.portalComps}):null)),this.props.shouldShowDevModePanels?a.createElement(i.splitter.Pane,{className:"wix-code-ide-pane",key:"wix-code-ide-pane",minSize:c.developerMode.ui.topbarHeight,onClick:this.onIdeClick},!this.props.previewMode?a.createElement(j.lazyComponent,{moduleName:"wixCode.components.IDE",key:"wix-code-ide",id:"wix-code-ide",currentPageId:c.pages.getFocusedPageId(),context:c.developerMode.getContext(),containerState:c.developerMode.ui.idePane.getState(),isTreePaneOpen:c.developerMode.ui.treePane.isOpen()}):null,this.props.previewMode?a.createElement(j.lazyComponent,{moduleName:"wixCode.components.console",key:"wix-code-console",containerState:c.developerMode.ui.consolePane.getState(),id:"wix-code-console"}):null):null)}function r(){var d=this.getEditorAPI();return a.createElement("div",{className:"editor-animation-manager-wrapper",id:"editor",tabIndex:"0"},a.createElement("div",{className:b({"editor-wrapper":true,"zoom-mode":this.props.siteScale!==1}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseMove:this.props.registeredMouseMoveAction&&!this.props.isUsingWindowMouseEvents?this.props.onMouseMove:b.noop,onMouseUp:this.props.registeredMouseMoveAction&&!this.props.isUsingWindowMouseEvents?this.props.onMouseUp:b.noop,onMouseDownCapture:this.onMouseDownCapture},this.props.isPreloaderVisible?a.createElement("div",{key:"init",className:"preloader"}):null,d.developerMode.isEnabled()?a.createElement(j.lazyComponent,{moduleName:"wixCode.components.wixCodeLoader",key:"wix-code-loader",id:"wix-code-loader",wixCodeLoaded:this.props.wixCodeLoaded}):null,a.createElement("div",{className:b({"editor-content-wrapper":true,"tools-hidden":this.props.hideTools&&!this.props.hideToolsAndMaintainStagePosition}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(i.splitter,{className:"file-pane-splitter",layout:"vertical",splitPosition:d.developerMode.ui.treePane.getSplitPosition(),statefulResize:true,onResize:d.developerMode.ui.treePane.setSplitPosition},this.props.shouldShowDevModePanels&&!this.props.previewMode?a.createElement(i.splitter.Pane,{key:"left-panel-pane",maxSize:"296px"},this.props.wixCodeLoaded?a.createElement(j.lazyComponent,{moduleName:"wixCode.components.Tree",key:"wix-code-tree",id:"wix-code-tree",context:d.developerMode.getContext()}):null):null,a.createElement(i.splitter.Pane,{},q.apply(this,[d]),a.createElement(g,{openPanels:b.compact([p.isOpen("se_platform1")&&this.props.fullStagePanel]),editorState:this.props.editorState,withHelpPanel:false})))),a.createElement("div",{className:"editor-controls"},a.createElement(c,{ref:"topbar",previewMode:this.props.previewMode,devModeContext:this.props.devModeContext,editorIsInit:this.props.editorIsInit,isMobileEditor:this.props.isMobileEditor,isMobileOptimized:d.isMobileOptimizedSite(),viewTools:this.props.viewTools,previewingStatus:this.props.previewingStatus,savingStatus:this.props.savingStatus,publishingStatus:this.props.publishingStatus,performingMouseMoveAction:this.props.performingMouseMoveAction,isEnabled:this.props.editorIsInit,height:this.props.config.topBarHeight,onTopBarClicked:d.onTopBarClicked,onContextMenu:this.onContextMenuPreventDefault,isHidden:this.props.hideTools,shouldHideToolsBtnBlink:this.props.shouldHideToolsBtnBlink}),a.createElement("div",{className:b({"file-context":b.get(d.developerMode.getContext(),"type")==="FILE"?"hidden":""}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},this.props.viewTools.toolbarEnabled&&!this.props.previewMode?a.createElement(e,{hidden:this.props.isPinMode||this.props.imageCrop.isOn,toolsHidden:this.props.hideTools,halfOpacityTools:this.props.halfOpacityTools,key:"toolBar",selectedComponent:this.props.selectedComponents,isEnabled:this.props.editorIsInit,onContextMenu:this.onContextMenuPreventDefault}):null,this.props.isLayoutTractorOpen&&!this.props.previewMode?a.createElement(j.lazyComponent,{moduleName:"compPanels.dynamicPanels.layoutTractor",key:"layoutTractorOpen",selectedComponents:this.props.selectedComponents}):null,this.props.viewTools.developerToolBarEnabled&&!this.props.previewMode?a.createElement(j.lazyComponent,{moduleName:"wixCode.components.developerToolBar",key:"developerToolbar",toolsHidden:this.props.hideTools,editedComponents:this.props.selectedComponents,isEnabled:this.props.editorIsInit,isReadOnly:this.props.isMobileEditor,onContextMenu:this.onContextMenuPreventDefault,wixCodeLoaded:this.props.wixCodeLoaded}):null,this.props.viewTools.platformToolBarEnabled&&!this.props.previewMode?a.createElement(j.lazyComponent,{moduleName:"platformPanels.platformToolBarPanel",panelProps:this.props.platformToolBarPanelProps,key:"platformToolBarPanel"}):null),a.createElement(i.tooltipsRenderer,{key:"tooltipsRenderer",shouldDisplayTooltips:!p.isMultiValueExperimentOpen("editorHintsConfigs")||!this.props.isTooltipsDisabled}),a.createElement(i.floatingBubble,{ref:"floatingBubble",pinMode:this.props.isPinMode}),a.createElement(i.dropDown.options,{}),p.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.editorIsInit?a.createElement(j.lazyComponent,{moduleName:"editorHints.hintPresenter",key:"hintPresenterLayer"}):null),!this.props.editorIsInit?a.createElement("div",{className:"preloader-overlap",key:"preloader-overlap"}):null,a.createElement(k.rightClickAppearance,{direction:"top",key:"rightClick"},this.props.contextMenu?a.createElement(f,{key:this.props.contextMenu.editorMousePosition.x+""+this.props.contextMenu.editorMousePosition.y,clipboard:this.props.clipboard,editorMousePosition:this.props.contextMenu.editorMousePosition,viewerMousePosition:this.props.contextMenu.viewerPosition,previewPosition:this.props.config.previewPosition,selectedComponents:this.props.selectedComponents}):null),this.props.languages?a.createElement(n.themeFontsLoader,{key:"theme-font-loader",themeFonts:this.props.themeFonts,documentType:this.props.documentType,languages:this.props.languages}):null,a.createElement(o,{href:"app/external/OrganizeImagesV2/index.html",base:this.props.editorBase})))}return function(){return r.apply(this,[])}});define("rEditor/rootComps/editorView",["react","lodash","util","core","rEditor/rootComps/editorView.rt"],function(a,b,c,d,e){"use strict";function f(a){var b=c.url.parseUrlParams(window.location);return a.ctrlKey&&b.debug==="all"}return a.createClass({displayName:"editorView",propTypes:{viewTools:a.PropTypes.object.isRequired,focusedContainer:a.PropTypes.object,languages:a.PropTypes.array,editorIsInit:a.PropTypes.bool.isRequired,previewMode:a.PropTypes.bool.isRequired,contextMenu:a.PropTypes.object,halfOpacityTools:a.PropTypes.bool.isRequired,hideTools:a.PropTypes.bool.isRequired,hideToolsAndMaintainStagePosition:a.PropTypes.bool.isRequired,isPinMode:a.PropTypes.bool.isRequired,performingMouseMoveAction:a.PropTypes.bool.isRequired,isMobileEditor:a.PropTypes.bool.isRequired,isPopUpMode:a.PropTypes.bool.isRequired,selectedComponents:a.PropTypes.array,siteScale:a.PropTypes.number.isRequired,portalComps:a.PropTypes.object.isRequired,savingStatus:a.PropTypes.string.isRequired,publishingStatus:a.PropTypes.string.isRequired,previewingStatus:a.PropTypes.string.isRequired,openPanels:a.PropTypes.array.isRequired,leftBar:a.PropTypes.object.isRequired,imageCrop:a.PropTypes.object.isRequired,config:a.PropTypes.object.isRequired,pageSections:a.PropTypes.object.isRequired,platformToolBarPanelProps:a.PropTypes.object,wixCodeLoaded:a.PropTypes.bool.isRequired,isTooltipsDisabled:a.PropTypes.bool.isRequired,clipboard:a.PropTypes.object.isRequired,shouldHideToolsBtnBlink:a.PropTypes.bool.isRequired,isLayoutTractorOpen:a.PropTypes.bool.isRequired,devModeContext:a.PropTypes.object.isRequired,registeredMouseMoveAction:a.PropTypes.object,isUsingWindowMouseEvents:a.PropTypes.bool,previewSrc:a.PropTypes.string.isRequired,onMouseMove:a.PropTypes.func.isRequired,onMouseUp:a.PropTypes.func.isRequired,isPreloaderVisible:a.PropTypes.bool.isRequired,shouldShowDevModePanels:a.PropTypes.bool.isRequired,handleStageScroll:a.PropTypes.func.isRequired,nonCompPanels:a.PropTypes.array.isRequired,compPanel:a.PropTypes.object,fullStagePanel:a.PropTypes.object,documentType:a.PropTypes.string,editorBase:a.PropTypes.string.isRequired,themeFonts:a.PropTypes.object,isReorganizeHidden:a.PropTypes.bool.isRequired,pinPreviewRectStyle:a.PropTypes.object.isRequired,isOpenTextEditor:a.PropTypes.bool.isRequired,attachCandidate:a.PropTypes.object,snapData:a.PropTypes.array,applyModeFromClipboardSuggestion:a.PropTypes.object,tabIndicationState:a.PropTypes.object.isRequired,lastSelectionClickPos:a.PropTypes.object,lassoCandidates:a.PropTypes.array,lassoLayout:a.PropTypes.object,constraintArea:a.PropTypes.object,editorState:a.PropTypes.object.isRequired},mixins:[d.mixins.editorAPIMixin],onContextMenu:function(a){if(f(a)){return}a.preventDefault();var b=this.getEditorAPI();b.panelManager.closeAllPanels();b.selection.selectComponentByClick(a);var c=d.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(b,a);b.openRightClickMenu(a.clientX,a.clientY,c.clientX,c.clientY)},onContextMenuPreventDefault:function(a){if(!f(a)){a.preventDefault()}},onIdeClick:function(){this.getEditorAPI().panelManager.closeAllPanels()},onMouseDownCapture:function(a){if(a.button===2){a.stopPropagation()}},render:e})});define("rEditor/rootComps/editor.rt",["react","lodash","rEditor/rootComps/editorView"],function(a,b,c){"use strict";return function(){return a.createElement(c,{ref:"editorView",viewTools:this.state.viewTools,focusedContainer:this.state.focusedContainer,languages:this.getLanguages(),editorIsInit:this.state.editorIsInit,contextMenu:this.state.contextMenu,halfOpacityTools:this.state.halfOpacityTools,hideTools:this.state.hideTools,hideToolsAndMaintainStagePosition:this.state.hideToolsAndMaintainStagePosition,previewMode:this.state.previewMode,selectedComponents:this.state.selectedComponents,siteScale:this.state.siteScale,portalComps:this.state.portalComps,isPinMode:Boolean(this.state.pinnedCompType),performingMouseMoveAction:this.state.performingMouseMoveAction,savingStatus:this.state.savingStatus,publishingStatus:this.state.publishingStatus,previewingStatus:this.state.previewingStatus,isMobileEditor:this.state.isMobileEditor,openPanels:this.state.openPanels,leftBar:this.state.leftBar,imageCrop:this.state.imageCrop,config:this.state.config,pageSections:this.state.pageSections,isPopUpMode:this.isPopUpMode(),wixCodeLoaded:this.state.wixCodeLoaded,platformToolBarPanelProps:this.state.platformToolBarPanelProps,isTooltipsDisabled:this.state.isTooltipsDisabled,clipboard:this.state.clipboard,shouldHideToolsBtnBlink:this.state.shouldHideToolsBtnBlink,isLayoutTractorOpen:this.state.isLayoutTractorOpen,devModeContext:this.state.devModeContext,registeredMouseMoveAction:this.state.registeredMouseMoveAction,isUsingWindowMouseEvents:this.state.isUsingWindowMouseEvents,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,previewSrc:this.getPreviewSource(),isPreloaderVisible:this.isPreloaderVisible(),shouldShowDevModePanels:this.shouldShowDevModePanels(),handleStageScroll:this._handleStageScroll,nonCompPanels:this.getNonCompPanels(),compPanel:this.getCompPanel(),fullStagePanel:this.getFullStagePanel(),documentType:this.getDocumentType(),editorBase:this.getEditorBase(),themeFonts:this.getThemeFonts(),isReorganizeHidden:this.isReorganizeHidden(),pinPreviewRectStyle:this.state.pinPreviewRectStyle,isOpenTextEditor:this.state.isOpenTextEditor,attachCandidate:this.state.attachCandidate,snapData:this.state.snapData,applyModeFromClipboardSuggestion:this.state.applyModeFromClipboardSuggestion,tabIndicationState:this.state.tabIndicationState,lastSelectionClickPos:this.state.lastSelectionClickPos,lassoCandidates:this.state.lassoCandidates,lassoLayout:this.state.lassoLayout,constraintArea:this.state.constraintArea,editorState:this.state})}});define("rEditor/rootComps/editor",["reactDOM","lodash","core","constants","react","jquery","util","baseUI","rEditor/app/EditorAPI","rEditor/rootComps/keyboard/config/shortcutsConfig","uiAnimations","tpa","blog","shoutOut","wixStore","wixBookings","rEditor/rootComps/editor.rt","rEditor/utils/openPanelByURL","compPanels","experiment","pLoader!santa:utils"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){"use strict";var v=false;if(window.bi){window.bi.event(c.bi.events.editor.EDITOR_LOADED.evid,{prefetch:window.afterEditorPrefetch})}g.newrelic.addPageAction("editor loaded");g.performance.mark("editor loaded");g.performance.measure("main-r started","domLoading","main-r loaded");g.performance.measure("addPanelData loaded","main-r loaded","addPanelData loaded");g.performance.measure("editor loaded","addPanelData loaded","editor loaded");var w=true;var x=g.serviceTopology.editorServerRoot||"http://editor.wix.com/html/editor/web";var y=x+"/renderer/render/";var z=y+"document/";var A=y+"template/";var B=x+"/renderer/new?";var C=[["editorIsInit"],["previewMode"],["devModeContext","type"],["renderIndex"],["registeredMouseMoveAction"],["isUsingWindowMouseEvents"],["performingMouseMoveAction"],["selectedComponents"]];var D;function E(){(new window.Image).src="http://fast.fonts.com/t/1.css?apiType=css&projectid=33bd0973-5b82-45be-bb77-837225874dfe"}var F=/\/([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12})/;function G(a){var b=a.match(F);return b&&b.length&&b[1]}function H(a){var c=["DisableNewRelicScripts","DisableNewRelicScriptsSantaEditor","FallbackToSantaTopologyValues"];return a.petri_ovr&&b(c).map(function(a){return"specs."+a+":true"}).filter(function(c){return b.includes(a.petri_ovr,c)}).join(";")}function I(a){var c=J(a.href)?A:z;var d=g.url.parseUrl(a.href).query;var e=H(d);var f=b(d).keys().find(function(a){return a.toLowerCase()==="showmobileview"});var h=["metaSiteId","ReactSource","SantaVersions","baseVersion","isqa","debug","editorSessionId","experiments","experimentsoff","viewerexp","suppressbi","WixCodeRuntimeSource","sampleratio","sdkSource","editorSdkSource","hot","dsQTrace","autosaveRestore"];if(t.isOpen("se_platform1")){h=h.concat(["editorPlatformAppSources","viewerPlatformAppSources"])}var i=new g.UrlBuilder(c+(d.siteId||G(a.href))).param("isEdited","true").param("isSantaEditor","true").param("dsOrigin","Editor1.4").ifParam(e,"petri_ovr",e).ifParam(t.isOpen("wixstaff"),"iswixsite","true").ifParam(f||r.shouldLoadMobileEditor(d),"showMobileView","true").param("lang",g.editorModel.languageCode).paramsObj(b.pick(d,h));return i.url()}function J(a){return a.indexOf(B)===0}function K(a){var b=g.translate("GENERAL_Close_Warning_Message");(a||window.event).returnValue=b;return b}function L(){return b(g.editorModel.runningExperiments).pickBy(function(a){return a==="new"}).keys().sortBy().join(",")}function M(){var a=f(window);this.editorAPI.bi.event(c.bi.events.editor.EDITOR_READY,{is_premium:this.editorAPI.site.isPremium(),is_template:this.editorAPI.documentServices.generalInfo.isFirstSave(),window_width:a.width(),window_height:a.height(),screen_width:window.screen.width,screen_height:window.screen.height,avail_width:window.screen.availWidth,avail_height:window.screen.availHeight,prefetch:window.afterEditorPrefetch,request_from_adi:this.editorAPI.generalInfo.isSiteFromOnBoarding(),experiments:L()})}function N(a){return b.pickBy(a,b.negate(b.isUndefined))}function O(){var a=this.setState;var c={};var d=[];function e(a){return function(){b.forEach(a,function(a){a()})}}function f(){if(v){g.animationFrameUtils.cancel(v)}v=false;var f=b.assign(c,{renderIndex:this.state.renderIndex+1});var h=e(d);d=[];c={};a.call(this,f,h)}this.setState=function(e,h){if(!v){v=g.animationFrameUtils.request(f.bind(this))}b.assign(c,e);if(b.isFunction(h)){d.push(h)}if(this.shouldComponentUpdate(this.props,b.defaults({},c,this.state))){f.call(this)}else{a.call(this,c)}}.bind(this)}return e.createClass({displayName:"editor",mixins:[k.animationManager,g.componentUpdatesMixin],propTypes:{isLeavePagePopUpDisabled:e.PropTypes.bool,editorAPIGetter:e.PropTypes.func},_resetEventListeners:function(){this._scrollListeners=[]},_handleStageScroll:function(a){b.invokeMap(this._scrollListeners,b.call,null,a)},getInitialState:function(){this.editorAPI=b.isFunction(this.props.editorAPIGetter)?this.props.editorAPIGetter(this):i.create(this);this.notifyEditorInit();var a={editorIsInit:false,config:this.editorAPI.editorConfig,wixCodeLoaded:false,devModeContext:this.editorAPI.developerMode.createContext(c.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE),contextMenu:null,registeredMouseMoveAction:null,performingMouseMoveAction:false,selectedComponents:null,focusedContainer:null,lastSelectionClickPos:null,previewMode:false,isMobileEditor:false,isLayoutTractorOpen:false,snapData:null,lassoLayout:null,candidates:null,clipboard:{},site:{premiumPackage:undefined},viewTools:{toolbarEnabled:undefined,developerToolBarEnabled:undefined,platformToolBarEnabled:undefined,guidelinesEnabled:undefined,sectionsHandlesEnabled:undefined,snapToEnabled:undefined,rulersEnabled:undefined,rulers:{guidesState:undefined,selectedGuide:undefined,isHovered:undefined,isDragging:null}},hasDatabaseCollections:null,platformToolBarPanelProps:undefined,helpProps:null,attachCandidate:null,constraintArea:null,openPanels:[],previewingStatus:c.constants.PROGRESS_STATUS.IDLE,savingStatus:c.constants.PROGRESS_STATUS.IDLE,publishingStatus:c.constants.PROGRESS_STATUS.IDLE,portalComps:{},leftBar:{isCollapsed:false,notifications:{},superApps:{desktop:[],mobile:[]}},pageSections:{sections:null,selectedSection:null},siteScale:1,pinPreviewRectStyle:{opacity:0},hideTools:false,hideToolsAndMaintainStagePosition:false,shouldHideToolsBtnBlink:false,halfOpacityTools:false,unreadComments:0,isOpenTextEditor:false,imageCrop:{isOn:false,cropArea:null,cropOriginArea:null},renderIndex:0,shouldOverlayUpdate:true,tabIndicationState:{indication:"INACTIVE",activeMode:undefined},isTooltipsDisabled:false};return a},childContextTypes:{editorAPI:e.PropTypes.object,mediaServices:e.PropTypes.object,bi:e.PropTypes.object,translateFromContext:e.PropTypes.func},getChildContext:function(){return{editorAPI:this.editorAPI,mediaServices:this.editorAPI.mediaServices,bi:window.bi,translateFromContext:g.translate}},notifyEditorInit:function(){this.editorAPI.initPanelManager();l.initEditor(this.editorAPI);j.init(this.editorAPI)},notifyPreviewReady:function(a){this.editorAPI.onPreviewReady(a);l.onPreviewReady(this.editorAPI);m.onPreviewReady(this.editorAPI);s.onPreviewReady(this.editorAPI);o.onPreviewReady(this.editorAPI);g.automationUtil.onPreviewReady(this.editorAPI);g.translate.init(this.editorAPI);var b=a.viewMode.get()===a.viewMode.VIEW_MODES.MOBILE;this.editorAPI.setEditorMode(b,true);this.setState({editorIsInit:true});if(w){w=false;M.call(this);g.newrelic.finished()}n.onPreviewReady(this.editorAPI);p.onPreviewReady(this.editorAPI);E();this.editorAPI.concurrentUsers.checkForConcurrentUsers(true);g.performance.mark("editor ready");g.performance.measure("editor ready","editor loaded","editor ready")},getPreviewSize:function(){var b=a.findDOMNode(this.refs.editorView.refs.preview);return{width:b.clientWidth,height:b.clientHeight}},getPreviewSource:function(){D=D||I(window.document.location);return D},componentWillMount:function(){this._resetEventListeners()},componentWillUnmount:function(){if(v){g.animationFrameUtils.cancel(v)}this._resetEventListeners()},componentDidMount:function(){O.call(this);this.updateKeyboardShortcutContext();var b=a.findDOMNode(this.refs.editorView.refs.preview);try{if(b.contentWindow&&b.contentWindow.documentServices){this.notifyPreviewReady(b.contentWindow.documentServices)}}catch(a){u.log.error("can not access preview iframe")}window.addEventListener("message",this.previewMessageHandler);if(!this.props.isLeavePagePopUpDisabled){window.onbeforeunload=K}if(window.history){window.history.replaceState({preview:false},"edit mode");window.onpopstate=this.onHistoryPopState}this.editorAPI.refreshPreviewPosition()},shouldComponentUpdate:function(a,c){var d=b.pick(c,C);var e=b.pick(this.state,C);return!b.isEqual(d,e)},componentDidUpdate:function(a,c){if(!c.editorIsInit&&this.state.editorIsInit){var d=window.document.getElementById("video-preloader");if(d){d.parentNode.removeChild(d)}}if(c.previewMode!==this.state.previewMode){if(window.history.state&&this.state.previewMode&&!window.history.state.preview){this.onEnterPreview()}else if(window.history.state&&!this.state.previewMode&&window.history.state.preview){this.onExitPreview()}this.updateKeyboardShortcutContext();f(window.document.body).toggleClass("previewMode",this.state.previewMode)}this.editorAPI.refreshPreviewPosition();b(this.renderCallbacks).filter(b.isFunction).forEach(function(a){a()})},onExitPreview:function(){window.history.replaceState({preview:false},"edit mode")},onEnterPreview:function(){window.history.pushState({preview:true},"site preview")},onHistoryPopState:function(a){if(!a.state){return}var b=a.state.preview&&!this.state.previewMode;var c=!a.state.preview&&this.state.previewMode;if(b||c){this.editorAPI.preview.togglePreview()}},updateKeyboardShortcutContext:function(){var a=g.keyboardShortcuts.CONTEXTS;g.keyboardShortcuts.setContext(this.state.previewMode?a.PREVIEW:a.EDITOR)},previewMessageHandler:function(b){if(this.getPreviewSource().indexOf(b.origin)===0&&b.data==="documentServicesLoaded"){var c=a.findDOMNode(this.refs.editorView.refs.preview);this.notifyPreviewReady(c.contentWindow.documentServices)}},getFullStagePanel:function(){return b.find(this.state.openPanels,{frameType:d.PANEL_TYPES.FULL_STAGE})},getCompPanel:function(){return b.find(this.state.openPanels,{frameType:d.PANEL_TYPES.COMP})},getNonCompPanels:function(){var a=[d.PANEL_TYPES.COMP,d.PANEL_TYPES.FULL_STAGE];return b.reject(this.state.openPanels,function(c){return b.includes(a,c.frameType);
})},registerMouseMoveAction:function(a,c,d){if(b.isFunction(a.start)){a.start(this.editorAPI,c)}if(d){f(window).on("mousemove",this.onMouseMove);f(window).on("mouseup",this.onMouseUp)}this.setState({registeredMouseMoveAction:a,isUsingWindowMouseEvents:!!d})},onMouseMove:function(a){var c=!this.state.performingMouseMoveAction;if(c){g.keyboardShortcuts.disable();this.setState({performingMouseMoveAction:true,lastSelectionClickPos:null})}if(this.state.registeredMouseMoveAction&&b.isFunction(this.state.registeredMouseMoveAction.on)){this.state.registeredMouseMoveAction.on(a)}},turnOffMouseEvents:function(){f(window).off("mousemove",this.onMouseMove);f(window).off("mouseup",this.onMouseUp)},getCancelMouseHandlerStateParams:function(){return{registeredMouseMoveAction:null,isUsingWindowMouseEvents:false,performingMouseMoveAction:false}},onMouseUp:function(a){this.turnOffMouseEvents();if(this.state.registeredMouseMoveAction&&b.isFunction(this.state.registeredMouseMoveAction.end)){this.state.registeredMouseMoveAction.end(a)}g.keyboardShortcuts.enable();if(t.isMultiValueExperimentOpen("editorHintsConfigs")){var c=this.state.registeredMouseMoveAction?this.state.registeredMouseMoveAction.type:null;this.editorAPI.pluginService.getPlugin("mouseMoveEndPlugin","*")(c,this.state.performingMouseMoveAction)}var d=this.getCancelMouseHandlerStateParams();if(!b.isEqual(d,b.pick(this.state,b.keys(d)))){this.setState(d)}},getDocumentType:function(){return this.editorAPI.generalInfo&&this.editorAPI.generalInfo.getDocumentType()},getLanguages:function(){return this.editorAPI.theme&&this.editorAPI.theme.fonts&&this.editorAPI.theme.fonts.getCharacterSet()},getThemeFonts:function(){return this.editorAPI.theme.fonts&&this.editorAPI.theme.fonts.getAll()},getEditorBase:function(){return g.editorModel.editorBase},isPreloaderVisible:function(){var a=window.document.getElementById("video-preloader");return!a&&!this.state.editorIsInit},showFloatingBubble:function(a,b,c,d){this.refs.editorView.refs.floatingBubble.showFloatingBubble(a,b,c,d)},hideFloatingBubble:function(){this.refs.editorView.refs.floatingBubble.hideFloatingBubble()},isPerformingMouseMoveAction:function(){return this.state.performingMouseMoveAction},getEditingAreaLayout:function(){return N(a.findDOMNode(this.refs.editorView.refs.editingArea).getBoundingClientRect())},getPreviewPosition:function(){return N(this.refs.editorView.refs.preview.getBoundingClientRect())},getScroll:function(){return this.refs.editorView.refs.editorStage.getScroll()},setScroll:function(a){return this.refs.editorView.refs.editorStage.setScroll(a)},getSiteScale:function(){return this.state.siteScale},setHoverBox:function(a,b){this.refs.editorView.refs.editorStage.setHoverBox(a,b)},clearHoverBox:function(){this.refs.editorView.refs.editorStage.clearHoverBox()},animateScroll:function(a,b,c){return this.refs.editorView.refs.editorStage.animateScroll(a,b,c)},addScrollListener:function(a){this._scrollListeners.push(a)},removeScrollListener:function(a){this._scrollListeners=b.without(this._scrollListeners,a)},setFocus:function(){a.findDOMNode(this).focus()},shouldShowDevModePanels:function(){return this.state.wixCodeLoaded&&this.editorAPI.developerMode.isEnabled()&&!this.state.hideTools},isPopUpMode:function(){return Boolean(this.editorAPI.isPreviewReady()&&this.editorAPI.pages.popupPages.getCurrentPopupId())},isReorganizeHidden:function(){return this.state.hideTools||this.isPopUpMode()},render:q})});define("rEditor/rootComps/editorMain",["reactDOM","util","react","rEditor/rootComps/editor","editorEventRegistry","rEditor/rootComps/gfpp/gfppModel","gfppData","experiment","lodash"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){if(a.debugTools){window.testApi=i.assign({},window.testApi,{domSelectors:a.qaAutomation.getDomSelectors(a.react,a.reactDOM),helpers:a.debugTools.helpers,clientSelectors:a.debugTools.clientSelectors})}if(a.qaAutomation){a.qaAutomation.init(window)}if(a.tpaIntegrationEditor){a.tpaIntegrationEditor.init(window,a.tpa,a.util,a.savePublish,a.panels)}if(a.uiLibIntegrationEditor){a.uiLibIntegrationEditor.init(window,a.tpa,a.util,a.savePublish,a.panels)}if(a.wixckeditor){a.wixckeditor.init()}if(a.platformIntegrationEditor){a.platformIntegrationEditor.init(window,a.platform)}}function k(){var a=b.url.getParameterByName("leavePagePopUp");return{isLeavePagePopUpDisabled:a==="false"}}function l(e){window.document.title=b.translate("EDITOR_BROWSER_TAB_NAME");j(e);m();b.polyfills.register();if(h.isOpen("qualaroo")){b.qualaroo.start()}if(h.isOpen("fullstory")){b.fullStory.start();b.fullStory.identify()}var f=window.document.getElementById("root");var g=c.createElement(d,k());window.rendered=a.render(g,f)}function m(){function a(a){require(["platform"],function(b){b.init(a,f.registerGfppActions,g.registerComponent,g.mergeComponentGfppData,g.consts.ACTIONS)})}if(h.isOpen("se_platform1")){e.register(e.constants.events.USER_PREFERENCES_LOADED,a)}}return{start:l}});define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt",["react","lodash","baseUILib","baseUI","util","core","compPanels"],function(a,b,c,d,e,f,g){"use strict";function h(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function i(){var b=this.getPopupProps()||{};return a.createElement(g.compPanelFrame,h({title:"Popups_OverlaySettings_Panel_Header",className:"popup-overlay-settings-panel",contentClass:"settings-panel",helpId:this.getHelpId()},this.getFrameProps()),a.createElement(d.firstTimeInfoBox,{biLearnMore:this.getEditorAPI().bi.event.bind(null,f.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,f.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE),context:"settings",id:"Popup_Overlay_Settings_Teaser",text:"Popups_OverlaySettings_FirstTime_Text",linkText:"add_category_teaser_link",learnMore:this.openHelpPanelFrame,userPrefs:this.getEditorAPI().getUserPreferences()}),a.createElement(c.Divider,{long:false}),a.createElement(d.toggle,{key:"clickClosesOverlay",label:"Popups_OverlaySettings_ClickCloses_Toggle",valueLink:this.linkPopupPropsValue(b,"closeOnOverlayClick")}))}return function(){return i.apply(this,[])}});define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel",["react","lodash","core","compPanels","helpIds","rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"overlaySettingsPanel",mixins:[d.compPanelMixin],render:f,componentDidMount:function(){this.getEditorAPI().bi.event(c.bi.events.popups.setup_overlay_clicked,{})},getHelpId:function(){return e.UTILS.getSettingsHelpId(e.COMP_TYPES.POPUP_OVERLAY,this.getEditorAPI().isMobileEditor())},getPage:function(){return this.getEditorAPI().pages.popupPages.getCurrentPopup()},getPopupProps:function(){return b.get(this.getEditorAPI().pages.properties.get(this.getPage()),"popup",{})},openHelpPanelFrame:function(){this.openHelpCenter(this.getHelpId(),true)},linkPopupPropsValue:function(a,c){return{value:a&&a[c],requestChange:function(a){var d=this.getEditorAPI();var e=d.pages.properties.get(this.getPage());b.set(e,["popup",c],a);d.pages.properties.update(this.getPage(),e);d.history.add("toggle close popup by click on overlay")}.bind(this)}}})});define("rEditor/pagesMenu/specialPagesMenuMixin",["core"],function(a){"use strict";return{mixins:[a.mixins.editorAPIMixin],getInitialState:function(){return{selectedSectionPage:null}},openSpecialPagesMenu:function(a){this.setState({selectedSectionPage:a})},closeSpecialPagesMenu:function(){this.setState({selectedSectionPage:null});this.props.closeSpecialPageMenu();this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_special_pages_back_click)},isSpecialPagesPanelOpen:function(){return Boolean(this.state.selectedSectionPage)}}});define("rEditor/pagesMenu/quickActionsMenuItemsMixin",["lodash","pagesMenu","core"],function(a,b,c){"use strict";var d,e=b.pageMenuItemHelpers;function f(a,b,c,d){var f=a.viewMode.get();if(f===a.viewMode.VIEW_MODES.DESKTOP){e.setHidden(a,b,d)}if(f===a.viewMode.VIEW_MODES.MOBILE){e.setHidden(a,b,undefined,d)}}function g(a,b,c){this.props.openSettingsPanel(b,c)}function h(a,b){var c=b.pageData.id;var d=a.platform.getAppDataByAppDefId(a.platform.editorApps.DATA_BINDING.appDefId);a.platform.notifyApplication(d.applicationId,{eventType:"addDynamicPageClicked",eventPayload:{pageRef:a.pages.getReference(c)}})}function i(a){return function(b,c){g.call(this,b,c,a)}}function j(b,c,d){b.openLinkPanel({visibleSections:{NoLink:false},showAllPopups:true,hidePageLinks:true,link:d,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:a.once(c)})}d={tabPageInfo:i("page"),tabLayout:i("layout"),tabPermissions:i("privacy"),tabSEO:i("seo"),settings:g,setAsDynamicPage:h,rename:function(a,b,c){if(b.pageData){e.renamePage(a,b.pageData,c)}else{e.renameMenuItem(a,b,c)}},duplicate:function(a,b){e.duplicateMenuItem(a,b,function(a){this.props.closeSettingsPanel();this.props.editedItemIdLink.requestChange(a)}.bind(this))},unhide:a.partialRight(f,false),hide:a.partialRight(f,true),subpage:e.subpage,moveup:e.moveUp,remove:function(a,b){this.props.closeSettingsPanel();e.removeMenuItem(a,b);if(b.pageData){a.bi.event(c.bi.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"page",page_popup_string_id:b.pageData.id,page_popup_name:b.pageData.title})}},changeLink:function(b,c){var d=function(d){var f=b.data.createItem(d.type);a.assign(f,a.omit(d,["type"]));e.updateLink(b,c.id,f)};j(b,d,b.data.getById(c.id).link)}};function k(b,d){var e=["tabPageInfo","tabLayout","tabPermissions","tabSEO"];var f=a.includes(e,d)?"settings":d;b.bi.event(c.bi.events.topbar.pages.top_bar_PAGES_quick_actions_menu_select_click,{category:f})}return{onActionMenuItemsSelected:function(b,c,e){if(a.isFunction(d[b])){d[b].call(this,this.getEditorAPI(),c,e)}k(this.getEditorAPI(),b)}}});define("rEditor/pagesMenu/pageNode/pageInfoTextHelper",["core"],function(a){"use strict";var b=a.utils.tpaTypeUtils;var c=a.utils.blogTypeUtils;var d=a.utils.wixStoreTypeUtils;return{getInfoTextForSpecialPage:function(a,e){if(c.isBlog(a,e)){return"Pages_Blog_Post_Info_WhatisText"}else if(b.isTPA(e)){if(d.isWixStore(a,e)){if(d.isWixStoreProductPage(e)){return"Pages_Store_Product_Info_WhatisText"}else if(d.isWixStoreCartPage(e)){return"Pages_Store_Cart_Info_WhatisText"}else if(d.isWixStoreThankYouPage(e)){return"Pages_Store_Thankyou_Info_WhatisText"}}else{return"TPA pages"}}},getInfoTextForSectionPage:function(a,e){if(c.isBlog(a,e)){return"Pages_Menu_Blog_Tooltip"}else if(b.isTPA(e)){if(d.isWixStore(a,e)){return"Pages_Store_Panel_Title"}return"TPA pages"}},getInfoTextForNonPage:function(a){if(a.type.isLink){return"Pages_Menu_Link_Tooltip"}else if(a.type.isDropdown){return"Pages_Menu_Dropdown_Tooltip"}}}});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell.rt",["react","lodash","pagesMenu","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/pageInfoTextHelper"],function(a,b,c,d,e,f,g,h){"use strict";return function(){return a.createElement(c.nodeContentCommon,b.assign({},{isVisible:this.props.isVisible===undefined?this.props.dataSource.isVisibleMobile:this.props.isVisible},this.props),a.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:this.onClick},a.createElement(f.symbol,{name:"quickActionsSettings"})),"\n\n    ",this.props.children,"\n")}});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell",["react","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell.rt"],function(a,b){"use strict";return a.createClass({displayName:"nodeContentMobileShell",onClick:function(){this.props.actions.openSettingsPanel(this.props.dataSource)},render:b})});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSimplePage.rt",["react","lodash","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell"],function(a,b,c){"use strict";return function(){return a.createElement(c,this.props)}});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileNotPage.rt",["react","lodash","baseUI","symbols","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell","rEditor/pagesMenu/pageNode/pageInfoTextHelper"],function(a,b,c,d,e,f){"use strict";function g(){var b=f.getInfoTextForNonPage(this.props.dataSource);return a.createElement(e,this.getNotPageProps(),a.createElement("a",{href:"#",key:"action-button-info-subpage",className:"action-button"},a.createElement(c.infoIcon,{symbolName:"actionButtonInfo",text:b,ref:"infoIcon"})))}return function(){return g.apply(this,[])}});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSectionPage.rt",["react","lodash","pagesMenu","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/pageInfoTextHelper","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){this.props.actions.openSubPagesMenu(this.props.dataSource)}function k(){var b=h.getInfoTextForSectionPage(this.getEditorAPI(),this.props.dataSource.pageData);return a.createElement(i,this.props,a.createElement("a",{className:"action-button action-button-special-pages-mobile",onClick:j.bind(this,b)},a.createElement(d.infoIcon,{symbolName:"actionButtonSpecialPages",propagate:true,text:b})))}return function(){return k.apply(this,[])}});define("rEditor/pagesMenu/pageNode/common/nodeContentSubPage.rt",["react","lodash","baseUI","rEditor/pagesMenu/pageNode/pageInfoTextHelper","pagesMenu","symbols"],function(a,b,c,d,e,f){"use strict";function g(a){this.props.actions.openSettingsPanel(this.props.dataSource)}function h(){var h=d.getInfoTextForSpecialPage(this.props.editorAPI,this.props.dataSource.pageData);return a.createElement(e.nodeContentCommon,b.assign({},{isVisible:true},this.props),a.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:g.bind(this,h)},a.createElement(f.symbol,{name:"quickActionsSettings"})),a.createElement("a",{href:"#",className:"action-button"},a.createElement(c.infoIcon,{symbolName:"actionButtonInfo",text:h})))}return function(){return h.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon.rt",["react","lodash","pagesMenu"],function(a,b,c){"use strict";return function(){return a.createElement(c.nodeContentCommon,b.assign({},{isVisible:this.props.isVisible===undefined?this.props.dataSource.isVisible:this.props.isVisible},this.props),"\n\n    ",this.props.children,"\n\n")}});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon",["react","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon.rt"],function(a,b){"use strict";return a.createClass({displayName:"nodeContentDesktopCommon",render:b})});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon.rt",["react","lodash","baseUI","symbols","util","pagesMenu","experiment"],function(a,b,c,d,e,f,g){"use strict";function h(){var b=this.props.dataSource;var h=e.translate;var i=f.pageMenuItemHelpers;var j=this.props.editorAPI;return a.createElement(c.dropDown.contextMenu,{shouldTranslate:false,icon:"moreRegular",className:"quick-actions action-button",shrink:this.props.shrink,onClick:this.handleClick,onNotificationClick:this.props.onNotificationClick,notificationCount:this.props.notificationCount,onChange:this.actionSelectedHandler,"data-hint-id":g.isMultiValueExperimentOpen("editorHintsConfigs")?this.props.pageMoreHintId:null},"\n\n    ",this.props.children,"\n\n    ",a.createElement(c.dropDown.option,{value:"rename",key:"quick-actions-rename"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"quickActionsRename"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Rename"))),i.canDuplicate(j,b)?a.createElement(c.dropDown.option,{key:"quick-actions-duplicate",value:"duplicate"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"qaDuplicate"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Duplicate"))):null,g.isOpen("dpages")&&this.isDeveloperModeEnabled()&&i.canBeSetAsDynamicPage(j,b)?a.createElement(c.dropDown.option,{key:"quick-actions-set-as-dynamic-page",value:"setAsDynamicPage"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"page_dynamic_icon"})),a.createElement("span",{className:"qa-label"},h("Platform_Page_Actions_Set_Dynamic_Page"))):null,i.canUnhide(j,b)?a.createElement(c.dropDown.option,{key:"quick-actions-unhide",value:"unhide"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"quickActionsShow"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Unhide"))):null,i.canHide(j,b)?a.createElement(c.dropDown.option,{key:"quick-actions-hide",value:"hide"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"quickActionsHide"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Hide"))):null,this.isSubpageActive(b)?a.createElement(c.dropDown.option,{key:"quick-actions-subpage",value:"subpage"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"quickActionsSubpage"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Subpage"))):null,this.isMoveUpActive(b)?a.createElement(c.dropDown.option,{key:"quick-actions-moveup",value:"moveup"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"quickActionsMainPage"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_MoveUp"))):null,i.canRemoveMenuItem(j,b)?a.createElement(c.dropDown.option,{key:"quick-actions-remove",value:"remove"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"qaDelete"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Delete"))):null)}return function(){return h.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon",["react","core","pagesMenu","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon.rt","experiment"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"quickActionsMenuCommon",mixins:[c.mixins.quickActionRenameMixin],propTypes:{dataSource:a.PropTypes.object.isRequired,editorAPI:a.PropTypes.object.isRequired,editedPageIdLink:a.PropTypes.object.isRequired,onActionSelected:a.PropTypes.func.isRequired},isSubpageActive:function(a){var b=c.pageMenuItemHelpers;return b.canSubpage(a)&&this.props.structureType==="tree"},isMoveUpActive:function(a){var b=c.pageMenuItemHelpers;return b.canMoveUp(a)&&this.props.structureType==="tree"},handleClick:function(){this.props.setSelected();if(e.isOpen("pagesFirstTimeSteps")){var a=this.props.dataSource.pageData;var c={page_on_top:this.props.dataSource.position===0,page_ind:a?a.id:"non-page"};this.props.editorAPI.bi.event(b.bi.events.topbar.pages.pages_panel_page_settings_click,c)}},isDeveloperModeEnabled:function(){var a=this.props.editorAPI;return a.developerMode.isEnabled()},render:d})});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage.rt",["react","lodash","baseUILib","baseUI","symbols","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon","experiment","util"],function(a,b,c,d,e,f,g,h){"use strict";function i(){var g=h.translate;return a.createElement(f,b.assign({},{onNotificationClick:this.getOnNotificationClick(),notificationCount:1},this.props),a.createElement(d.dropDown.option,{key:"quick-action-tab-page-info",value:"tabPageInfo",className:"primary psp-qa"},a.createElement(e.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),a.createElement("span",{className:"qa-label"},g("Pages_Actions_Page_Info"))),a.createElement(d.dropDown.option,{key:"quick-action-tab-layout",value:"tabLayout",className:"primary psp-qa"},a.createElement(e.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),a.createElement("span",{className:"qa-label"},g("Pages_Actions_Page_Layouts"))),a.createElement(d.dropDown.option,{key:"quick-action-tab-permissions",value:"tabPermissions",className:"primary psp-qa"},a.createElement(e.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),a.createElement("span",{className:"qa-label"},g("Pages_Actions_Page_Permissions"))),a.createElement(d.dropDown.option,{key:"quick-action-tab-seo",value:"tabSEO",className:"primary psp-qa"},a.createElement(e.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),a.createElement("span",{className:"qa-label"},g("Pages_Actions_Page_SEO"))),a.createElement(d.dropDown.option,{key:"quick-action-separator",className:"separator"},a.createElement(c.Divider,{long:true})),a.createElement(d.dropDown.option,{key:"quick-action-settings",value:"settings",className:"primary"},a.createElement(e.symbol,{name:"quickActionsSettings",style:{position:"relative",top:"4px",left:"-1px"}}),a.createElement("span",{className:"qa-label"},g("Pages_Actions_Page_Settings"))))}return function(){return i.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage",["react","pagesMenu","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"quickActionsMenuPage",getOnNotificationClick:function(){var a=this.props.actions.openSettingsPanel;var c=this.props.dataSource;if(b.utils.quickActions.hasNotification(this.props.editorAPI,this.props.dataSource.pageData.id)){return function(){a(c,"page")}}},render:c})});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSimplePage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage"],function(a,b,c,d){"use strict";return function(){return a.createElement(c,this.props,a.createElement(d,this.props))}});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSectionPage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage","rEditor/pagesMenu/pageNode/pageInfoTextHelper","baseUI"],function(a,b,c,d,e,f){"use strict";function g(a,b){this.props.actions.openSubPagesMenu(a)}function h(){var b=this.props.dataSource;var h=e.getInfoTextForSectionPage(this.getEditorAPI(),this.props.dataSource.pageData);return a.createElement(c,this.props,a.createElement(d,this.props),a.createElement("a",{href:"#",className:"action-button",onClick:g.bind(this,b,h)},a.createElement(f.infoIcon,{symbolName:"actionButtonSpecialPages",propagate:true,text:h})))}return function(){return h.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage.rt",["react","lodash","baseUI","symbols","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon","rEditor/pagesMenu/pageNode/pageInfoTextHelper","util"],function(a,b,c,d,e,f,g){"use strict";function h(){var b=this.props.dataSource;var f=g.translate;return a.createElement(e,this.props,b.type.isLink?a.createElement(c.dropDown.option,{key:"quick-actions-rename-link",value:"changeLink"},a.createElement(d.symbol,{name:"quickActionsLink"}),a.createElement("span",{className:"qa-label"},f("Pages_Actions_Link_Change"))):null)}return function(){return h.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage",["react","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage.rt"],function(a,b){"use strict";return a.createClass({displayName:"quickActionsMenuNotPage",render:b})});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopNotPage.rt",["react","lodash","baseUI","rEditor/pagesMenu/pageNode/pageInfoTextHelper","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage"],function(a,b,c,d,e,f){"use strict";function g(){var b=d.getInfoTextForNonPage(this.props.dataSource);return a.createElement(e,this.getNotPageProps(),a.createElement(f,this.props),a.createElement("a",{href:"#",key:"action-button-info-subpage",className:"action-button"},a.createElement(c.infoIcon,{symbolName:"actionButtonInfo",text:b,ref:"infoIcon"})))}return function(){return g.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage.rt",["react","lodash","baseUI","baseUILib","symbols","util"],function(a,b,c,d,e,f){"use strict";function g(b,d,f,g){return a.createElement(c.dropDown.option,{value:f.event,key:"page-settings-action"+g},a.createElement(e.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"3px 7px 0 4px"}}),"\n        ",f.title)}function h(b,d,f,g){return a.createElement(c.dropDown.option,{value:f.event,key:"page-actions"+g},a.createElement(e.symbol,{name:f.icon||"file",style:{position:"relative",margin:"3px 7px 0 4px"}}),"\n        ",f.title,"\n    ")}function i(){var e=this.props.dataSource;var i=f.translate;return a.createElement.apply(this,[c.dropDown.contextMenu,{shouldTranslate:false,icon:"moreRegular",className:"quick-actions action-button",onClick:this.handleClick,onChange:this.actionSelectedHandler},b.map(this.pageSettingsOptions,g.bind(this,e,i)),this.isDeveloperModeEnabled()?a.createElement(c.dropDown.option,{key:"quick-action-separator",className:"separator"},a.createElement(d.Divider,{long:true})):null,this.isDeveloperModeEnabled()?b.map(this.pageActionsOptions,h.bind(this,e,i)):null])}return function(){return i.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage",["react","lodash","platform","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage.rt"],function(a,b,c,d){"use strict";var e={PAGE_SETTINGS:"pageSettings",PAGE_ACTIONS:"pageActions"};return a.createClass({displayName:"quickActionsMenuDynamicPage",render:d,componentWillMount:function(){var a=this.props.editorAPI;this.pageActionsOptions=a.pages.dynamicPages.getDynamicPageOptions(this.props.dataSource.pageData.id,e.PAGE_ACTIONS);this.pageSettingsOptions=a.pages.dynamicPages.getDynamicPageOptions(this.props.dataSource.pageData.id,e.PAGE_SETTINGS)},isDeveloperModeEnabled:function(){var a=this.props.editorAPI;return a.developerMode.isEnabled()},getApplicationId:function(a){var c=this.props.editorAPI;var d=c.routers.get.byRef(a);return b.get(c.platform.getAppDataByAppDefId(d.appDefinitionId),"applicationId")},notifyApplicationOnEvent:function(a){var b=this.props.editorAPI;var c=b.pages.getReference(this.props.dataSource.pageData.id);var d=b.routers.getRouterRef.byPage(c);var e={routerRef:d,publicUrl:b.generalInfo.getPublicUrl(),pageRef:c};b.platform.notifyApplication(this.getApplicationId(d),{eventType:a,eventPayload:e})},actionSelectedHandler:function(a){var d=c.constants;var f=[].concat(this.pageActionsOptions,this.pageSettingsOptions);var g=b.find(f,{event:a});if(g.type===e.PAGE_SETTINGS){this.props.actions.openSettingsPanel(this.props.dataSource,g.title,this.pageSettingsOptions);return}if(a===d.pages.page_actions.rename.title){this.props.editedPageIdLink.requestChange(this.props.dataSource.pageData.id);return}this.notifyApplicationOnEvent(g.event)}})});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopDynamicPage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage"],function(a,b,c,d){"use strict";return function(){return a.createElement(c,this.props,a.createElement(d,this.props))}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter.rt",["react","lodash","baseUI","symbols","util"],function(a,b,c,d,e){"use strict";function f(b,e,f,g){return a.createElement(c.dropDown.option,{value:f.event,key:"router-actions"+g},a.createElement(d.symbol,{name:f.icon||"file",style:{position:"relative",margin:"0 7px 0 5px"}}),"\n        ",f.title,"\n    ")}function g(){var d=this.props.dataSource;var g=e.translate;return a.createElement.apply(this,[c.dropDown.contextMenu,{key:"router-context-menu",shouldTranslate:false,icon:"moreRegular",className:"quick-actions action-button",onClick:this.handleClick,onChange:this.actionSelectedHandler},b.map(this.getRouterActionOptions(),f.bind(this,d,g))])}return function(){return this.isDeveloperModeEnabled()?g.apply(this,[]):null}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter",["react","lodash","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"quickActionsMenuRouter",isDeveloperModeEnabled:function(){var a=this.props.editorAPI;return a.developerMode.isEnabled()},getRouterActionOptions:function(){return this.props.editorAPI.pages.dynamicPages.getRouterActionOptions(this.props.dataSource.prefix)},getApplicationId:function(a){var c=this.props.editorAPI;var d=c.routers.get.byRef(a);return b.get(c.platform.getAppDataByAppDefId(d.appDefinitionId),"applicationId")},notifyApplicationOnEvent:function(a){var b=this.props.editorAPI;var c=b.routers.getRouterRef.byPrefix(this.props.dataSource.prefix);var d={routerRef:c,publicUrl:b.generalInfo.getPublicUrl()};b.platform.notifyApplication(this.getApplicationId(c),{eventType:a,eventPayload:d})},actionSelectedHandler:function(a){this.notifyApplicationOnEvent(a)},render:c})});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopRouter.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter"],function(a,b,c,d){"use strict";return function(){return a.createElement(c,this.props,a.createElement(d,this.props))}});define("rEditor/pagesMenu/pageNodeRenderers",["rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSimplePage.rt","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileNotPage.rt","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSectionPage.rt","rEditor/pagesMenu/pageNode/common/nodeContentSubPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSimplePage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSectionPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopNotPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopDynamicPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopRouter.rt"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(d,e){if(d.type.isPage||d.type.isDynamicPage||d.type.isRouter){if(e){return c}return a}if(d.type.isLink||d.type.isDropdown){return b}}function k(a,b){if(a.type.isPage){if(b){return f}if(a.type.isDynamicPage){return h}return e}if(a.type.isLink||a.type.isDropdown){return g}if(a.type.isRouter){return i}}return{mobile:{mainMenu:j},desktop:{mainMenu:k},common:{subPages:function(){return d}}}});define("rEditor/pagesMenu/pageNode/common/nodeContentSubPage",["react","rEditor/pagesMenu/pageNodeRenderers"],function(a,b){"use strict";return a.createClass({displayName:"nodeContentMobileSubPage",render:function(){return b.common.subPages(this.props.dataSource).call(this)}})});define("rEditor/pagesMenu/subPages/subPages.rt",["react","lodash","baseUI","baseUILib","core","symbols","util","rEditor/pagesMenu/pageNode/common/nodeContentSubPage"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){a.preventDefault();this.props.closeSubPagesMenu()}return function(){return a.createElement("div",{className:"pages-tree-container pages-menu"},a.createElement("div",{className:"pages-tree-controls"},a.createElement("a",{href:"#",className:"panel-header-close",
onClick:i.bind(this)},a.createElement("button",{className:"button-control back-to-pages"},a.createElement(f.symbol,{name:"arrowLeft"})),a.createElement("span",{},g.translate("pages_blog_panel_back")))),e.utils.blogTypeUtils.isBlog(this.getEditorAPI(),this._curPageData)?a.createElement(c.firstTimeInfoBox,{key:"subpages-firsttime-for-blog",id:"blog-pages-menu",icon:"firstTimeBlogPages",title:"Pages_Blog_Firsttime_Title",text:"Pages_Blog_Firsttime_Text",hide:false,userPrefs:this.props.userPrefs,biLearnMore:this.getEditorAPI().bi.event.bind(null,e.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,e.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE)}):null,e.utils.tpaTypeUtils.isTPA(this._curPageData)?a.createElement(c.firstTimeInfoBox,{key:"subpages-firsttime-for-tpa",id:"store-pages-menu",icon:"firstTimeStorePages",title:"Pages_Store_Firsttime_Title",text:"Pages_Store_Firsttime_Text",hide:false,userPrefs:this.props.userPrefs,biLearnMore:this.getEditorAPI().bi.event.bind(null,e.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,e.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE)}):null,a.createElement(d.CustomScroll,{},a.createElement(c.treeView,{editedPageIdLink:this.isSubpageRenamingAllowed()?this.props.editedItemIdLink:undefined,onActionSelected:this.isSubpageRenamingAllowed()?this.onActionMenuItemsSelected:undefined,className:"pages-tree ",dataSource:this._pagesList,nodeContent:h,equalityComparer:this.equalityComparer,editorAPI:this.getEditorAPI(),actions:{openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel},valueLink:this.linkPage(this._curPageData.id),isRoot:true})))}});define("rEditor/pagesMenu/subPages/subPages",["lodash","react","core","pagesMenu","rEditor/pagesMenu/quickActionsMenuItemsMixin","experiment","rEditor/pagesMenu/subPages/subPages.rt"],function(a,b,c,d,e,f,g){"use strict";return b.createClass({displayName:"subPages",mixins:[b.addons.LinkedStateMixin,c.mixins.editorAPIMixin,e],propTypes:{userPrefs:b.PropTypes.object,sectionMenuItem:b.PropTypes.object,openSettingsPanel:b.PropTypes.func.isRequired,closeSubPagesMenu:b.PropTypes.func.isRequired,selectedMenuItemChanged:b.PropTypes.func.isRequired},linkPage:function(a){return{value:a,requestChange:function(a){this.props.selectedMenuItemChanged(a);if(a&&a.pageData){this.getEditorAPI().pages.navigateTo(a.pageData.id)}}.bind(this)}},getCurrentPagePageData:function(){var a=this.getEditorAPI();return a.pages.data.get(a.pages.getPrimaryPageId())},equalityComparer:function(a,b){return a.pageData&&a.pageData.id===b},isSubpageRenamingAllowed:function(){var b=a.get(this,"props.sectionMenuItem.pageData.id");var c=f.isOpen("se_blogChangeSinglePostPageName")&&this.getEditorAPI().wixapps.classics.blog.isFeed(b)===true;return c},render:function(){var a=this.getEditorAPI();var b;this._curPageData=this.getCurrentPagePageData();b=d.specialPages.menuLogic.getSpecialPagesListBySectionPageOrBySibling(a,this.props.sectionMenuItem&&this.props.sectionMenuItem.pageData||this._curPageData);this._pagesList=a.mainMenu.convertPagesDataListToMenuItemsList(b);return g.call(this)}})});define("rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups.rt",["react","lodash","util","symbols"],function(a,b,c,d){"use strict";return function(){return a.createElement("div",{className:"empty-pages-and-popups"},a.createElement("figure",{className:"empty-figure"},a.createElement(d.symbol,{name:"noSearchResultStructureSite"})),a.createElement("div",{className:"main-message"},c.translate("POPUPS_SiteStructure_EmptySearch_Title")),a.createElement("div",{className:"try-again-message"},c.translate("POPUPS_SiteStructure_EmptySearch_Text")))}});define("rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups",["react","rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups.rt"],function(a,b){"use strict";return a.createClass({displayName:"emptyPagesAndPopups",render:b})});define("rEditor/pagesMenu/popups/quickActions/popupQuickActions.rt",["react","lodash","baseUI","symbols","util"],function(a,b,c,d,e){"use strict";function f(a){this.props.actionSelected(this.props.popupData,a)}return function(){return a.createElement(c.dropDown.contextMenu,{shouldTranslate:false,icon:"moreRegular",className:"quick-actions action-button",onClick:this.props.onClick,onChange:f.bind(this)},a.createElement(c.dropDown.option,{value:"settings"},a.createElement(d.symbol,{name:"qaPopupSettings"}),a.createElement("span",{className:"qa-label"},e.translate("Pages_Actions_Popups_Settings"))),a.createElement(c.dropDown.option,{value:"startRename"},a.createElement(d.symbol,{name:"quickActionsRename"}),a.createElement("span",{className:"qa-label"},e.translate("Pages_Actions_Page_Rename"))),a.createElement(c.dropDown.option,{value:"duplicate"},a.createElement(d.symbol,{name:"qaDuplicate"}),a.createElement("span",{className:"qa-label"},e.translate("Pages_Actions_Page_Duplicate"))),a.createElement(c.dropDown.option,{value:"remove"},a.createElement(d.symbol,{name:"qaDelete"}),a.createElement("span",{className:"qa-label"},e.translate("Pages_Actions_Page_Delete"))))}});define("rEditor/pagesMenu/popups/quickActions/popupQuickActions",["lodash","react","rEditor/pagesMenu/popups/quickActions/popupQuickActions.rt"],function(a,b,c){"use strict";return b.createClass({displayName:"popupQuickActions",propTypes:{popupData:b.PropTypes.object.isRequired},render:c})});define("rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin",["lodash"],function(a){"use strict";return{showTooltip:function(){if(this.refs.infoIcon){this.refs.infoIcon.showTooltip()}},hideTooltip:function(){if(this.refs.infoIcon){this.refs.infoIcon.hideTooltip()}},getNotPageProps:function(){return a.assign({},this.props,{onClick:this.showTooltip,onMouseLeave:this.hideTooltip})}}});define("rEditor/pagesMenu/pageNode/common/nodeContentForList",["react","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(a,b,c,d){"use strict";return a.createClass({displayName:"nodeContentForList",mixins:[b.mixins.editorAPIMixin,c],getDefaultProps:function(){return{structureType:"list"}},render:function(){var a=this.getEditorAPI().isDesktopEditor()?"desktop":"mobile";return d[a].mainMenu(this.props.dataSource,this.props.isSectionPage).call(this)}})});define("rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList.rt",["react","lodash","pagesMenu","rEditor/pagesMenu/popups/quickActions/popupQuickActions","rEditor/pagesMenu/pageNode/common/nodeContentForList","baseUI","baseUILib","util"],function(a,b,c,d,e,f,g,h){"use strict";function i(b,c){return a.createElement("li",{className:"item",key:b.id},a.createElement(e,this.getMenuItemProps(b)))}function j(b,e){return a.createElement("li",{className:"item",key:b.id},a.createElement(c.pageItem,this.getPopupItemProps(b),this.isShowPopupQuickActions()?a.createElement(d,{key:"popup-quick-actions",popupData:b,actionSelected:this.onActionPopUpSelected}):null))}return function(){return a.createElement("div",{className:"pages-and-popups-list"},a.createElement(g.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%"},this.isPagesVisible()?a.createElement("section",{className:"list list-of-pages",key:"list-of-pages"},a.createElement("h1",{className:"list-label"},h.translate("POPUPS_SiteStructure_Panel_Pages")),a.createElement.apply(this,["ul",{className:"popups-list"},b.map(this.props.menuItemsList,i.bind(this))])):null,this.isPopUpsVisible()?a.createElement("section",{className:"list list-of-pop-ups",key:"list-of-popups"},a.createElement("h1",{className:"list-label"},h.translate("POPUPS_SiteStructure_Panel_Popups")),a.createElement.apply(this,["ul",{className:"pages-list"},b.map(this.props.popupsList,j.bind(this))])):null))}});define("rEditor/pagesMenu/quickActionsPopupsMixin",["lodash","core","pagesMenu"],function(a,b,c){"use strict";var d=c.pageMenuItemHelpers,e;e={settings:function(){var a=this.getEditorAPI(),b=a.pages.popupPages.getPopupContainer();a.selection.selectComponentByCompRef(b,function(){a.openComponentPanel("settingsPanel",{initiatorName:"quickActions"})})},startRename:function(a,b){this.props.editedItemIdLink.requestChange(b.id)},rename:function(a,b,c){d.renamePage(a,b,c);this.props.editedItemIdLink.requestChange(null)},duplicate:function(a,b){d.duplicatePopup(a,b,function(a){this.props.closeSettingsPanel();this.props.editedItemIdLink.requestChange(a)}.bind(this))},remove:function(a,c){d.removePopup(a,c.id);a.bi.event(b.bi.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"pop up",page_popup_string_id:c.id,page_popup_name:c.title})}};return{onActionPopUpSelected:function(b,c,d){if(a.isFunction(e[c])){e[c].call(this,this.getEditorAPI(),b,d)}}}});define("rEditor/pagesMenu/navigateToMixin",["core"],function(a){"use strict";return{navigateToPageById:function(b,c){var d=this.getEditorAPI(),e=d.pages.getFocusedPageId();if(e!==b||c){d.pages.navigateToAndScroll(b,c,d.applyPreviewScrollToEditorScroll);d.bi.event(a.bi.events.topbar.pages.top_bar_PAGES_navigate_to_page,{page_id:b})}},scrollToAnchor:function(a){var b=a.pageId&&a.pageId.replace("#","");this.navigateToPageById(b,a.anchorDataId)}}});define("rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList",["react","lodash","core","rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList.rt","rEditor/pagesMenu/quickActionsMenuItemsMixin","rEditor/pagesMenu/quickActionsPopupsMixin","rEditor/pagesMenu/navigateToMixin"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"pagesAndPopUpsList",mixins:[c.mixins.editorAPIMixin,e,f,g],propTypes:{popupsList:a.PropTypes.array.isRequired,menuItemsList:a.PropTypes.array.isRequired,openSettingsPanel:a.PropTypes.func.isRequired,closeSettingsPanel:a.PropTypes.func.isRequired,openSpecialPageMenu:a.PropTypes.func.isRequired,closeSpecialPageMenu:a.PropTypes.func.isRequired,isSectionPage:a.PropTypes.func.isRequired,editedItemIdLink:a.PropTypes.object.isRequired,selectedItemInfoLink:a.PropTypes.object.isRequired,changeSelectedMenuItem:a.PropTypes.func.isRequired,openSectionPageMenu:a.PropTypes.func.isRequired},onRenameDone:function(a,b){this.onActionPopUpSelected(a,"rename",b)},isShowPopupQuickActions:function(){return this.getEditorAPI().isDesktopEditor()},isPagesVisible:function(){return this.props.menuItemsList.length},isPopUpsVisible:function(){return this.props.popupsList.length},setSelectedPage:function(a){if(a.type.isPage){this.navigateToPageById(a.pageData.id)}else if(a.type.isLink&&a.type.raw==="AnchorLink"){this.scrollToAnchor(a.link)}this.props.changeSelectedMenuItem(a);this.props.selectedItemInfoLink.requestChange({id:a.id,isPageOrPopup:a.isPage})},getPopupItemProps:function(a){return{value:a.title,label:a.title,onChange:b.partial(this.onRenameDone,a),isVisible:true,isSelected:this.props.selectedItemInfoLink.value.id===a.id,editModeLink:this.linkEditMode(a.id),onClick:b.partial(this.onPopUpClick,a),onContextMenu:this.props.setSelected}},getMenuItemProps:function(a){return{editorAPI:this.getEditorAPI(),dataSource:a,editedPageIdLink:this.props.editedItemIdLink,isSelected:this.props.selectedItemInfoLink.value.id===a.id,onActionSelected:this.onActionMenuItemsSelected,setSelected:this.setSelectedPage.bind(this,a),isSectionPage:this.props.isSectionPage(a),actions:{openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.props.openSectionPageMenu}}},onPopUpClick:function(a,b){b.stopPropagation();this.getEditorAPI().pages.popupPages.open(a.id);this.props.closeSettingsPanel();this.props.selectedItemInfoLink.requestChange({id:a.id,isPageOrPopUp:true})},linkEditMode:function(a){return{value:a===this.props.editedItemIdLink.value,requestChange:function(b){this.props.editedItemIdLink.requestChange(b?a:null)}.bind(this)}},render:d})});define("rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups.rt",["react","lodash","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups","rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList"],function(a,b,c,d,e){"use strict";function f(){var f=this.getEditorAPI().getUserPreferences();return a.createElement("div",{className:"filtered-pages-and-popups"},!this.isSpecialPagesPanelOpen()?a.createElement("div",{className:"without-special-page",key:"list-of-filtered-pages-and-popups"},this.isHasSomeItems()?a.createElement(e,b.assign({},{key:"filtered-pages-and-popups-not-empty"},this.getProps())):null,!this.isHasSomeItems()?a.createElement(d,{key:"filtered-pages-and-popups-empty"}):null):null,this.isSpecialPagesPanelOpen()?a.createElement(c,{key:"subpages-menu",userPrefs:f,sectionMenuItem:this.state.selectedSectionPage,openSettingsPanel:this.props.openSpecialPageMenu,closeSubPagesMenu:this.closeSpecialPagesMenu,selectedMenuItemChanged:this.props.changeSpecialPage}):null)}return function(){return f.apply(this,[])}});define("rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups",["react","core","lodash","rEditor/pagesMenu/specialPagesMenuMixin","rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"filterPagesAndPopups",mixins:[a.addons.LinkedStateMixin,d],propTypes:{popupsList:a.PropTypes.array.isRequired,menuItemsList:a.PropTypes.array.isRequired,openSettingsPanel:a.PropTypes.func.isRequired,closeSettingsPanel:a.PropTypes.func.isRequired,openSpecialPageMenu:a.PropTypes.func.isRequired,closeSpecialPageMenu:a.PropTypes.func.isRequired,isSectionPage:a.PropTypes.func.isRequired,editedItemIdLink:a.PropTypes.object.isRequired,selectedItemInfoLink:a.PropTypes.object.isRequired,changeSelectedMenuItem:a.PropTypes.func.isRequired},isHasSomeItems:function(){return this.props.menuItemsList.length!==0||this.props.popupsList.length!==0},getProps:function(){return c.assign({},this.props,{openSectionPageMenu:this.openSpecialPagesMenu})},render:e})});define("rEditor/pagesMenu/mainMenuTreeState",["lodash"],function(a){"use strict";var b={};function c(a,c){b[a]=Boolean(c)}function d(a,c){if(b.hasOwnProperty(a)){return b[a]}return c||false}function e(b){a.forEach(b,function(a){a.isCollapsed=d(a.id);if(a.items.length>0){e(a.items)}else if(a.isCollapsed){a.isCollapsed=false;c(a.id,false)}})}function f(b,e){b.isCollapsed=d(b.id,e);var f=a.get(b,"items.length",0);if(f<=0&&b.isCollapsed){b.isCollapsed=false;c(b.id,false)}return b}return{setMenuItemCollapsed:c,reflectStateToMenuTree:e,reflectStateToMenuItem:f}});define("rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel.rt",["react","lodash","symbols","baseUI","util","experiment"],function(a,b,c,d,e,f){"use strict";function g(){var b=e.translate;return a.createElement("ul",{className:"tooltip-pages-add-menu"},a.createElement("li",{},a.createElement("div",{onClick:this.props.addPage},a.createElement("span",{className:"icon"},a.createElement(c.symbol,{name:"addPagePanelPage"})),a.createElement("div",{},a.createElement("span",{className:"title"},b("Pages_Menu_Add_Page_Title")),a.createElement("span",{className:"description"},b("Pages_Menu_Add_Page_Text"))))),f.isOpen("dpages")&&this.props.isEditorInDeveloperMode?a.createElement("li",{key:"dynamic_page"},a.createElement("div",{onClick:this.props.addDynamicPage},a.createElement("span",{className:"icon"},a.createElement(c.symbol,{name:"addPagePanelDynamicPage"})),a.createElement("div",{},a.createElement("span",{className:"title"},"\n                    ",b("Platform_Pages_Menu_Add_Dynamic_Page_Title"),"\n                "),a.createElement("span",{className:"description"},b("Platform_Pages_Menu_Add_Dynamic_Page_Text"))))):null,a.createElement("li",{},a.createElement("div",{onClick:this.props.addLink},a.createElement("span",{className:"icon"},a.createElement(c.symbol,{name:"addPagePanelLink"})),a.createElement("div",{},a.createElement("span",{className:"title"},"\n                    ",b("Pages_Menu_Add_Link_Title"),"\n                    ",a.createElement(d.tooltip,{value:"Pages_Menu_Add_Link_Tooltip",width:"228",alignment:d.uiConstants.TOOLTIP.ALIGNMENT.TOP},a.createElement("div",{className:"title-help-icon"},a.createElement(c.symbol,{name:"infoSmall"})))),a.createElement("span",{className:"description"},b("Pages_Menu_Add_Link_Text"))))),a.createElement("li",{},a.createElement("div",{onClick:this.props.addDropdown},a.createElement("span",{className:"icon"},a.createElement(c.symbol,{name:"addPagePanelDropDown"})),a.createElement("div",{},a.createElement("span",{className:"title"},"\n                    ",b("Pages_Menu_Add_Dropdown_Title"),"\n                    ",a.createElement(d.tooltip,{value:this.getTooltipValue(),width:"240px",alignment:d.uiConstants.TOOLTIP.ALIGNMENT.TOP},a.createElement("div",{className:"title-help-icon"},a.createElement(c.symbol,{name:"infoSmall"})))),a.createElement("span",{className:"description"},b("Pages_Menu_Add_Dropdown_Text"))))))}return function(){return g.apply(this,[])}});define("rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel",["react","lodash","baseUI","rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"addPageMenuPanel",mixins:[],propTypes:{addPage:a.PropTypes.func.isRequired,addLink:a.PropTypes.func.isRequired,addDropdown:a.PropTypes.func.isRequired,addDynamicPage:a.PropTypes.func,isEditorInDeveloperMode:a.PropTypes.bool},getTooltipValue:function(){return{classPath:"baseUI.popoverTemplates.imageAndTextTooltip",props:{image:"addDropDownHint",imageContainerStyle:{backgroundColor:"#17a8a4"},text:"Pages_Menu_Add_Dropdown_Tooltip"}}},render:d})});define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils",["util"],function(a){"use strict";var b={none:"Pages_Menu_Transitions_None",swipeHorizontalFullScreen:"Pages_Menu_Transitions_SwipeH_Selected",swipeVerticalFullScreen:"Pages_Menu_Transitions_SwipeV_Popup",crossfade:"Pages_Menu_Transitions_CrossFade",outIn:"Pages_Menu_Transitions_OutIn"};var c={outIn:"outIn",crossfade:"crossfade",shrinkfade:"crossfade",swipeHorizontal:"swipeHorizontalFullScreen",swipeHorizontalFullScreen:"swipeHorizontalFullScreen",swipeVertical:"swipeVerticalFullScreen",swipeVerticalFullScreen:"swipeVerticalFullScreen",none:"none"};return{calcNewIdFromLegacy:function(a){return c[a]?c[a]:c.none},getTransitionLabelKey:function(a){var c=this.calcNewIdFromLegacy(a);return b[c]},getTransitionLabelTranslated:function(b){return a.translate(this.getTransitionLabelKey(b))}}});define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","baseUILib"],function(a,b,c,d,e,f,g,h){"use strict";return function(){return a.createElement("section",{className:"page-transitions",tabIndex:"0"},a.createElement(h.PanelHeader,{className:"dark",onClose:this.close,onHelp:this.helpClicked},a.createElement("span",{},f.translate("Pages_Menu_Transitions_Title"))),a.createElement("div",{className:"content"},a.createElement(c.firstTimeInfoBox,{id:"page-transitions-panel",icon:"pageTransitions",title:"Pages_Menu_Transitions_FirstTime_Title",text:"Pages_Menu_Transitions_FirstTime_Text",hide:true,userPrefs:this.props.userPrefs,biLearnMore:this.props.biEvent.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.props.biEvent.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE)}),a.createElement(c.thumbnails,{className:"with-labels",maxThumbsPerRow:"3",options:this.props.transitionsToShow,value:g.calcNewIdFromLegacy(this.getEditorAPI().pages.transitions.get()),onChange:this.onTransitionChange})),a.createElement("i",{className:"triangle"}))}});define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel",["reactDOM","react","lodash","baseUI","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel.rt","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","core","util"],function(a,b,c,d,e,f,g,h){"use strict";var i=d.tooltipManager;var j=[{id:"none",symbolName:"transition-none"},{id:"swipeHorizontalFullScreen",symbolName:"transition-pages-horizontal"},{id:"swipeVerticalFullScreen",symbolName:"transition-pages-vertical"},{id:"crossfade",symbolName:"transition-pages-crossfade"},{id:"outIn",symbolName:"transition-pages-inout"}];return b.createClass({displayName:"pageTransitionsPanel",mixins:[g.mixins.editorAPIMixin,h.outerClickMixin],render:e,propTypes:{onClose:b.PropTypes.func},getDefaultProps:function(){return{transitionsToShow:c.map(j,function(a){return{value:a.id,label:f.getTransitionLabelKey(a.id),symbolName:a.symbolName}})}},componentDidMount:function(){a.findDOMNode(this).focus()},onTransitionChange:function(a){this.getEditorAPI().pages.transitions.set(a);this.getEditorAPI().bi.event(g.bi.events.topbar.pages.top_bar_PAGES_page_transition_selected_click,{category:a});this.performAnimationSimulation()},flattenMenuData:function(a){var b=[];c.forEach(a.mainMenu.getMenu(true),function(a){b.push(a);b=b.concat(a.items||[])});return b},performAnimationSimulation:function(){var a=this.getEditorAPI();var b=a.pages.getPrimaryPageId();var d=c.filter(this.flattenMenuData(a),function(a){return a.link?a.link.type==="PageLink":false});var e=c.map(c.map(d,"link"),"pageId");var f=e.indexOf("#"+b);var g=f+1;if(f===e.length-1){g=0}if(g!==f){a.pages.navigateTo(e[g].slice(1))}},helpClicked:function(){var a=this.getEditorAPI();var b={panel_name:this.props.id,origin:g.constants.BI.HELP.ORIGIN.PAGES,learn_more:false};a.panelManager.openHelpCenter("dfc95824-954a-4d20-aad2-7971d3fbdb98",null,b);i.hide(this.props.id)},close:function(){if(this.props.onClose){this.props.onClose()}i.hide(this.props.id)},onOuterClick:function(){this.close()}})});define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin",["lodash","core","rEditor/pagesMenu/mainMenuTreeState","rEditor/pagesMenu/navigateToMixin","experiment"],function(a,b,c,d,e){"use strict";var f=40;var g=17;function h(b){return a.reduce(b||[],function(a,b){if(!b.isCollapsed){a+=h(b.items)}return a+1},0)}function i(b,c){a.forEach(b,function(a,b){if(a.items&&a.items.length){a.items=i(a.items,c)}for(var d=0;d<c.length;d+=1){a=c[d](a,b)}});return b}function j(a,b){a.position=b;return a}return{mixins:[b.mixins.editorAPIMixin,d],onPageToggled:function(a,b){var d=a.props.dataSource.id;c.setMenuItemCollapsed(d,b);this.forceUpdate()},linkPage:function(){var b=this.props.selectedItemInfoLink.value,c=Boolean(b.isPageOrPopup),d=b.id;return{value:{pageId:c?d:null,menuItemId:!c?d:null,isPage:c},requestChange:function(b){this.props.selectedItemInfoLink.requestChange({id:b.type.isPage?a.get(b.pageData,"id"):b.id,isPageOrPopup:b.type.isPage});this.props.changeSelectedMenuItem(b);if(b.type.isPage){this.navigateToPageById(b.pageData.id)}else if(b.type.isLink&&b.type.raw==="AnchorLink"){this.scrollToAnchor(b.link)}}.bind(this)}},closePanel:function(){this.props.onClose()},shouldShrinkMenu:function(){return h(this._menuTree)>g},equalityComparer:function(a,b){return b.isPage&&a.pageData&&a.pageData.id===b.pageId||b.menuItemId===a.id},getTreeDockerScrollTop:function(){return this.refs.pagesTree.getScrollTop()},renderTemplate:function(a){var b=this.getEditorAPI();var d=b.pages.getPagesData();var g=this.props.menuItemsTree;var h=e.isOpen("pagesPanelOpenCollapsed")?d.length>f:false;g=i(g,[function(a){return c.reflectStateToMenuItem(a,h)},j]);this._menuTree=g;if(e.isOpen("dpages")){var k=b.pages.dynamicPages.getMenuItems();k=i(k,[function(a){return c.reflectStateToMenuItem(a,h)}]);this._menuDynamicTree=k}return a.call(this)}}});define("rEditor/pagesMenu/pagesTree/pagesTree.rt",["react","lodash","baseUI","baseUILib","experiment"],function(a,b,c,d,e){"use strict";return function(){return a.createElement(d.CustomScroll,{ref:"customScroll"},a.createElement(c.treeView,b.assign({},{className:this.getTreeViewClasses(),dataSource:this.props.pagesList,collapsedSelector:"isCollapsed",editorAPI:this.getEditorAPI(),isRoot:true},this.filteredProps())),e.isOpen("dpages")?a.createElement(c.treeView,b.assign({},{key:"dynamicPagesTree",className:"dynamic-pages",dataSource:this.props.dynamicPagesList,collapsedSelector:"isCollapsed",editorAPI:this.getEditorAPI(),isRoot:true},this.filteredProps())):null)}});define("rEditor/pagesMenu/pagesTree/pagesTree",["reactDOM","lodash","react","core","rEditor/pagesMenu/pagesTree/pagesTree.rt"],function(a,b,c,d,e){"use strict";return c.createClass({displayName:"pagesTree",mixins:[d.mixins.editorAPIMixin],propTypes:{pagesList:c.PropTypes.any.isRequired,dynamicPagesList:c.PropTypes.any.isRequired},filteredProps:function(){return b.omit(this.props,["dynamicPagesList","pagesList","dataSource","className","nodeTemplate","collapsedSelector","editorAPI"])},getScrollTop:function(){return this.refs.customScroll.getScrollTop()},scrollToSelectedNode:function(){this._scrollToSelectedNode=true},componentDidUpdate:function(){var b,c,d,e,f=NaN;if(!this._scrollToSelectedNode){return}this._scrollToSelectedNode=false;b=a.findDOMNode(this);c=b.querySelector(".pages-tree-item.selected");if(c){d=b.getBoundingClientRect();e=c.getBoundingClientRect();if(e.top<d.top){f=this.getScrollTop()+(e.top-d.top)}else if(e.bottom>d.bottom){f=this.getScrollTop()+(e.bottom-d.bottom)}if(!isNaN(f)){this.refs.customScroll.updateScrollPosition(Math.max(0,f))}}},getTreeViewClasses:function(){return"pages-tree "},render:e})});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopMainMenu",["react","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(a,b,c,d){"use strict";return a.createClass({displayName:"nodeContentDesktopMainMenu",mixins:[b.mixins.editorAPIMixin,c],render:function(){var a=this.props.dataSource;return d.desktop.mainMenu(a,this.props.isSectionPage(a)).call(this)}})});define("rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","util"],function(a,b,c,d){"use strict";function e(){var e=d.translate;return a.createElement("div",{key:"pagesMenuContextMenuContainer",style:{position:"absolute",top:this.state.position.y,left:this.state.position.x},className:b({rightClickMenu:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("ul",{},a.createElement(c,{className:b({"item-basic":true,hoverable:true,rightClickItemPageMenu:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"pagesMenuContextMenuAddPage",label:e(this.addPageItem.label),shouldTranslate:false,item:this.addPageItem,onClick:this.addPageClickHandler}),a.createElement(c,{className:b({"item-basic":true,hoverable:true,rightClickItemPageMenu:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"pagesMenuContextMenuAddLink",label:e(this.addLinkItem.label),shouldTranslate:false,item:this.addLinkItem,onClick:this.addLinkClickHandler}),a.createElement(c,{className:b({"item-basic":true,hoverable:true,rightClickItemPageMenu:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"pagesMenuContextMenuAddDropdown",label:e(this.addDropdownItem.label),shouldTranslate:false,item:this.addDropdownItem,onClick:this.addDropdownClickHandler})),a.createElement("ul",{},a.createElement(c,{className:b({"item-basic":true,hoverable:true,rightClickItemPageMenu:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"pagesMenuContextMenuChangeTransition",label:e(this.changeTransitionItem.label),shouldTranslate:false,item:this.changeTransitionItem,onClick:this.changeTransitionClickHandler})))}return function(){return this.state.isContextMenuOpen?e.apply(this,[]):null}});define("rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu",["react","core","lodash","baseUI","rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu.rt"],function(a,b,c,d,e){"use strict";var f=d.tooltipManager;return a.createClass({displayName:"pagesMenuContextMenu",mixins:[b.mixins.editorAPIMixin],propTypes:{addPage:a.PropTypes.func,addLink:a.PropTypes.func,addDropdown:a.PropTypes.func,transitionPanelId:a.PropTypes.string},addPageItem:{label:"Pages_Menu_Context_Menu_Add_Page",enabled:true},addLinkItem:{label:"Pages_Menu_Context_Menu_Add_Link",enabled:true},addDropdownItem:{label:"Pages_Menu_Context_Menu_Add_Dropdown",enabled:true},changeTransitionItem:{label:"Pages_Menu_Context_Menu_Change_Transition",enabled:true},closeContextMenu:function(){this.setState({isContextMenuOpen:false})},getInitialState:function(){return{isContextMenuOpen:false,position:null}},show:function(a){this.setState({isContextMenuOpen:true,position:a});var c={origin:"right_click"};this.getEditorAPI().bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_click,c)},addPageClickHandler:function(){this.closeContextMenu();var a={origin:"right_click"};this.props.addPage(undefined,a)},addLinkClickHandler:function(){this.closeContextMenu();var a={origin:"right_click"};this.props.addLink(undefined,a)},addDropdownClickHandler:function(){this.closeContextMenu();var a={origin:"right_click"};this.props.addDropdown(undefined,a)},changeTransitionClickHandler:function(){this.closeContextMenu();f.show(this.props.transitionPanelId);var a={origin:"right_click"};this.getEditorAPI().bi.event(b.bi.events.topbar.pages.top_bar_PAGES_page_transition_click,a)},render:e})});define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/common/nodeContentSubPage","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopMainMenu","rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu","experiment"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";function m(a,b,c){this.movePage(c,this.props.menuItemsTree)}function n(){var d=this.getEditorAPI();var g=f.translate;return a.createElement("div",{className:b({"pages-menu":true,"pages-panel-settings-opened":!!this.state.menuItemIdToShowSettingsFor}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("div",{className:b({"pages-tree-container":true,"disable-drag":this.hasEditedPages()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseDown:this.mouseDownHandler,onContextMenu:this.rightClickHandler},a.createElement(c.treeDocker,{className:b({"pages-tree-docker":true,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onNodeMoved:m.bind(this,d,g),treeClass:"pages-tree",treeNodeClass:"pages-tree-node",treeNodeLabelClass:"pages-tree-item",draggedClass:"rotated",previewClass:"shadow",cantBeChildClass:"cant-be-child",isDragAvailable:!this.hasEditedPages(),scrollTopGetter:this.getTreeDockerScrollTop,collapsedClass:"tree-collapsed"},a.createElement(h,{ref:"pagesTree",nodeContent:j,structureType:"tree",equalityComparer:this.equalityComparer,pagesList:this._menuTree,dynamicPagesList:l.isOpen("dpages")?this._menuDynamicTree:undefined,onNodeToggled:this.onPageToggled,isSectionPage:this.props.isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu},onActionSelected:this.onActionMenuItemsSelected,editedPageIdLink:this.props.editedMenuItemIdLink,valueLink:this.linkPage()}))),a.createElement("footer",{},a.createElement(c.tooltip,{value:this.getAddPageMenu(),alignment:"right",width:"296",marginsFromWindow:"75",openTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.CLICK],closeTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.OUTER_CLICK],onClose:this.onAddPageMenuClose,id:"addPageMenuPopoverId",className:"popover-add-page-menu"},a.createElement(c.button,{label:"Pages_Menu_Add_Button",icon:"addPage",onClick:this.reportClick("add"),hintId:"Pages_NewPage"})),a.createElement(c.tooltip,{value:this.getPageTransitionsPanel(),alignment:"right",width:"296",marginsFromWindow:"0",openTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.CLICK],
closeTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.OUTER_CLICK],id:this.getPageTransitionsPanelId()},a.createElement("div",{className:"page-transition",onClick:this.reportClick("transition")},a.createElement("div",{className:"icon"},a.createElement(e.symbol,{name:"truck"})),a.createElement("div",{},a.createElement("span",{},g("Pages_Menu_Transitions_Caption")),a.createElement(c.button,{className:"btn-text",label:i.getTransitionLabelKey(d.pages.transitions.get())}))))),a.createElement(k,{addPage:this.addPage,addLink:this.addLink,addDropdown:this.addDropdown,transitionPanelId:this.getPageTransitionsPanelId(),ref:"pagesMenuContextMenu"}))}return function(){return n.apply(this,[])}});define("rEditor/pagesMenu/pagePanelContextMenu/pagePanelContextMenuMixin",[],function(){"use strict";var a="inner-container";return{mouseDownHandler:function(){this.refs.pagesMenuContextMenu.closeContextMenu()},rightClickHandler:function(b){var c;if(b.target.className===a){b.preventDefault();c=b.target.getBoundingClientRect();this.refs.pagesMenuContextMenu.closeContextMenu();this.refs.pagesMenuContextMenu.show({x:b.clientX-c.left,y:b.clientY-c.top})}}}});define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop",["react","core","lodash","baseUI","util","pagesMenu","panels","rEditor/pagesMenu/mainMenuTreeState","rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop.rt","rEditor/pagesMenu/quickActionsMenuItemsMixin","rEditor/pagesMenu/pagePanelContextMenu/pagePanelContextMenuMixin","experiment"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";var p=f.pageMenuItemHelpers;var q="Pages_Menu_Add_New_Page";var r="Pages_Menu_Add_New_Link";var s="Pages_Menu_Add_New_Category";function t(a,b,d){a.openLinkPanel({visibleSections:{NoLink:false},hidePageLinks:true,link:d,showAllPopups:true,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:c.once(b)})}return a.createClass({displayName:"mainMenuPagesDesktopPopups",mixins:[k,m,n],propTypes:{pageAdded:a.PropTypes.func,mainMenuTree:a.PropTypes.any,onActionPagesSelected:a.PropTypes.func,selectedItemInfoLink:a.PropTypes.object},componentWillMount:function a(){this.editorAPI=this.getEditorAPI();this.dataBindingAppData=this.editorAPI.platform.getAppDataByAppDefId(this.editorAPI.platform.editorApps.DATA_BINDING.appDefId)},biData:{page:{category:"page"},link:{category:"link"},dropdown:{category:"dropdown menu"}},getInitialState:function(){return{isPageTransitionPanelOpened:false}},movePage:function(a,c){var d={items:c},e=a.from.findIn(d,"items"),f=e.id,g=a.to.parent().findIn(d,"items").id||null,i=a.to.findIn(d,"items"),j=i?i.position:a.to.atRight(),k=this.getEditorAPI();if(f){if(g){h.setMenuItemCollapsed(g,false)}k.mainMenu.moveItem(f,g,j);k.history.add("moving a page");k.waitForChangesApplied(function(a){if(g){this.refs.pagesTree.scrollToSelectedNode()}this.refs.pagesTree.props.valueLink.requestChange(a)}.bind(this,e));k.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_menu_drag);if(g&&a.from.length()===1){k.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{category:"drag"})}else if(!g&&a.from.length()>1){k.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{category:"drag"})}}},closePageTransitionsPanel:function(){this.setState({isPageTransitionPanelOpened:false})},_onAddPageMenuCloseHandler:c.noop,onAddPageMenuClose:function(){this._onAddPageMenuCloseHandler(this.props.pageAdded||c.noop);this._onAddPageMenuCloseHandler=c.noop},addPage:function(){var a=this.getEditorAPI();var c=e.translate(q);var d=p.addPage(a,c,null,this.props.selectedItemInfoLink.value.id||a.mainMenu.getMenuItemIdForCurrentPage(),function(a,b){this.renameMenuItemById(b);this.props.selectedItemInfoLink.requestChange({id:b,isPageOrPopUp:true})}.bind(this));var g=(a.generalInfo.urlFormat.isSlash()?a.pages.data.pageUriSEO:f.utils).convertPageNameToUrl(c);a.pages.data.update(d.id,{pageUriSEO:g});a.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.page)},addDynamicPage:function(){if(o.isOpen("dpages")){this.editorAPI.platform.notifyApplication(this.dataBindingAppData.applicationId,{eventType:"addDynamicPageClicked",eventPayload:{}})}},addLink:function(){var a=this.getEditorAPI(),d=function(b){var d=a.data.createItem(b.type);c.assign(d,c.omit(b,["type"]));p.addLink(a,d,e.translate(r),this.props.selectedItemInfoLink.value.id||a.mainMenu.getMenuItemIdForCurrentPage(),function(a){this.renameMenuItemById(a);this.props.selectedItemInfoLink.requestChange({id:a,isPageOrPopUp:true})}.bind(this))}.bind(this);t(a,d);a.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.link)},addDropdown:function(){var a=this.getEditorAPI();p.addDropdown(a,e.translate(s),this.props.selectedItemInfoLink.value.id||a.mainMenu.getMenuItemIdForCurrentPage(),function(a){this.renameMenuItemById(a);this.props.selectedItemInfoLink.requestChange({id:a,isPageOrPopUp:true})}.bind(this));a.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.dropdown)},_setAddPageHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addPage;d.tooltipManager.hide("addPageMenuPopoverId",true)},_setAddLinkHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addLink;d.tooltipManager.hide("addPageMenuPopoverId",true)},_setAddDropdownHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addDropdown;d.tooltipManager.hide("addPageMenuPopoverId",true)},_setAddDynamicPageHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addDynamicPage;d.tooltipManager.hide("addPageMenuPopoverId",true)},getAddPageMenu:function(){return a.createElement(i,{addPage:this._setAddPageHandlerAndHideTooltip,addLink:this._setAddLinkHandlerAndHideTooltip,addDropdown:this._setAddDropdownHandlerAndHideTooltip,isEditorInDeveloperMode:this.isEditorInDeveloperMode(),addDynamicPage:this._setAddDynamicPageHandlerAndHideTooltip})},getPageTransitionsPanel:function(){var b=this.getEditorAPI();return a.createElement(j,{biEvent:b.bi.event,userPrefs:b.getUserPreferences(),id:this.getPageTransitionsPanelId()})},isEditorInDeveloperMode:function(){var a=this.getEditorAPI();return a.developerMode.isEnabled()},getPageTransitionsPanelId:function(){return"getPageTransitionsPanelId"},hasEditedPages:function(){return Boolean(this.props.editedMenuItemIdLink.value)},renameMenuItemById:function(a){this.props.editedMenuItemIdLink.requestChange(a)},reportClick:function(a){var c=this.getEditorAPI();switch(a){case"add":return function(){c.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_click)};case"transition":return function(){c.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_page_transition_click)}}},render:function(){return this.renderTemplate(l)}})});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileMainMenu",["react","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(a,b,c,d){"use strict";return a.createClass({displayName:"nodeContentMobileMainMenu",mixins:[b.mixins.editorAPIMixin,c],render:function(){var a=this.props.dataSource;return d.mobile.mainMenu(a,this.props.isSectionPage(a)).call(this)}})});define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileMainMenu","experiment"],function(a,b,c,d,e,f,g,h,i){"use strict";return function(){return a.createElement("div",{className:"pages-menu"},a.createElement("div",{className:b({"pages-tree-container":true,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(c.firstTimeInfoBox,{context:"pages-panel",id:"pages-menu-mobile-view",title:"MobilePages_teaser_title",text:"MobilePages_teaser_text",hide:false,userPrefs:this.getEditorAPI().getUserPreferences(),biLearnMore:this.getEditorAPI().bi.event.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE)}),a.createElement(g,{ref:"pagesTree",structureType:"tree",nodeContent:h,pagesList:this._menuTree,dynamicPagesList:i.isOpen("dpages")?this._menuDynamicTree:undefined,equalityComparer:this.equalityComparer,onNodeToggled:this.onPageToggled,isSectionPage:this.props.isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu,closeSettingsPanel:this.props.closeSettingsPanel},valueLink:this.linkPage()}),this.props.menuItemsTree.length===0?a.createElement("div",{key:"noPagesFoundSymbolContainer",className:"no-pages"},a.createElement(e.symbol,{name:"noPagesFound"}),a.createElement("div",{},f.translate("Pages_Menu_Empty_Title")),a.createElement("div",{},f.translate("Pages_Menu_Empty_Text"))):null))}});define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile",["react","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"mainMenuPagesMobilePopups",mixins:[b],openSettingsPanel:function(a){this.props.closeSettingsPanel();this.props.openSettingsPanel(a)},render:function(){return this.renderTemplate(c)}})});define("rEditor/pagesMenu/popups/popupsList/popupsList.rt",["react","lodash","baseUI","baseUILib","pagesMenu","rEditor/pagesMenu/popups/quickActions/popupQuickActions"],function(a,b,c,d,e,f){"use strict";function g(d,g){return a.createElement("li",{className:"page-node-list-item",key:d.id},a.createElement(e.pageItem,this.getPopupItemProps(d),this.isQuickActionsVisible()?a.createElement(f,{key:d.id+"-popup-item-quick-action-menu",popupData:d,onClick:b.partial(this.onClick,d.id),actionSelected:this.onActionPopUpSelected}):null,this.isPagesListHintVisible(d)?a.createElement("a",{href:"#",key:"pages-related-to-popup-"+d.id,className:"action-button"},a.createElement(c.infoIcon,{symbolName:"actionButtonInfo",shouldTranslate:false,text:this.getHintWithRelatedPages(d),ref:"infoIcon"})):null))}return function(){return a.createElement("div",{className:"popups-list"},a.createElement("div",{className:"scroll-wrapper"},a.createElement(d.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%"},a.createElement.apply(this,["ul",{className:"page-node-list popups-list"},b.map(this.props.popupsList,g.bind(this))]))))}});define("rEditor/pagesMenu/popups/popupsList/popupsList",["lodash","react","core","util","rEditor/pagesMenu/quickActionsPopupsMixin","rEditor/pagesMenu/popups/popupsList/popupsList.rt"],function(a,b,c,d,e,f){"use strict";var g="Pages_Menu_Popup_Tooltip_Start_Section";var h="Pages_Menu_Popup_Tooltip_End_Section";var i="Pages_Menu_Popup_Tooltip_Middle_Section";var j="Pages_Menu_Popup_Tooltip_Set_To_All";return b.createClass({displayName:"popupList",mixins:[c.mixins.editorAPIMixin,d.translationMixin,e],propTypes:{popupsList:b.PropTypes.any.isRequired,selectedItemInfoLink:b.PropTypes.object,editedItemIdLink:b.PropTypes.object},getKey:function(a){return"popup-quick-action-menu"+a},onClick:function(a){var b=this.getEditorAPI();this.props.selectedItemInfoLink.requestChange({id:a,isPageOrPopUp:true});this.props.closeSettingsPanel();b.pages.navigateTo(a,function(){b.selection.selectComponentByCompRef(b.pages.popupPages.getPopupContainer(a))});b.bi.event(c.bi.events.topbar.pages.top_bar_PAGES_navigate_to_pop_up,{pop_up_id:a})},getPopupItemProps:function(b){return{value:b.title,label:b.title,onChange:a.partial(this.onRenameDone,b),isVisible:true,isSelected:b.id===a.get(this.props,"selectedItemInfoLink.value.id"),editModeLink:this.linkEditMode(b.id),onClick:a.partial(this.onClick,b.id),onContextMenu:this.props.setSelected}},onRenameDone:function(a,b){this.onActionPopUpSelected(a,"rename",b)},linkEditMode:function(a){var b=this.props.editedItemIdLink;return{value:b&&b.value===a,requestChange:function(c){if(b){b.requestChange(c?a:null)}}}},filteredProps:function(){return a.omit(this.props,["pagesList","dataSource","className","nodeTemplate","collapsedSelector","editorAPI"])},isQuickActionsVisible:function(){return this.getEditorAPI().isDesktopEditor()},isPagesListHintVisible:function(a){var b=a.pagesListToShowOnLoad;return this.getEditorAPI().isDesktopEditor()&&(b.titles.length>0||b.showOnAllPages)},_formatMessageForFewPages:function(b){var c=b.length;var d=this.getEditorAPI();var e=this.translateTemplate(g,{$PAGE_NAME:a.head(b)},d);var f=this.translateTemplate(h,{$PAGE_NAME:a.last(b)},d);var j;if(c===1){j=e}else if(c===2){j=e+" "+f}else{j=a.reduce(a.slice(b,1,-1),a.bind(function(a,b){return a+" "+this.translateTemplate(i,{$PAGE_NAME:b},d)},this),e);j+=" "+f}return j},getHintWithRelatedPages:function(a){var b=a.pagesListToShowOnLoad.titles;var c;if(a.pagesListToShowOnLoad.showOnAllPages){c=this.translateIfNeeded(j)}else{c=this._formatMessageForFewPages(b)}return c},render:f})});define("rEditor/pagesMenu/popups/popups/popups.rt",["react","lodash","baseUI","rEditor/pagesMenu/popups/popupsList/popupsList"],function(a,b,c,d){"use strict";return function(){return a.createElement("div",{className:"popups-tab"},a.createElement(d,b.assign({},{className:"popups-list"},this.props)),!this.isFooterHidden()?a.createElement("footer",{key:"popup-list-key"},a.createElement(c.button,{label:"POPUPS_SiteStructure_Panel_Button_Add",icon:"addPage",className:"control-button",onClick:this.onAddClick})):null)}});define("rEditor/pagesMenu/popups/popups/popups",["lodash","react","core","rEditor/pagesMenu/popups/popups/popups.rt"],function(a,b,c,d){"use strict";return b.createClass({displayName:"popups",mixins:[c.mixins.editorAPIMixin,b.addons.LinkedStateMixin],propTypes:{popupsList:b.PropTypes.any.isRequired,selectedItemInfoLink:b.PropTypes.object.isRequired,editedItemIdLink:b.PropTypes.object.isRequired},onAddClick:function(){this.getEditorAPI().getUserPreferences().session.set("addPanelCategoryIdOnClose","popup");this.getEditorAPI().leftBar.openAddPanel()},isFooterHidden:function(){return this.getEditorAPI().isMobileEditor()},render:d})});define("rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups.rt",["react","lodash","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile","pagesMenu","baseUI","rEditor/pagesMenu/popups/popups/popups"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}return function(){return a.createElement("div",{className:"unfiltered-pages-and-popups"},this.isTabsVisible()?a.createElement(g.horizontalTabs,{key:"unfiltered-pages-popups-tabs",options:this.getTabs(),valueLink:this.props.unfilteredSelectedTabLink,className:"arrowed tabs-pages-and-popups"}):null,this.isMainMenuVisible()?a.createElement(d,i({className:"pages-tab",ref:"mainMenuPagesDesktop",key:"main-menu-pages-desktop",editedMenuItemIdLink:this.props.editedItemIdLink,openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.openSpecialPagesMenu,onActionPagesSelected:this.onActionPagesSelected,selectedItemInfoLink:this.props.selectedItemInfoLink,changeSelectedMenuItem:this.props.changeSelectedMenuItem},this.props)):null,this.isMainMenuMobileVisible()?a.createElement(e,i({className:"pages-tab",ref:"mainMenuPagesMobile",key:"main-menu-pages-mobile",editedMenuItemIdLink:this.props.editedItemIdLink,openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.openSpecialPagesMenu,onActionPagesSelected:this.onActionPagesSelected,selectedItemInfoLink:this.props.selectedItemInfoLink,changeSelectedMenuItem:this.props.changeSelectedMenuItem},this.props)):null,this.isSpecialPagesVisible()?a.createElement(c,{key:"subpages-menu",editedItemIdLink:this.props.editedItemIdLink,userPrefs:this.getUserPrefs(),sectionMenuItem:this.state.selectedSectionPage,openSettingsPanel:this.props.openSpecialPageMenu,closeSubPagesMenu:this.closeSpecialPagesMenu,selectedMenuItemChanged:this.props.changeSpecialPage}):null,this.isPopupsTabActive()?a.createElement(h,{key:"popups-tab",className:"popup-tab",closeSettingsPanel:this.props.closeSettingsPanel,popupsList:this.props.popupsList,editedItemIdLink:this.props.editedItemIdLink,onActionSelected:this.onActionPopUpSelected,selectedItemInfoLink:this.props.selectedItemInfoLink}):null)}});define("rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups",["react","core","rEditor/pagesMenu/specialPagesMenuMixin","rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups.rt"],function(a,b,c,d){"use strict";var e=[{label:"POPUPS_SiteStructure_Panel_Pages",value:"pages"},{label:"POPUPS_SiteStructure_Panel_Popups",value:"popups"}];return a.createClass({displayName:"unfilteredPagesAndPopups",mixins:[a.addons.LinkedStateMixin,c],propTypes:{popupsList:a.PropTypes.array.isRequired,menuItemsTree:a.PropTypes.array.isRequired,openSettingsPanel:a.PropTypes.func.isRequired,closeSettingsPanel:a.PropTypes.func.isRequired,openSpecialPageMenu:a.PropTypes.func.isRequired,closeSpecialPageMenu:a.PropTypes.func.isRequired,isSectionPage:a.PropTypes.func.isRequired,editedItemIdLink:a.PropTypes.object.isRequired,selectedItemInfoLink:a.PropTypes.object.isRequired,unfilteredSelectedTabLink:a.PropTypes.object.isRequired},getTabs:function(){return e},isTabsVisible:function(){return this.props.popupsList.length>0},isMainMenuVisible:function(){return this.isPagesTabActive()&&this.getEditorAPI().isDesktopEditor()},isMainMenuMobileVisible:function(){return this.isPagesTabActive()&&this.getEditorAPI().isMobileEditor()},isSpecialPagesVisible:function(){return this.state.selectedSectionPage&&this.isPagesTabActive()},isPagesTabActive:function(){return this.props.popupsList.length===0||this.props.unfilteredSelectedTabLink.value==="pages"},isPopupsTabActive:function(){return this.props.popupsList.length>0&&this.props.unfilteredSelectedTabLink.value==="popups"},getUserPrefs:function(){return this.getEditorAPI().getUserPreferences()},render:d})});define("rEditor/rootComps/panels/pagesAndPopupsPanel.rt",["react","lodash","panels","util","pagesMenu","baseUI","experiment","core","rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups","rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(){var b=d.translate;var f=e.settingsPanels.desktop.mainMenu;var k=e.settingsPanels.mobile.mainMenu;var l=e.settingsPanels.desktop.subpage;var m=e.settingsPanels.mobile.subpage;return a.createElement(c.frames.pagesPanelFrame,{ref:"frame",panelName:this.props.panelName,title:b(this._panelTitle),helpId:this.getHelpId(),"}":true},a.createElement("div",{className:"pages-panel-shadow"}),g.isOpen("pagesFirstTimeSteps")&&!g.isMultiValueExperimentOpen("editorHintsConfigs")&&this.getEditorAPI().isDesktopEditor()?a.createElement(h.lazyComponent,{key:"pagesPanelController",moduleName:"firstTimeExperience.pagesPanelController",target:this.state.firstPageItemNode,isPopupsTabSelected:this.state.unfilteredSelectedTab==="popups"}):null,this.isMainMenuDesktopOpened()?a.createElement(f,{key:"page-settings-panel",ref:"mainMenuDesktop",menuItem:this.state.menuItemToShowSettingsFor,activeTab:this.state.selectedSettingsTab,helpId:"2f65df85-2eba-4b41-a9bf-2a841a5e5a53",closeSettingsPanel:this.closeMainMenu,token:this.props.token,actions:{duplicate:this.duplicate,closeSettingsPanel:this.closeMainMenu}}):null,this.isMainMenuMobileOpened()?a.createElement(k,{key:"page-settings-panel",ref:"mainMenuMobile",menuItem:this.state.menuItemToShowSettingsFor,isDeveloperModeEnabled:this.isDeveloperModeEnabled(),helpId:"2f65df85-2eba-4b41-a9bf-2a841a5e5a53",closeSettingsPanel:this.closeMainMenu,actions:{duplicate:this.duplicate,closeSettingsPanel:this.closeMainMenu}}):null,this.isSpecialPagesDesktopMenuOpened()?a.createElement(l,{key:"page-settings-panel",ref:"pageSettingsPanelSubpages",menuItem:this.state.specialPage,closeSettingsPanel:this.closeSpecialPageMenu,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,this.isSpecialPagesMobileMenuOpened()?a.createElement(m,{key:"page-settings-panel",ref:"pageSettingsPanelSubpages",menuItem:this.state.specialPage,closeSettingsPanel:this.closeSpecialPageMenu,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,!this.props.filter?a.createElement(j,{key:"unfilteredPagesAndPopUps",ref:"unfilteredPagesAndPopUps",popupsList:this._popupsList,menuItemsTree:this._menuItemsTree,openSettingsPanel:this.openMainMenu,closeSettingsPanel:this.closeMainMenu,changeSelectedMenuItem:this.changeSelectedMenuItem,openSpecialPageMenu:this.openSpecialPageMenu,closeSpecialPageMenu:this.closeSpecialPageMenu,isSectionPage:this._isSectionPage,editedItemIdLink:this.linkState("editedItemId"),changeSpecialPage:this.changeSpecialPage,selectedItemInfoLink:this.linkState("selectedItemInfo"),unfilteredSelectedTabLink:this.linkUnfilteredSelectedTab()}):null,this.props.filter?a.createElement(i,{key:"filterPagesAndPopups",ref:"filterPagesAndPopups",popupsList:this._popupsList,menuItemsList:this._menuItemsList,openSettingsPanel:this.openMainMenu,closeSettingsPanel:this.closeMainMenu,changeSelectedMenuItem:this.changeSelectedMenuItem,openSpecialPageMenu:this.openSpecialPageMenu,closeSpecialPageMenu:this.closeSpecialPageMenu,isSectionPage:this._isSectionPage,editedItemIdLink:this.linkState("editedItemId"),changeSpecialPage:this.changeSpecialPage,selectedItemInfoLink:this.linkState("selectedItemInfo")}):null)}return function(){return k.apply(this,[])}});define("rEditor/rootComps/panels/pagesAndPopupsPanel",["reactDOM","react","core","lodash","pagesMenu","blog","tpa","helpIds","experiment","editorHints","rEditor/rootComps/panels/pagesAndPopupsPanel.rt"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l={POPUPS_AND_PAGES_LABEL_KEY:"POPUPS_SiteStructure_Panel_Title",PAGES_TITLE:"Pages_Menu_Title_Title",FILTERED_PAGES_POPUPS_TITLE:"POPUPS_SiteStructure_Panel_Title"};function m(a,b,c){var e=c.toLowerCase();var f=d.filter(a,function(a){var c=(a[b]||"").toLowerCase();return~c.indexOf(e)});return f||[]}function n(a,b){return m(a||[],"label",b)}function o(a,b){return m(a||[],"title",b)}function p(a,b){var c;if(a){c=l.FILTERED_PAGES_POPUPS_TITLE}else if(b.length>0){c=l.POPUPS_AND_PAGES_LABEL_KEY}else{c=l.PAGES_TITLE}return c}function q(a,b){var c=e.specialPages.menuLogic.getSectionPagesIds(a,b);return function(a){return a.type.isPage&&d.includes(c,a.pageData.id)}}function r(a,b,c,e){var f=d.zipObject(d.map(b,"id"),d.map(b,"title"));var g=d.groupBy(c,"popupId");var h=e.siteSegments.getSiteStructureId();d.forEach(a,function(a){var b=g[a.id];var c=!!b&&b[0].pageId===h;var e;e=d.map(b,"pageId");a.pagesListToShowOnLoad={showOnAllPages:c,titles:d.map(e,d.partial(d.get,f))||[]}});return a}function s(a){return a.pages.getFocusedPageId()}return b.createClass({displayName:"pagesAndPopupsPanel",mixins:[c.mixins.editorAPIMixin,b.addons.LinkedStateMixin],propTypes:{filter:b.PropTypes.any},getInitialState:function(){var a={menuItemToShowSettingsFor:this.props.menuItemToShowSettingsFor||null,selectedSettingsTab:this.props.selectedSettingsTab||null,specialPage:null,editedItemId:null,selectedItemInfo:{id:s(this.getEditorAPI()),isPageOrPopup:true},unfilteredSelectedTab:this.getEditorAPI().pages.popupPages.isPopupOpened()?"popups":"pages"};if(i.isOpen("pagesFirstTimeSteps")){d.assign(a,{firstPageItemNode:null})}return a},isDeveloperModeEnabled:function(){var a=this.getEditorAPI();return a.developerMode.isEnabled()},componentWillReceiveProps:function(a){var b=s(this.getEditorAPI());if(i.isOpen("dpages")&&this.state.selectedSettingsTab!==a.selectedSettingsTab){this.setState({selectedSettingsTab:a.selectedSettingsTab})}if(this.state.selectedItemInfo.isPageOrPopup&&this.state.selectedItemInfo.id!==b){this.setState({selectedItemInfo:{id:b,isPageOrPopup:true}})}this.updateMenuItemAndSpecialPage()},updateMenuItemAndSpecialPage:function(){var a=this.getEditorAPI(),b=a.pages.getPagesData(),c=i.isOpen("dpages")?a.pages.dynamicPages.getMenuItems():[],e=d.flatMap(c,"items"),f=a.mainMenu.getMenuItemsFlattened(b),g=this.state.menuItemToShowSettingsFor,h=this.state.specialPage;if(g){var j;if(i.isOpen("dpages")){j=d.find(f,{id:this.state.menuItemToShowSettingsFor.id})||d.find(e,{id:this.state.menuItemToShowSettingsFor.id})}else{j=d.find(f,{id:this.state.menuItemToShowSettingsFor.id})}this.setState({menuItemToShowSettingsFor:j})}if(h&&h.pageData){this.setState({specialPage:d.merge(h,{pageData:d.find(b,{id:h.pageData.id})})})}},getDefaultProps:function(){return{filter:""}},componentDidMount:function(){this.panelDOMNode=a.findDOMNode(this);this.updateFirstPageItemNodeIfNeeded()},componentDidUpdate:function(){this.updateFirstPageItemNodeIfNeeded()},updateFirstPageItemNodeIfNeeded:function(){if(i.isOpen("pagesFirstTimeSteps")){var a=this.panelDOMNode.querySelector(".pages-first-item");if(a!==this.state.firstPageItemNode){this.setState({firstPageItemNode:a})}}},duplicate:function(a){e.pageMenuItemHelpers.duplicateMenuItem(this.getEditorAPI(),a,function(a){this.setState({editedMenuItemId:a,menuItemToShowSettingsFor:null})}.bind(this))},changeSelectedMenuItem:function(a){if(this.state.menuItemToShowSettingsFor){if(a.type.isPage){this.openMainMenu(a)}else{this.closeMainMenu()}}},openMainMenu:function(a,b){this.setState({menuItemToShowSettingsFor:a,selectedSettingsTab:b||null},function(){var a=this.getEditorAPI().isDesktopEditor(),c=a?this.refs.mainMenuDesktop:this.refs.mainMenuMobile;if(b&&a){c.setSettingsTab(b)}}.bind(this))},closeMainMenu:function(){this.setState({menuItemToShowSettingsFor:null})},openSpecialPageMenu:function(a){this.setState({specialPage:a})},closeSpecialPageMenu:function(){this.setState({specialPage:null})},changeSpecialPage:function(a){if(this.state.menuItemToShowSettingsFor){this.setState({menuItemToShowSettingsFor:null});this.openSpecialPageMenu(a)}if(this.state.specialPage){this.setState({specialPage:a})}},isMainMenuDesktopOpened:function(){return this.getEditorAPI().isDesktopEditor()&&this.state.menuItemToShowSettingsFor},isMainMenuMobileOpened:function(){return this.getEditorAPI().isMobileEditor()&&this.state.menuItemToShowSettingsFor},isSpecialPagesDesktopMenuOpened:function(){return this.getEditorAPI().isDesktopEditor()&&this.state.specialPage},isSpecialPagesMobileMenuOpened:function(){return this.getEditorAPI().isMobileEditor()&&this.state.specialPage},openBlogManager:function(){f.openBlogManagerFrame(this.getEditorAPI(),"allPosts")},openStoreManager:function(){g.superApps.openDashboardUrl(g.superApps.superAppsConstants.ECOM_APP_DEF_ID,"90%","100%");this.getEditorAPI().bi.event(c.bi.events.topbar.pages.top_bar_PAGES_store_pages_store_manager_click)},getHelpId:function(){var a=this.state.unfilteredSelectedTab==="popups"&&!this.props.filter;if(a){return this.getEditorAPI().isMobileEditor()?h.EXTERNAL.MOBILE_POPUPS_PANEL:h.EXTERNAL.POPUPS_PANEL}return h.EXTERNAL.PAGES_PANEL},addAdditionalClassesForPageItem:function(a,b){this._menuItemsTree[a].additionalClasses=b},linkUnfilteredSelectedTab:function(){return{value:this.state.unfilteredSelectedTab,requestChange:function(a){this.setState({unfilteredSelectedTab:a});this.getEditorAPI().bi.event(c.bi.events.topbar.pages.pages_menu_tab_click,{value:a==="popups"?"pop ups":"pages"})}.bind(this)}},render:function(){var a=this.getEditorAPI(),c=a.pages.getPagesData(),d=a.mainMenu.getMenuItemsTreeForMainMenu(c),e=a.mainMenu.getMenuItemsFlattened(c),f=a.pages.popupPages.getOpenBehaviorsForPopups(),g=a.pages.popupPages.getDataListOrdered(),h=r(g,c,f,a),l=o(h,this.props.filter);this._menuItemsTree=d;this._menuItemsList=n(e,this.props.filter);this._popupsList=l;this._panelTitle=p(this.props.filter,l);this._isSectionPage=q(a,c);if(i.isOpen("pagesFirstTimeSteps")){this.addAdditionalClassesForPageItem(0,["pages-first-item"])}if(i.isMultiValueExperimentOpen("editorHintsConfigs")){return b.createElement(j.hintsNotify,{id:j.hintsContainers.PAGES_PANEL},k.call(this))}return k.call(this)}})});define("rEditor/rootComps/panels/myMediaPanel.rt",["react","lodash","baseUI","baseUILib","util","core","panels","experiment"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){this.fontsManagerOpen()}function j(a){this.mediaManagerOpen("IMAGE")}function k(a){this.mediaManagerManage("VIDEO")}function l(a){this.mediaManagerOpen("MUSIC")}function m(a){this.mediaManagerManage("MUSIC_PRO")}function n(a){this.mediaManagerOpen("DOCUMENT")}return function(){return a.createElement(g.frames.leftPanelFrame,{ref:"mediaPanel",className:"panel-background",panelName:this.props.panelName,panelClass:"my-uploads-panel",panelIndex:this.props.panelIndex,label:e.translate("MY_UPLOADS_PANEL_HEADER_TITLE"),helpId:"e1df1248-6bd6-4497-ad2a-2a42cd357eae"},a.createElement("div",{className:"listWrapper"},a.createElement(d.CustomScroll,{addScrolledClass:true,heightRelativeToParent:"100%"},a.createElement("ul",{},h.isOpen("fontsUpload")||h.isOpen("fontsUploadAsync")?a.createElement("li",{key:"fonts_upload",className:"panel-button",onClick:i.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{name:"my_uploads_fonts"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MY_FONTS_LINK_LABEL"))),a.createElement("div",{className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"})))):null,a.createElement("li",{className:"panel-button",onClick:j.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{name:"my_uploads_images"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MY_IMAGES_LINK_LABEL"))),a.createElement("div",{className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"})))),a.createElement("li",{className:"panel-button",onClick:k.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{name:"my_uploads_video"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MY_VIDEOS_LINK_LABEL"))),a.createElement("div",{className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"})))),!this.isWixMusic()?a.createElement("li",{key:"single_track",className:"panel-button",onClick:l.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{name:"my_uploads_single_tracks"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MY_MUSIC_LINK_LABEL"))),a.createElement("div",{className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"})))):null,this.isWixMusic()?a.createElement("li",{key:"wix_music",className:"panel-button",onClick:m.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{name:"my_uploads_wix_music"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MUSIC_PRO_LINK_LABEL"))),a.createElement("div",{className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"})))):null,a.createElement("li",{className:"panel-button",onClick:n.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{
name:"my_uploads_docs"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MY_DOCUMENT_LINK_LABEL"))),a.createElement("div",{className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"}))))))))}});define("rEditor/rootComps/panels/myMediaPanelAddCompData",[],function(){"use strict";var a={pdf:"40d80b8089c8418a961cb75d96d491f7.png",doc:"b8964aa7650d463fac3b77e0d00e8f12.png",docx:"b8964aa7650d463fac3b77e0d00e8f12.png",ppt:"a41192b40f324972a1d919a8350965f8.png",ppx:"a41192b40f324972a1d919a8350965f8.png",xls:"757aeccaa7f4409b93913c55e36a194d.png",xlsx:"757aeccaa7f4409b93913c55e36a194d.png",odp:"ac1fbe0592434c58889947de5714b3c7.png",odt:"ac1fbe0592434c58889947de5714b3c7.png",other:"046956f7d55f4143a30b3b54669ee243.png"};function b(a){var b=Math.min(600,a.width);return{componentType:"wysiwyg.viewer.components.WPhoto",layout:{width:b,height:Math.floor(b*a.height/a.width)},data:{width:a.width,height:a.height,alt:"",uri:a.uri,title:a.title,type:"Image",description:""}}}function c(b){var c=b.uri.split(".").pop();return{componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",layout:{width:90,height:140},data:{title:b.title,uri:a[c]||a.other,description:"",width:105,height:141,type:"Image",link:{docId:b.uri,name:b.title,type:"DocumentLink"}},style:"dm1",props:{type:"DocumentMediaProperties",showTitle:false}}}function d(a){return{componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",layout:{width:304,height:60},data:{originalFileName:a.title,uri:a.uri,type:"SingleAudioPlayer"},props:{autoplay:false,loop:false,showArtist:true,showTrack:true,volume:50,type:"SingleAudioPlayerProperties"},style:"SingleAudioPlayer_1"}}return{picture:b,document:c,music:d}});define("rEditor/rootComps/panels/myMediaPanel",["react","lodash","core","util","rEditor/rootComps/panels/myMediaPanel.rt","rEditor/rootComps/panels/myMediaPanelAddCompData","pLoader!santa:utils"],function(a,b,c,d,e,f,g){"use strict";function h(a){var b=f[a.mediaType];if(b){return b(a)}g.log.error("Unsupported media type",a.mediaType)}return a.createClass({displayName:"MyMediaPanel",mixins:[c.mixins.editorAPIMixin,d.blockOuterScrollMixin],closePanel:function(){this.refs.mediaPanel.close()},titleMap:{IMAGE:"MMGR_API_IMAGE_MANAGE_TITLE",MUSIC:"MMGR_API_MUSIC_MANAGE_TITLE",DOCUMENT:"MMGR_API_DOCUMENT_MANAGE_TITLE"},submitButtonMap:{IMAGE:"MMGR_submitbutton_uploads_uploads_add",MUSIC:"MMGR_submitbutton_uploads_mytracks_add",DOCUMENT:"MMGR_submitbutton_uploads_mydocs_add"},mediaManagerOpen:function(a){var b=this.getEditorAPI();b.bi.event(c.bi.events.myMediaPanel.my_uploads_panel_section_click,{section:a});b.mediaServices.mediaManager.open(a,{multiSelect:true,callback:this.onItemsSelected.bind(this,a),translation:{title:d.translate(this.titleMap[a]),submitButton:d.translate(this.submitButtonMap[a])}})},mediaManagerManage:function(a){var b=this.getEditorAPI();b.bi.event(c.bi.events.myMediaPanel.my_uploads_panel_section_click,{section:a});b.mediaServices.mediaManager.manage(a)},fontsManagerOpen:function(){var a=this.getEditorAPI();a.panelManager.openPanel("panels.toolPanels.fontsUploadPanel",{},true)},onItemsSelected:function(a,c){if(!c){return}var d=this.getEditorAPI();d.pasteLogic.addContext.resetPastePosition();b.forEach(c,b.bind(function(b,c,d){this.addComponent(a,b,c,d)},this))},addComponent:function(a,d,e,f){var g=this.getEditorAPI();var i=h(d);var j=g.pages.getFocusedPageId();var k=g.pasteLogic.addContext.getPastePosition(g,i.layout,j);b.merge(i.layout,k);var l=g.pages.getReference(j);g.waitForChangesApplied(function(){g.components.add(l,i,undefined,function(d){if(e===f.length-1){g.selection.selectComponentByCompRef(d);g.history.add("added component")}g.bi.event(c.bi.events.addPanel.COMPONENT_ADDED_TO_STAGE,{origin:"my_uploads",category:b.get(g,["mediaServices.mediaManager",a,"mmgrParams.mediaType"]),component_type:i.componentType,component_id:d.id,adding_method:"click"})})})},isWixMusic:function(){var a="13bb5d67-1add-e770-a71f-001277e17c57";return this.getEditorAPI().tpa.app.isInstalled(a)},render:e})});define("rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Electric Darkness",videoId:"video/11062b_6a134fc09ea34833a17d295e295ab517",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:6,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"#0AFCFC",colorOverlayOpacity:.2}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Particles",videoId:"video/11062b_03c50f8fe4a34cc297a984e483a282ef",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#02B0AD",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rain Clouds",videoId:"video/11062b_8e792646ca71495b96677c20e27e9122",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:14,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47427758",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.4,imageOverlay:""}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Deep Sea Waves",videoId:"video/11062b_f1fbf8b243e942a692e564fac5382513",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47427890",name:"bisgtock"}},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Swaying Palms",videoId:"video/11062b_d013b164dadb47ec8e746ab178aacfbb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:29,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v51654467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"In the Office",videoId:"video/11062b_6743da5900054f1f8e69f53302930a6a",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"color_11",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Winter Sports",videoId:"video/11062b_14ca44a138d942f78374f7751ac5942f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:31,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"vD19_13_002&vD187_89_019&vD116_16_121&vD116_16_117&vD116_16_051&v17A041_676",name:"Dissolve&Dissolve&Dissolve&Dissolve&Dissolve&Dissolve"}},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Water Drop",videoId:"video/11062b_830709c744404d6ea7a10dcfd88e3a48",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:15,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v81193529",name:"bigstock"}},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Submerged",videoId:"video/11062b_64ae2a899006496dac01c2e81fac97f1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:24,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47427800",name:"bisgtock"}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#439CE6",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Road Trip",videoId:"video/11062b_1c6001b9888a4ba89939a510eee406d1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"vD330_2_176",name:"dissolve"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#8AEDFF",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sparkling Water",videoId:"video/11062b_7bb9944945af4723ad2aefa5caed46a4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47421608",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rolling Tide",videoId:"video/11062b_f0d5e0c342cc49dca298de0225d2247c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:17,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47428379",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Vintage Gramophone",videoId:"video/11062b_bd026287ff784f5198fbfdbbbbba2489",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v50768873",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:27,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rainforest Canopy",videoId:"video/11062b_7488edba38234bd69b0603ad498efdf5",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:35,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v50652950",name:"bigstock"}},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Snowfall",videoId:"video/11062b_7124ff06fc56498d96722413f5f4846f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i2800",name:"pexels"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"City Park",videoId:"video/11062b_ed5fd19d3b3c4a979ecfd7aa035320eb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56}}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dogs in the Park",videoId:"video/11062b_dadf974a47664e5cb42f939b7f17bec8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"House Cat",videoId:"video/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D9B79C",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tropical Light",videoId:"video/11062b_af392b5325e7416eb2d8b6f9b1b3c634",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i158598041",name:"shutterstock"}},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",
ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Urban View",videoId:"video/11062b_3e2f37c297534f9ead156265242fbca8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v49780622&v493478872&v49737086&v318347",name:"bigstock&bigstock&bigstock&clipcanvas"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Light Spots",videoId:"video/11062b_2042bb7351284f0f982e4787d37415e6",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:14,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFF269",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Particles",videoId:"video/11062b_155feccf8d494b18b70adcd7716b6646",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:50,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFCC00",colorOverlayOpacity:.5,imageOverlay:""}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sunflowers",videoId:"video/11062b_7fb923cf2d6748e195e980d74c4059f2",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i145590430",name:"shutterstock"}},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Meadow",videoId:"video/11062b_84f0c9aa252b4b2ab1114febc012eacb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i144673559",name:"shutterstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Lakeside",videoId:"video/11062b_10927dd4d14046e4ac23f51f0a5448b3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i205250962",name:"shutterstock"}},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Paradise Serenity",videoId:"video/11062b_46d3e749db4d4169987b00279493eaa7",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:10,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i152767760",name:"shutterstock"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Miami Beach",videoId:"video/11062b_75ff30e8c38545348bad91473b78ab7c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i100070693",name:"shutterstock"}},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D41746",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Cotton Candy",videoId:"video/11062b_808b40c463104f22943c284c625d31c3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:4,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#E31B22",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink and Water",videoId:"video/11062b_74ef3d923f9b451492d3ed9278991873",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v50768402",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink Splash",videoId:"video/11062b_aa1eeb25fbd3484dbde611d71d7c5747",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47428268",name:"bisgtock"}},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Moon Jellyfish",videoId:"video/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v50790908",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Jellyfish",videoId:"video/11062b_ea61c0ecc8b34ecd942c42470507e640",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:20,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47440688",name:"bigstock"}},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spaceman",videoId:"video/11062b_fcd00d59140f45d5b2295fe8a4c17edb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},opacity:1,duration:25,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i111095258&i241509286",name:"shutterstock&shutterstock"}},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Crystal Glass",videoId:"video/11062b_58249d8a53aa452492e328c962b036e9",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:14,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47440709",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#5C3B1B",colorOverlayOpacity:.4}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spinning Record",videoId:"video/11062b_0f1e951461494c1894d86c9ab85a11cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:10,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v560888",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Gears",videoId:"video/11062b_d9801124f3cb4deca350acfd66b547cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v50768483",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.05,imageOverlay:""}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Classical Compilation",videoId:"video/11062b_35727d5e825d405bbb007bc615000a15",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:19,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v51653993&v795016&v639989&v249088&v527322",name:"bigstock&clipcanvas&clipcanvas&clipcanvas&clipcanvas"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#ffffff",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Illustrator",videoId:"video/11062b_ebcab620e7584e1693f939e597be3777",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tiger",videoId:"video/11062b_6ceb80744f45401caf9eb666caeb9887",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:28,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v49350467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Subway",videoId:"video/11062b_8b85f288687943b59677b4e3e56ef8f8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:3,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v342278662",name:"pexels"}},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.45,imageOverlay:""}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",
description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Shapes Gray",videoId:"video/11062b_d2398715eb2e43348e6907b6b3383815",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Forest Clouds",videoId:"video/11062b_2e77c1d1a7d84393becbcecd189fe80e",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:25,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47440175",name:"bisgtock"}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Metronome",videoId:"video/11062b_80a0d0745a884541ae8fae22c02c9e74",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:17,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v49780622",name:"bigstock"}},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#ffffff",colorOverlayOpacity:.25}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Melting Ice",videoId:"video/11062b_9480d9d800bd4bda938057d5ac1ebc42",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:18,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47428211",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Street Sports",videoId:"video/11062b_b3ee9353cba84f2fba11b18497edd49c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:27,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"vD26_7_556&vD26_7_549&vD26_7_021&vD200_3_014&vD187_87_017",name:"dissolve&dissolve&dissolve&dissolve&dissolve"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_9dd9479cdafd4871b1944d50caa91db0.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Mist Over the Bridge",videoId:"video/11062b_66b9234563324488b85be02dcf1db183",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v523546",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Flowing Viscous Liquid",videoId:"video/11062b_9f421918574743b48202cb0dacbd77d4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:17,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47428877",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dance Studio",videoId:"video/11062b_58d9b7991aa04b99a4f1580a1efc4f7f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:34,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6}}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Gray Waterfall",videoId:"video/11062b_18eee1c4914c4ef79687cd68f3cf6990",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:3,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v49347887",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:4,height:6},colorOverlay:"color_11",colorOverlayOpacity:.5}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Falling shapes White",videoId:"video/11062b_2ed9e9ea388343a59c387bccf3539098",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D5D4D6",colorOverlayOpacity:.35,imageOverlay:""}}]});define("rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Electric Darkness",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Clouds",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Deep Sea Waves",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Swaying Palms",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"In the Office",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Winter Sports",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Water Drop",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Submerged",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Road Trip",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sparkling Water",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rolling Tide",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vintage Gramophone",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:27,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rainforest Canopy",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",
uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Snowfall",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"City Park",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dogs in the Park",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"House Cat",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Light",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Urban View",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Light Spots",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Particles",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sunflowers",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Meadow",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lakeside",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Paradise Serenity",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Miami Beach",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cotton Candy",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink and Water",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink Splash",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Moon Jellyfish",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Jellyfish",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spaceman",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Crystal Glass",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spinning Record",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Gears",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Classical Compilation",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Illustrator",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tiger",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Subway",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Shapes Gray",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Forest Clouds",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metronome",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Melting Ice",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Street Sports",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mist Over the Bridge",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flowing Viscous Liquid",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",
width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dance Studio",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gray Waterfall",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Falling shapes White",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}}]});define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt",["react","lodash","baseUI","baseUILib","util","panels","uiAnimations","backgroundPresets"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b,c,d,e){e.preventDefault()}function j(a,b,c,d,e,f){f.preventDefault()}function k(a,b,c,d,e,f){this.replaceColor(f,a)}function l(a,b,c,d,e,f){this.changeColor(f,a)}function m(a,b,c,d,e){this.changeMedia(this.mediaTypes.IMAGE)}function n(a,b,c,d,e){if(!c){this.changeMedia(this.mediaTypes.VIDEO)}}function o(b,d,e,f){var h=this.getMediaType(b.ref);return a.createElement("div",{className:"bg-panel-top"},a.createElement("div",{className:"bg-panel-preview",onContextMenu:j.bind(this,b,d,e,f,h)},a.createElement("div",{className:"bg-panel-preview-media",style:this.getCurrentColor(b)}),a.createElement("div",{ref:"previewMedia",className:"bg-panel-preview-media",style:this.getCurrentMedia(b)}),a.createElement("div",{className:"bg-panel-preview-overlay",style:f.getOverlayStyle(b.ref,this.getEditorAPI())}),a.createElement("div",{className:"bg-panel-preview-buttons"},h!==this.mediaTypes.COLOR?a.createElement(c.tooltip,{disabled:!!this.getCurrentSubPanel(),value:this.getSettingTranslation(h),alignment:"top",className:"control-tooltip-small",key:"settings-tooltip"},a.createElement("div",{className:"bg-panel-preview-button"},a.createElement(g.rotatePartAnimation,{selector:".gear-wheel",play:this.isSettingsPanelOpen()},a.createElement(c.toggle,{name:"settings-icon",label:this.getSettingsButtonTranslation(h),valueLink:this.toggleSubPanel(h),labelAfterSymbol:true})))):null,h===this.mediaTypes.VIDEO?a.createElement(c.tooltip,{key:"video-controls",id:"video-play-tooltip",disabled:this.isPlayBtnTooltipDisabled(h),alignment:"top",className:"control-tooltip-small",value:this.getPlayBtnTranslation()},a.createElement("div",{className:"bg-panel-preview-button"},a.createElement(c.toggle,{name:"play-video",disabled:this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS,valueLink:this.toggleVideoPlayback(this.isVideoPlaying())}),this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS?a.createElement(c.preloader,{key:"play-spinner"}):null)):null),h===this.mediaTypes.IMAGE?a.createElement("div",{onClick:k.bind(this,b,d,e,f,h),className:"bg-panel-preview-color",style:this.getCurrentColor(b),key:"bg-fold"},a.createElement(c.symbol,{name:"fold-clipart"})):null),a.createElement("div",{className:"bg-panel-top-actions"},a.createElement("div",{className:"bg-panel-action"},a.createElement(c.button2,{className:"default bg-panel-action-btn",label:"BGPP_PANEL_COLOR_BUTTON",symbolName:"color-btn",onClick:l.bind(this,b,d,e,f,h)})),a.createElement("div",{className:"bg-panel-action"},a.createElement(c.button2,{onClick:m.bind(this,b,d,e,f,h),className:"default bg-panel-action-btn",symbolName:"image-btn",label:"BGPP_PANEL_IMAGE_BUTTON"})),a.createElement(c.tooltip,{disabled:!e,value:"BGPP_PANEL_VIDEO_BUTTON_MOBILE_TOOLTIP",alignment:"top",className:"control-tooltip-small"},a.createElement("div",{className:"bg-panel-action"},a.createElement(c.button2,{onClick:n.bind(this,b,d,e,f,h),disabled:e,className:"default bg-panel-action-btn",symbolName:"video-btn",label:"BGPP_PANEL_VIDEO_BUTTON"})))))}function p(a,b,c,d){this.handleApplyToOtherClick()}function q(){var b=this.getData();var g=this.getCurrentSubPanel();var j=this.getEditorAPI().isMobileEditor();var k=e.backgroundPanelUtils;return a.createElement(f.frames.leftPanelFrame,{ref:"backgroundPanel",className:"bg-panel",panelName:this.props.panelName,label:this.getTranslation("TITLE"),panelIndex:this.props.panelIndex,panelClass:"bg-panel",helpId:j?"f0d8190e-e2da-48be-9f44-7ecff4518a82":"f11a3bb9-cff0-46d4-92ff-cc8cd9d30468",onContextMenu:i.bind(this,b,g,j,k)},o.apply(this,[b,g,j,k]),a.createElement(d.CustomScroll,{addScrolledClass:true},a.createElement("div",{className:"bg-panel-preset-list"},a.createElement("div",{className:"bg-panel-preset-list-sections sections","data-tooltip-bounds":"true"},a.createElement(h,this.getPresetsProps())))),a.createElement("div",{className:"bg-panel-bottom"},a.createElement(c.button2,{label:"BGPP_PANEL_APPLY_TO_OTHER_BUTTON",onClick:p.bind(this,b,g,j,k),disabled:this.isOnePager(),className:"default"})))}return function(){return q.apply(this,[])}});define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel",["reactDOM","react","lodash","core","baseUI","util","color","panelUtils","rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json","rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json","rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=f.bgPanelBiEvents;var m=f.imageTransform;var n=f.backgroundPanelUtils;var o=n.getMediaTypes();var p=352;var q=184;var r=600;var s=600;var t={IMAGE_SETTINGS:"rEditor.panels.bgImageSettingsPanel",VIDEO_SETTINGS:"rEditor.panels.bgVideoSettingsPanel",APPLY:"rEditor.panels.backgroundApplyPanel"};var u={APPLY_PANEL:"applyPanel",IMAGE_PANEL:"imagePanel",VIDEO_PANEL:"videoPanel",PRESET:"preset",MEDIA:"media",REMOVE:"remove",COLOR:"color"};var v={BG_PRESETS:"bg_presets",BG_COLOR_PICKER:"bg_color_picker",BG_MEDIA_MANAGER_WIXVIDEO:"bg_media_manager_video",BG_MEDIA_MANAGER_IMAGE:"bg_media_manager_image",BG_IMAGE_SETTINGS:"bg_image_settings",BG_VIDEO_SETTINGS:"bg_video_settings"};var w={TITLE:{mobile:"BGPP_PANEL_HEADER_MOBILE_TITLE",desktop:"BGPP_PANEL_HEADER_DSKTOP_TITLE"}};var x={Image:"BGPP_PANEL_IMAGE_SETTINGS_BUTTON",WixVideo:"BGPP_PANEL_VIDEO_SETTINGS_BUTTON"};var y={IN_PROCESS:"in_process",PLAYING_PREVIEW:"playing_preview",IDLE:"idle",NO_VIDEO:"no_video"};var z={id:"SITE_BACKGROUND"};function A(a,b){var d=a[0];var e=c.head(d.fileOutput.image);var f=c.groupBy(d.fileOutput.video,"quality");var g=c.pick(e,["width","height","url"]);g.type="Image";g.uri=g.url.replace(/^(.*[\/])/,"");delete g.url;g.description=b.path;var h={type:"WixVideo",title:d.title,videoId:d.fileBaseUrl,duration:Math.round(d.fileInput.duration/1e3),posterImageRef:g,opacity:1,autoplay:true,loop:true,preload:"auto",mute:true,artist:{name:d.vendor||"",id:d.reference||""}};h.qualities=c.map(f,function(a){var b=c.map(a,"format");var d=c.pick(a[0],["width","height","quality"]);d.formats=b;return d});return h}function B(a,b){var c=a[0];return{type:"Image",uri:c.fileName,title:c.title,description:b.path,width:c.width,height:c.height,artist:{name:c.vendor||"",id:c.reference||""}}}function C(a,b,e){if(a===t.APPLY){l.applyToOtherClick(b,d.bi.events.backgroundPanel.panel_apply_to_other_pages_click)}else{e.origin=v["BG_"+c.invert(t)[a].toUpperCase()]}}function D(a,b,c){var d=a.getUserPreferences();var e=a.pages.getPrimaryPageId();d.session.set("bg_panel_last_media_path_"+e,{type:b,path:c.path})}function E(a){var b=a.getUserPreferences();var c=a.pages.getPrimaryPageId();return b.session.get("bg_panel_last_media_path_"+c)||{}}function F(a,b){return a.homePage.get()===b}function G(a,b,c){if(F(a,c)&&!b.ref.mediaRef){b.ref.id=f.guidUtils.getUniqueId(c,"_")+"_bg"}}function H(a,b){var c=a.getUserPreferences();var d=a.pages.getPrimaryPageId();var e=b===o.VIDEO?"bg_video_settings_data_changed_":"bg_image_settings_data_changed_";c.session.set(e+d,false);c.session.set("bg_video_settings_pattern_state_"+d,false)}function I(a,b){a.ref.scrollType="fixed";var c=b.pages.getPrimaryPageId();var d=b.getUserPreferences();var e=d.session.get("bg_video_settings_data_changed_"+c);if(!e){n.clearOverlayData(a)}}function J(a,b,c){var d=c.pages.getPrimaryPageId();var e=c.getUserPreferences();var f=e.session.get("bg_image_settings_data_changed_"+d);if(f){a.opacity=b.ref.mediaRef&&b.ref.mediaRef.opacity||1}n.clearOverlayData(b)}function K(){return y}return b.createClass({displayName:"backgroundPanel",mixins:[d.mixins.editorAPIMixin,f.blockOuterScrollMixin,h.linkColorPickerMixin],panelBoundingRect:{},mediaTypes:o,getMediaType:n.getMediaType,subPanels:t,videoReadyStates:null,componentDidMount:function(){this.panelBoundingRect=a.findDOMNode(this).getBoundingClientRect();this.registerPlayerState();this.markMobileDataDuplications()},componentWillUnmount:function(){this.closeSubPanel(this.getCurrentSubPanel());this.unregisterPlayerState();this.pauseVideo();var a=this.getData().ref;l.changedBackgroundBiEvent(this.getEditorAPI(),d.bi.events.backgroundPanel.panel_background_changed,a,this.biEventsParams)},getInitialState:function(){this.videoReadyStates=K();this.biEventsParams={origin:null,presetIndex:null};return{readyState:this.videoReadyStates.NO_VIDEO,playbackState:"waiting",isVideoPlaying:false,videoReadyState:this.videoReadyStates.IDLE}},componentDidUpdate:function(){if(this.getVideoReadyState()===this.videoReadyStates.IDLE){e.tooltipManager.hide("video-play-tooltip")}},registerPlayerState:function(){var a=this.getEditorAPI();if(c.get(a,["media","mediaState"])){a.media.mediaState.register("bg_panel",z,this.handlePlayerStateChange)}else{a.pages.background.video.registerToPlayingChange(this.playingStatusChanged)}},unregisterPlayerState:function(){var a=this.getEditorAPI();if(c.get(a,["media","mediaState"])){a.media.mediaState.unregister("bg_panel",z)}else{a.pages.background.video.unregisterToPlayingChange(this.playingStatusChanged)}},handlePlayerStateChange:function(a){if(a.playbackState!==this.state.playbackState||a.mediaReadyState!==this.state.mediaReadyState){this.setState({playbackState:a.playbackState,readyState:a.mediaReadyState})}},previewVideo:function(){var a=this.getEditorAPI();if(c.get(a,["media","mediaState"])){a.components.behaviors.execute(z,"play")}else{a.pages.background.video.play()}},pauseVideo:function(){var a=this.getEditorAPI();if(!a.getPreviewMode()){if(c.get(a,["media","mediaState"])){a.components.behaviors.execute(z,"stop")}else{a.pages.background.video.pause()}}},isVideoPlaying:function(){var a=this.getEditorAPI();if(c.get(a,["media","mediaState"])){return this.state.playbackState==="playing"}return a.pages.background.video.isPlaying()},getVideoReadyState:function(){var a=this.getEditorAPI();if(c.get(a,["media","mediaState"])){return this.state.readyState}return a.pages.background.video.getReadyState()},playingStatusChanged:function(){this.forceUpdate()},videoReadyStateChanged:function(){this.forceUpdate()},linkedBackgroundColor:function(a,b,c){var d=b[c].replace(/[\{\}]/g,"");return{value:d,requestChange:function(d){b[c]=/color_/.test(d)?"{"+d+"}":d;this.biEventsParams.origin=v.BG_COLOR_PICKER;this.onRequestChange(a)}.bind(this)}},getCurrentSubPanel:function(){var a=c.find(this.props.editorState.openPanels,function(a){return c.includes(t,a.name)});return a&&a.name},isSettingsPanelOpen:function(){var a=this.getCurrentSubPanel();return a===t.IMAGE_SETTINGS||a===t.VIDEO_SETTINGS},closeSubPanel:function(a){var b=this.getEditorAPI();if(a){b.panelManager.closePanelByName(a)}},getData:function(a){return n.getBackgroundData(this.getEditorAPI(),a)},onRequestChange:function(a,b,c){var d=this.getEditorAPI();var e=d.getDeviceType();c=c||d.pages.getPrimaryPageId();G(d,a,c);n.handleMobileDataChange(e,a,d,c);d.pages.background.update(c,a,e);this.undoHandler(b);if(this.state.isVideoPlaying){this.pauseVideo();this.setState({isVideoPlaying:false})}},undoHandler:function(a){var b=this.getEditorAPI();var d=c.values(u);if(c.includes(d,a)){b.history.add("background panel - "+a)}},toggleSubPanel:function(a){var b=this.getCurrentSubPanel();return{value:b&&b!==this.subPanels.APPLY,requestChange:function(){var b=a===this.mediaTypes.VIDEO?this.subPanels.VIDEO_SETTINGS:this.subPanels.IMAGE_SETTINGS;this.toggleSubPanelChange(b)}.bind(this)}},toggleSubPanelChange:function(a){var b=this.getCurrentSubPanel();if(a===b){this.closeSubPanel(a)}else{this.openSubPanel(a)}},openSubPanel:function(a){var b=this.getEditorAPI();C(a,b,this.biEventsParams);var c=this.getSubPanelProps();b.panelManager.openPanel(a,c,true)},getSubPanelProps:function(a){return{requestChange:this.onRequestChange,undoHandler:this.undoHandler,undoOrigins:u,getData:this.getData,panelName:a,top:this.panelBoundingRect.top,left:this.panelBoundingRect.left+this.panelBoundingRect.width+15,width:290}},getCurrentMedia:function(a){var b={};var d;var e;var g;if(a.ref.mediaRef){if(this.getMediaType(a.ref)===this.mediaTypes.IMAGE){d=a.ref.mediaRef}else{d=a.ref.mediaRef.posterImageRef}g=n.isSmallerFromContainer(d.width,d.height,r,s);if(g){e=m.fittingTypes.TILE}else{e=m.fittingTypes.SCALE_TO_FILL}var h=n.getImageDisplayData(e,a.ref.alignType,d.uri,d.width,d.height,p,q);b.backgroundImage="url("+f.url.joinURL(n.MEDIA_URL_PREFIX,h.uri)+")";b.opacity=d.opacity;c.assign(b,h.css.container)}c.assign(b,this.getCurrentColor(a));return b},getCurrentColor:function(a){var b=n.getColorValue(this.getEditorAPI(),a.ref.color);return{backgroundColor:b}},toggleVideoPlayback:function(a){return{value:a,requestChange:function(a){if(a){this.previewVideo()}else{this.pauseVideo()}}.bind(this)}},replaceColor:function(a,b){this.setColorPicker(a,b,this.colorPickerPanelHandleReplace,true)},changeColor:function(a,b){var c=!b.ref.mediaRef;this.setColorPicker(a,b,this.colorPickerPanelHandleChange,c)},setColorPicker:function(a,b,c,d){var e=d?b.ref.color.replace(/[\[\{\}\]]/g,""):"noColor";var f={top:a.clientY,left:a.clientX};this.openColorPicker(c,e,true,f,d,true)},colorPickerPanelHandleReplace:function(a){this.closeSubPanel(this.getCurrentSubPanel());var b=this.getData();if(/color_/.test(a)){b.ref.color="{"+a+"}"}else if(/rgba/.test(a)){b.ref.color=new g(a).hexString()}else{b.ref.color=a}this.biEventsParams.origin=v.BG_COLOR_PICKER;this.onRequestChange(b)},colorPickerPanelHandleChange:function(a){this.closeSubPanel(this.getCurrentSubPanel());var b=this.getData();if(b.ref.mediaRef){b.ref.mediaRef=null;H(this.getEditorAPI(),o.VIDEO);H(this.getEditorAPI(),o.IMAGE);n.clearOverlayData(b);this.undoHandler(u.REMOVE)}if(/color_/.test(a)){b.ref.color="{"+a+"}"}else if(/rgba/.test(a)){b.ref.color=new g(a).hexString()}else{b.ref.color=a}this.biEventsParams.origin=v.BG_COLOR_PICKER;this.onRequestChange(b)},selectPreset:function(a,b,d){var f=this.getData();var g=this.getEditorAPI();e.tooltipManager.hideAll();this.closeSubPanel(this.getCurrentSubPanel());c.assign(a,c.omit(f,"ref"));if(a.path){D(g,this.getMediaType(a.ref),{path:a.path})}delete a.path;delete a.presetIndex;H(g,o.VIDEO);H(g,o.IMAGE);this.biEventsParams={presetIndex:d,origin:v.BG_PRESETS};this.onRequestChange(a,u.PRESET)},onMediaManagerCallback:function(a,b,c){if(!b){return}var d;var e;var f=this.getEditorAPI();var g=this.getData();D(f,a,c);if(a===this.mediaTypes.VIDEO){d=A(b,c);I(g,f);H(f,o.IMAGE);e=d.posterImageRef;g.ref.scrollType="fixed"}else if(a===this.mediaTypes.IMAGE){d=B(b,c);J(d,g,f);H(f,o.VIDEO);e=d}var h=n.isSmallerFromContainer(e.width,e.height,r,s);var i;if(a===this.mediaTypes.IMAGE&&h){i=m.fittingTypes.LEGACY_BG_FIT_AND_TILE}else{i=m.fittingTypes.SCALE_TO_FILL}g.ref.fittingType=i;g.ref.alignType=m.alignTypes.CENTER;g.ref.mediaRef=d;this.biEventsParams.origin=v["BG_MEDIA_MANAGER_"+a.toUpperCase()];this.onRequestChange(g,u.MEDIA)},openMediaManager:function(a,b){if(!a){return}var c=this.getEditorAPI();var d=c.mediaServices.mediaManager;var e;var g=E(c);var h=g.type===a?g.path||"":"";if(a===this.mediaTypes.IMAGE){e=d.categories.BG_IMAGE}else if(a===this.mediaTypes.VIDEO){e=d.categories.BG_VIDEO}this.closeSubPanel(this.getCurrentSubPanel());d.open(e,{callback:b,path:h,translation:{submitButton:f.translate("MMGR_submitbutton_background_uploads_change")}})},changeMedia:function(a){this.openMediaManager(a,this.onMediaManagerCallback.bind(this,a))},closePanel:function(){this.refs.backgroundPanel.close()},getTranslation:function(a){var b=this.getEditorAPI().getDeviceType();return f.translate(w[a][b])},getSettingsButtonTranslation:function(a){return x[a]},handleApplyToOtherClick:function(){if(!this.isOnePager()){this.toggleSubPanelChange(this.subPanels.APPLY)}},isOnePager:function(){return this.getEditorAPI().pages.getPageIdList().length===1},markMobileDataDuplications:function(){var a=this.getEditorAPI();var b=a.getUserPreferences();var c=this.getData("mobile").ref.id;var e=b.session.get("bg_panel_mobile_data_duplications_"+c);if(e){return}var f=a.pages.getPrimaryPageId();var g=0;var h=a.pages.getPagesData();for(var i=0;i<h.length;i++){if(h[i].id!==f&&h[i].pageBackgrounds.mobile.ref.id===c){g++}}b.session.set("bg_panel_mobile_data_duplications_"+c,{count:g});if(g){l.mobileDataDuplicationError(this.getEditorAPI(),d.bi.errors.BG_MOBILE_DATA_DUPLICATION_ERROR)}},isPlayBtnTooltipDisabled:function(){return this.getVideoReadyState()===this.videoReadyStates.IDLE},getPlayBtnTranslation:function(){var a="";var b=this.getVideoReadyState();if(b===this.videoReadyStates.PLAYING_PREVIEW){a="BGPP_PANEL_VIDEO_PLAYBACK_PREVIEW_READY_TOOLTIP"}else if(b===this.videoReadyStates.IN_PROCESS){a="BGPP_PANEL_VIDEO_PLAYBACK_NOT_READY_TOOLTIP"}return a},getSettingTranslation:function(a){var b="";if(a===this.mediaTypes.IMAGE){b="BGPP_PANEL_IMAGE_SETTINGS_BUTTON_TOOLTIP"}else if(a===this.mediaTypes.VIDEO){b="BGPP_PANEL_VIDEO_SETTINGS_BUTTON_TOOLTIP"}return b},getPresetsProps:function(){return{desktopPresets:i,mobilePresets:j,title:f.translate("BGPP_PANEL_SELECTED_SECTION_TITLE"),infoTooltip:"BGPP_PANEL_SELECTED_SECTION_TOOLTIP",onSelectPreset:this.selectPreset,columns:4}},render:function(){return k.apply(this)}})});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels"],function(a,b,c,d,e,f){"use strict";function g(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function h(b,d,e){return a.createElement(c.dropDown.option,{key:"fittingTypeOption"+e,value:d.value},d.label)}function i(){var e=this.props.getData();return a.createElement(f.frames.bgSubPanelFrame,g({helpId:"54c7eb1c-a6c7-46c9-9261-96eecf3bb0eb",className:"background-image-settings-panel background-sub-panel",label:"BGPP_SETTINGS_IMAGE_PANEL_HEADER_TITLE"},b.omit(this.props,"children")),a.createElement(d.CustomScroll,{},a.createElement("div",{className:"bg-image-settings-panel-scrollbox bg-settings-panel-scrollbox"},a.createElement(c.slider,{valueLink:this.linkedBackgroundOpacityData(e,e.ref.mediaRef,"opacity"),label:"BGPP_SETTINGS_IMAGE_OPACITY_TITLE",min:0,max:100,step:1}),a.createElement(d.Divider,{long:true}),a.createElement("div",{className:"color-picker-input-wrapper"},a.createElement(c.colorPickerInput,g({label:"BGPP_SETTINGS_IMAGE_BG_COLOR_TITLE",ref:"bgColorPickerInput",className:"label-left",valueLink:this.linkedBackgroundColor(e,e.ref,"color")},this.getColorPickerProps()))),!this.getEditorAPI().isMobileEditor()?a.createElement("div",{key:"scrollTypeRadiosDivider"},a.createElement(d.Divider,{long:true}),a.createElement(c.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TITLE",infoText:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TOOLTIP"}),a.createElement(d.Divider,{long:true}),a.createElement(c.thumbnails,{maxThumbsPerRow:"3",className:"with-labels scroll-type-thumbs",options:this.getEffectsThumbOptions(),valueLink:this.linkedBackgroundData(e,e.ref,"scrollType")})):null,a.createElement(d.Divider,{long:true}),a.createElement(c.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_LAYOUT_SECTION_TITLE"}),a.createElement(d.Divider,{long:true}),a.createElement.apply(this,[c.dropDown.select,{valueLink:this.linkedBackgroundData(e,e.ref,"fittingType"),label:"BGPP_SETTINGS_IMAGE_FITTING_TITLE"},b.map(this.getFittingOptions(e.ref.scrollType),h.bind(this,e))]),a.createElement(d.Divider,{long:true}),a.createElement(c.alignment,{options:c.commonData.ALIGNMENT_MODES_XY,valueLink:this.linkedBackgroundData(e,e.ref,"alignType"),label:"BGPP_SETTINGS_IMAGE_ALIGN_TITLE"}))))}return function(){return i.apply(this,[])}});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel",["core","react","lodash","util","panelUtils","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt"],function(a,b,c,d,e,f){"use strict";var g=d.backgroundPanelUtils;var h=d.imageTransform.fittingTypes;var i=600;var j=600;var k=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:h.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:h.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_ORIGINAL_SIZE",value:h.LEGACY_BG_NORMAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:h.LEGACY_BG_FIT_AND_TILE},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_HORIZONTALLY",value:h.LEGACY_BG_FIT_AND_TILE_HORIZONTAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_VERTICALLY",value:h.LEGACY_BG_FIT_AND_TILE_VERTICAL}];var l=[{value:"scroll",label:"BGPP_SETTINGS_IMAGE_SCROLL_NONE",symbolName:"thumb-none"},{value:"parallax",label:"BGPP_SETTINGS_IMAGE_SCROLL_PARALLAX",symbolName:"scroll-fx-site-bg-parallax"},{value:"fixed",label:"BGPP_SETTINGS_IMAGE_SCROLL_FREEZE",symbolName:"scroll-fx-site-bg-freeze"}];var m=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:h.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:h.LEGACY_BG_FIT_AND_TILE}];var n=[h.LEGACY_BG_FIT_AND_TILE,h.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,h.LEGACY_BG_FIT_AND_TILE_VERTICAL];var o={opacity:1,fittingType:h.SCALE_TO_FILL,alignType:"center",scrollType:"scroll"};function p(a){var b=a.getUserPreferences();var c=a.pages.getPrimaryPageId();b.session.set("bg_image_settings_data_changed_"+c,true)}return b.createClass({displayName:"bgImageSettingsPanel",mixins:[a.mixins.editorAPIMixin,e.linkColorPickerMixin],childContextTypes:{reportUIChange:b.PropTypes.func},getInitialState:function(){this.lastScrollingType=null;return{}},shouldComponentUpdate:function(a){var b=this.getEditorAPI();var c=a.getData();if(!c.ref.mediaRef||c.ref.mediaRef.type!=="Image"){b.panelManager.closePanelByName(a.panelName);return false}return true},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(a){if(a==="slider"){this.props.undoHandler(this.props.undoOrigins.IMAGE_PANEL)}},linkedBackgroundData:function(a,b,c){var d=typeof b[c]==="undefined"?o[c]:b[c];return{value:d,requestChange:function(d){if(c==="scrollType"&&d==="parallax"){b.fittingType=this.getFittingTypeForParallax(a)}b[c]=d;this.props.requestChange(a,this.props.undoOrigins.IMAGE_PANEL);p(this.getEditorAPI())}.bind(this)}},linkedBackgroundOpacityData:function(a,b,c){var d=typeof b[c]==="undefined"?o[c]:b[c];d*=100;return{value:d,requestChange:function(d){d/=100;b[c]=d;this.props.requestChange(a);p(this.getEditorAPI())}.bind(this)}},linkedBackgroundColor:function(a,b,c){var d=b[c].replace(/[\{\}]/g,"");return{value:d,requestChange:function(d){b[c]=/color_/.test(d)?"{"+d+"}":d;this.props.requestChange(a);p(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{useMouseEvent:true,colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:true}},getFittingOptions:function(a){if(a==="parallax"){return m}return k},getEffectsThumbOptions:function(){return l},getFittingTypeForParallax:function(a){var b=a.ref.fittingType;var d=a.ref.mediaRef;var e=h.LEGACY_BG_FIT_AND_TILE;var f=h.SCALE_TO_FILL;var k=g.isSmallerFromContainer(d.width,d.height,i,j);var l=c.includes(n,b)||k&&b!==f;return l?e:f},render:f})});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels","util"],function(a,b,c,d,e,f,g){"use strict";function h(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function i(b,d,e,f){return a.createElement(c.dropDown.option,{key:"playbackOption"+f,value:e.value},e.label,"\n                \n            ")}function j(){var e=this.props.getData();var j=g.translate;return a.createElement(f.frames.bgSubPanelFrame,h({helpId:"7f54f04e-6e0b-4f73-96e2-6c98dd28e822",className:"background-video-settings-panel background-sub-panel",label:"BGPP_SETTINGS_VIDEO_PANEL_HEADER_TITLE"},b.omit(this.props,"children")),a.createElement(d.CustomScroll,{},a.createElement("div",{className:"bg-video-settings-panel-scrollbox bg-settings-panel-scrollbox"},a.createElement("div",{className:"background-video-patterns-control"},a.createElement(c.thumbnails,{radioType:"class",valueLink:this.linkedPatternOption(e,e.ref.imageOverlay),maxThumbsPerRow:"4",title:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_TITLE",options:this.thumbPatternOptions}),e.ref.imageOverlay?a.createElement(c.buttonsGroup,{className:"overlay-pattern-btn-group",valueLink:this.applyInversePattern(e,e.ref.imageOverlay),options:this.getInvertPatternOption(),key:"inversePattern"}):null),a.createElement(d.Divider,{long:true}),a.createElement(c.toggle,{valueLink:this.applyOverlayColor(e),label:"BGPP_SETTINGS_VIDEO_OVERLAY_COLOR_TITLE"}),this.isColorOverlay(e)?a.createElement(d.Divider,{long:false,key:"color-picker-input-divider"}):null,this.isColorOverlay(e)?a.createElement(c.colorPickerInputWithOpacity,b.assign({},{ref:"bgColorPickerInput",key:"color-picker-input",label:"BGPP_SETTINGS_VIDEO_COLOR_OPACITY_TITLE",valueLink:this.linkColorWithOpacity(e,e.ref)},this.getColorPickerProps())):null,a.createElement(d.Divider,{long:true}),a.createElement(c.sectionDividerLabeled,{label:"BGPP_SETTINGS_VIDEO_PLAYBACK_SECTION_TITLE"}),this.getEditorAPI().isDesktopEditor()?a.createElement(d.Divider,{long:true,key:"whptoDividerImageDesc"}):null,a.createElement.apply(this,[c.dropDown.select,{valueLink:this.linkedBackgroundData(e,e.ref.mediaRef,"playbackSpeed"),label:g.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_TITLE"),shouldTranslate:false},b.map(this.getPlaybackOptions(),i.bind(this,e,j))]),a.createElement(d.Divider,{
long:true}),a.createElement(c.toggle,{valueLink:this.linkedBackgroundData(e,e.ref.mediaRef,"loop"),label:"BGPP_SETTINGS_VIDEO_LOOP_TITLE"}))))}return function(){return j.apply(this,[])}});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel",["react","core","lodash","panelUtils","util","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt"],function(a,b,c,d,e,f){"use strict";var g=[{value:null,className:"v-overlay-pat-0-icon"},{value:"",className:"v-overlay-pat-1-icon"},{value:"",className:"v-overlay-pat-2-icon"},{value:"",className:"v-overlay-pat-3-icon"},{value:"",className:"v-overlay-pat-4-icon"},{value:"",className:"v-overlay-pat-5-icon"},{value:"",className:"v-overlay-pat-6-icon"},{value:"",className:"v-overlay-pat-7-icon"}];var h=[{uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},{uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},{uri:"0da768_361994b0f154464682a0aaf9724471cc.png",width:56,height:56},{uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},{uri:"0da768_2729bfbce3874276a7dd057098f93949.png",width:6,height:6},{uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},{uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3}];var i=[{uri:"0da768_5810e2bd76f64c77a67904ad2b073444.png",width:6,height:6},{uri:"0da768_46b55443eb984c0eacfbdcb1b67a2b7b.png",width:6,height:6},{uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},{uri:"0da768_95dbd595356148718d5876246a20fe90.png",width:256,height:256},{uri:"0da768_0ffcd1b0986d43b4aaa061b8b17d4040.png",width:6,height:6},{uri:"0da768_0c0d2dc79bc14f6b8275c3b72fec1ab6.png",width:4,height:6},{uri:"0da768_09a75bbb10944eafb4539206b6a3c615.png",width:3,height:3}];for(var j=0;j<h.length;j++){h[j].type="Image";i[j].type="Image"}var k=[{value:.25,label:"0.25x"},{value:.5,label:"0.50x"},{value:1,label:e.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_NORMAL")},{value:1.25,label:"1.25x"},{value:1.5,label:"1.50x"},{value:2,label:"2.00x"}];var l=[{value:false,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_DARKER"},{value:true,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_LIGHTER"}];var m={loop:true,uri:null,colorOverlay:"#ffffff",colorOverlayOpacity:.2,scrollType:"scroll",playbackSpeed:1};function n(a,b){var c=a.getUserPreferences();var d=a.pages.getPrimaryPageId();c.session.set("bg_video_settings_pattern_state_"+d,b)}function o(a){var b=a.getUserPreferences();var c=a.pages.getPrimaryPageId();b.session.set("bg_video_settings_data_changed_"+c,true)}function p(a){return a===i}function q(a,b){var d;if(!a.ref.imageOverlay){var e=b.pages.getPrimaryPageId();var f=b.getUserPreferences();d=f.session.get("bg_video_settings_pattern_state_"+e);return d?i:h}else if(c.find(h,{uri:a.ref.imageOverlay.uri})){return h}return i}return a.createClass({displayName:"bgVideoSettingsPanel",mixins:[b.mixins.editorAPIMixin,d.linkColorPickerMixin],propTypes:{getData:a.PropTypes.func,undoHandler:a.PropTypes.func,requestChange:a.PropTypes.func,undoOrigins:a.PropTypes.shape({VIDEO_PANEL:a.PropTypes.object})},childContextTypes:{reportUIChange:a.PropTypes.func},getInitialState:function(){this.lastColor="";this.lastColorOpacity=null;var a=this.props.getData();this.currentPatterns=q(a,this.getEditorAPI());this.patternState=p(this.currentPatterns);this.thumbPatternOptions=this.fillThumbPatternOptions(this.currentPatterns);return null},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(a){if(a.toLowerCase()==="slider"){this.props.undoHandler(this.props.undoOrigins.VIDEO_PANEL)}},linkedPatternOption:function(a,b){return{value:b&&b.uri||null,requestChange:function(b){if(b){var d=c.find(this.currentPatterns,{uri:b});this.patternState=p(this.currentPatterns);a.ref.imageOverlay=a.ref.imageOverlay||{};c.assign(a.ref.imageOverlay,d)}else{a.ref.imageOverlay=null}n(this.getEditorAPI(),this.patternState);this.props.requestChange(a,this.props.undoOrigins.VIDEO_PANEL);o(this.getEditorAPI())}.bind(this)}},applyInversePattern:function(a,b){return{value:this.patternState,requestChange:function(d){var e=c.findIndex(this.currentPatterns,{uri:b.uri});this.currentPatterns=d?i:h;this.fillThumbPatternOptions(this.currentPatterns);c.assign(a.ref.imageOverlay,this.currentPatterns[e]);this.patternState=d;n(this.getEditorAPI(),d);this.props.requestChange(a,this.props.undoOrigins.VIDEO_PANEL);o(this.getEditorAPI())}.bind(this)}},isColorOverlay:function(a){return!c.isEmpty(a.ref.colorOverlay)&&c.isNumber(a.ref.colorOverlayOpacity)},applyOverlayColor:function(a){return{value:this.isColorOverlay(a),requestChange:function(b){if(b){a.ref.colorOverlay=this.lastColor?this.lastColor:a.ref.color;a.ref.colorOverlayOpacity=c.isNumber(this.lastColorOpacity)?this.lastColorOpacity:m.colorOverlayOpacity}else{this.lastColor=a.ref.colorOverlay;this.lastColorOpacity=a.ref.colorOverlayOpacity;a.ref.colorOverlay="";a.ref.colorOverlayOpacity=0}this.props.requestChange(a,this.props.undoOrigins.VIDEO_PANEL);o(this.getEditorAPI())}.bind(this)}},linkColorWithOpacity:function(a,b){return{value:{color:b.colorOverlay.replace(/[\{\}]/g,""),alpha:b.colorOverlayOpacity},requestChange:function(c){b.colorOverlay=/color_/.test(c.color)?"{"+c.color+"}":c.color;b.colorOverlayOpacity=c.alpha;this.props.requestChange(a);o(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:true,useMouseEvent:true,enableHistory:true}},shouldComponentUpdate:function(a){var b=a.getData();var c=this.getEditorAPI();if(!b.ref.mediaRef||b.ref.mediaRef.type!=="WixVideo"){c.panelManager.closePanelByName(a.panelName);return false}return true},linkedBackgroundData:function(a,b,c){return{value:!b||typeof b[c]==="undefined"?m[c]:b[c],requestChange:function(d){b[c]=d;this.props.requestChange(a,this.props.undoOrigins.VIDEO_PANEL);o(this.getEditorAPI())}.bind(this)}},getPlaybackOptions:function(){return k},fillThumbPatternOptions:function(a){c.forEach(a,function(b,c){g[c+1].value=a[c].uri});return g},getInvertPatternOption:function(){return l},render:f})});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt",["react","lodash","baseUI","baseUILib","symbols","core"],function(a,b,c,d,e,f){"use strict";function g(){var g=this.props.page;var h=this.initialBgData;var i=this.getCurrentPageData();var j=this.getEditorAPI();return a.createElement("div",{className:b(this.getItemClassNames(g)).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("label",{className:"item-label"},h?a.createElement(d.Checkbox,{key:"normal-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentPage(),labelAfterSymbol:true}):null,h?a.createElement("span",{className:"page-preview",key:"page-preview",style:this.getBgImageUrl(this.state.checked?i:h)},this.getMediaType(this.state.checked?i.ref:this.initialBgData.ref)===this.mediaTypes.VIDEO?a.createElement("div",{key:"page-preview-video-controls",className:"page-preview-video-controls"},a.createElement(c.symbol,{name:"bgVideoIndicator"})):null):null,a.createElement("span",{className:"page-name"},g.label),g.pageData&&j.pages.isHomePage(g.pageData.id)?a.createElement(e.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,g.pageData&&f.utils.tpaTypeUtils.isTPA(g.pageData)&&!f.utils.tpaTypeUtils.isTPASpecialPage(j,g.pageData)?a.createElement(e.symbol,{name:"actionButtonSpecialPages",key:"isTpaPage"}):null,g.pageData&&f.utils.blogTypeUtils.isBlogSectionPage(j,g.pageData)?a.createElement(e.symbol,{name:"actionButtonBlogPages",key:"isBlogPage"}):null,g.type.isLink?a.createElement(e.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,g.type.isDropdown?a.createElement(e.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,!g.isVisible?a.createElement(e.symbol,{name:"pageItemHideIcon",key:"isHidden"}):null))}return function(){return g.apply(this,[])}});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem",["react","core","lodash","util","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt"],function(a,b,c,d,e){"use strict";var f=d.imageTransform;var g=d.backgroundPanelUtils;var h=g.getMediaTypes();var i=50;var j=35;return a.createClass({mixins:[b.mixins.editorAPIMixin,a.addons.LinkedStateMixin],displayName:"bgApplyPanelPageItem",propTypes:{page:a.PropTypes.object.isRequired,itemBgData:a.PropTypes.object,currentPageBgData:a.PropTypes.object,valueLink:a.PropTypes.func,currentPageId:a.PropTypes.string,isCurrentPage:a.PropTypes.bool,isSubMenu:a.PropTypes.bool,isSubMenuLast:a.PropTypes.bool},mediaTypes:h,getInitialState:function(){this.initialBgData=this.props.itemBgData;return{checked:this.isCurrentPage()}},componentWillReceiveProps:function(a){if(this.isValueChanged(a)){this.setState({checked:a.valueLink.value})}},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.page.pageData.id,this.initialBgData)},handleToggleChanged:function(a){this.setState({checked:a},this.componentStateChanged)},shouldComponentUpdate:function(a,b){return!this.isCurrentPage()&&(this.isCheckedStateChanged(b)||this.isValueChanged(a))},isValueChanged:function(a){return a.valueLink.value!==null&&this.props.valueLink.value!==a.valueLink.value},isCheckedStateChanged:function(a){return a.checked!==this.state.checked},isCurrentPage:function(){return this.props.isCurrentPage},getItemClassNames:function(a){return{"bg-apply-panel-item":true,"item-hidden":!a.isVisible,"current-page":this.isCurrentPage(),"item-first-level":!this.props.isSubMenu,"item-second-level":this.props.isSubMenu,"item-second-level-last":this.props.isSubMenuLast,"item-is-page":a.type.isPage}},getMediaType:function(a){return g.getMediaType(a)},getCurrentPageData:function(){return this.props.currentPageBgData},getBgImageUrl:function(a){var b=g.getColorValue(this.getEditorAPI(),a.ref.color);var e={backgroundColor:b};var k=this.getMediaType(a.ref);if(k!==h.COLOR){var l=k===h.IMAGE?a.ref.mediaRef:a.ref.mediaRef.posterImageRef;var m=g.isSmallerFromContainer(l.width,l.height,i,j);var n=g.getImageDisplayData(m?f.fittingTypes.TILE:f.fittingTypes.SCALE_TO_FILL,a.ref.alignType,l.uri,l.width,l.height,i,j);e.backgroundImage="url("+d.url.joinURL(g.MEDIA_URL_PREFIX,n.uri)+")";c.assign(e,n.css.container)}return e},render:e})});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem","symbols"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function j(c,d,e,f,h){return a.createElement("li",{key:"page"+e+"subPage"+h},a.createElement(g,b.assign({},{valueLink:this.pagesStateChange(),ref:"page"+e+"subPage"+h},this.getSubPagesProps(f,h,d.items.length-1))))}function k(c,d,e){return a.createElement("li",{key:"page"+e},a.createElement(g,b.assign({},{valueLink:this.pagesStateChange(),ref:"page"+e},this.getPagesProps(d))),d.items&&d.items.length?a.createElement.apply(this,["ul",{key:"pageItems"},b.map(d.items,j.bind(this,c,d,e))]):null)}function l(){var d=this.props.getData();return a.createElement(f.frames.bgSubPanelFrame,i({helpId:"18df7de7-066e-49e6-b005-f01c72d4f680",className:"bg-apply-panel background-sub-panel",label:"BGPP_SETTINGS_APLLY_PANEL_HEADER_TITLE"},b.omit(this.props,"children")),a.createElement("div",{className:"bg-apply-panel-wrapper"},a.createElement("div",{className:"bg-apply-panel-description"},"\n            ",c.translate("BGPP_SETTINGS_APLLY_PANEL_DESCRIPTION"),"\n        "),a.createElement("div",{className:"bg-apply-panel-all"},a.createElement(e.Checkbox,{labelAfterSymbol:true,value:this.state.markAllPagesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate,label:"BGPP_SETTINGS_APLLY_TO_ALL"})),a.createElement(e.CustomScroll,{},a.createElement("div",{className:"bg-apply-panel-scrollbox bg-settings-panel-scrollbox"},a.createElement.apply(this,["ul",{className:"bg-apply-panel-scrollbox-list"},b.map(this.siteMenuItems,k.bind(this,d))])))))}return function(){return l.apply(this,[])}});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel",["react","lodash","panels","util","core","pagesMenu","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt"],function(a,b,c,d,e,f,g){"use strict";var h=f.specialPages.menuLogic;var i=d.bgPanelBiEvents;function j(a,c,d,e){c=c||[];b.forEach(a,b.bind(function(a){if(a.pageData){c.push(a);if(b.includes(d,a.pageData.id)){var f=this.getEditorAPI().mainMenu.convertPagesDataListToMenuItemsList(h.getSpecialPagesListBySectionPageOrBySibling(this.getEditorAPI(),a.pageData),e);j.call(this,f,c,d,e)}}j.call(this,a.items,c,d,e)},this));return b.uniqBy(c,"id")}function k(a,c){var d=false;var f=c.mainMenu.getMenu();var g=c.pages.getPagesData();var i=h.getSectionPagesIds(c,g);var j;b.forEach(a,function(a){var k;if(a.pageData&&b.includes(i,a.pageData.id)){k=e.utils.tpaTypeUtils.isTPA(a.pageData);if(d&&k){return}j=c.mainMenu.convertPagesDataListToMenuItemsList(h.getSpecialPagesListBySectionPageOrBySibling(c,a.pageData,g),f);a.items=a.items.concat(j);if(k){d=true}}})}function l(a){var c=a.pages.dynamicPages.getMenuItems();return b.flatMap(c,"items")}function m(a,b){var c=a.getDeviceType();var d=a.pages.background.get(b,c);return d}function n(a,c,d,e){var f;b.forEach(e,function(e){if(e.checked){f=o(b.cloneDeep(d),e.pageId,c)}else{f=o(b.cloneDeep(e.originalPageBgData),e.pageId,c)}a.requestChange(f,null,e.pageId)});if(e.length>0){a.undoHandler(a.undoOrigins.APPLY_PANEL)}}function o(a,b,c){var d=c.getDeviceType();var e=c.pages.background.get(b,d);if(a.ref.mediaRef&&e.ref.mediaRef&&a.ref.mediaRef.type===e.ref.mediaRef.type){a.ref.mediaRef.id=e.ref.mediaRef.id;if(a.ref.mediaRef.type==="WixVideo"){a.ref.mediaRef.posterImageRef.id=e.ref.mediaRef.posterImageRef.id;if(a.ref.imageOverlay){a.ref.imageOverlay.id=e.ref.imageOverlay&&e.ref.imageOverlay.id}}}else if(a.ref.mediaRef){delete a.ref.mediaRef.id;if(a.ref.mediaRef.type==="WixVideo"){delete a.ref.mediaRef.posterImageRef.id;if(a.ref.imageOverlay){delete a.ref.imageOverlay.id}}}else{a.ref.mediaRef=null;a.ref.colorOverlay="";a.ref.imageOverlay=null;a.ref.scrollType="scroll"}a.ref.id=e.ref.id;return a}return a.createClass({displayName:"backgroundApplyPanel",mixins:[c.mixins.panelFrameMixin,e.mixins.editorAPIMixin,d.draggableMixin,a.addons.LinkedStateMixin],getInitialState:function(){this.selectedItems=[];this.appliedPages=[];this.currentPageId=this.getEditorAPI().pages.getPrimaryPageId();this.currentPageBgData=m(this.getEditorAPI(),this.currentPageId);this.siteMenuItems=this.getTrimmedMenuItems();this.flatSitePages=this.getFlatPagesList();this.itemsProps=this.getItemsProps();return{markAllPagesDisplay:false,indeterminate:false}},shouldComponentUpdate:function(a,b){return this.state.markAllPagesDisplay!==b.markAllPagesDisplay||this.state.indeterminate!==b.indeterminate||this.appliedPages.length>0},updatePages:function(){n(this.props,this.getEditorAPI(),this.currentPageBgData,this.appliedPages);this.appliedPages=[]},componentWillUnmount:function(){i.applyToOtherClosed(this.getEditorAPI(),e.bi.events.backgroundPanel.panel_apply_to_other_pages_ok,{all_pages_selected:(this.flatSitePages.length===this.selectedItems.length+1).toString(),num_unselected_pages:this.flatSitePages.length-this.selectedItems.length,num_selected_pages:this.selectedItems.length})},handleSelectAllChange:function(a){b.forEach(this.itemsProps,b.bind(function(c){var d=c.page.pageData.id;if(d===this.currentPageId){return}if(a){if(!b.includes(this.selectedItems,d)){this.selectedItems.push(d);this.appliedPages.push({checked:a,originalPageBgData:c.itemBgData,pageId:d})}}else if(b.includes(this.selectedItems,d)){b.pull(this.selectedItems,d);this.appliedPages.push({checked:a,originalPageBgData:c.itemBgData,pageId:d})}},this));this.setState({markAllPagesDisplay:a,indeterminate:false},this.updatePages)},pagesStateChange:function(){var a=null;if(this.flatSitePages.length===this.selectedItems.length+1){a=true}if(this.selectedItems.length===0){a=false}return{value:a,requestChange:function(a,c,d){if(a&&!(c===this.currentPageId)){if(!b.includes(this.selectedItems,c)){this.selectedItems.push(c)}}else{b.pull(this.selectedItems,c)}this.appliedPages.push({checked:a,originalPageBgData:d,pageId:c});var e=this.flatSitePages.length===this.selectedItems.length+1;var f=!e&&this.selectedItems.length>0;if(e!==this.state.markAllPagesDisplay||f!==this.state.indeterminate){var g={markAllPagesDisplay:e,indeterminate:f};this.setState(g,this.updatePages)}else{this.updatePages()}}.bind(this)}},getFlatPagesList:function(){var a=this.getEditorAPI();var b=a.pages.getPagesData();var c=a.mainMenu.getMenuItemsTreeForMainMenu(b);c=c.concat(l(this.getEditorAPI()));var d=h.getSectionPagesIds(a,b);var e=a.mainMenu.getMenu();return j.call(this,c,[],d,e)},getTrimmedMenuItems:function(){var a=this.getMenuItemsTreeWithPagesOnly();k(a,this.getEditorAPI());a=a.concat(l(this.getEditorAPI()));return a},getMenuItemsTreeWithPagesOnly:function(){var a=this.getEditorAPI();var b=function(b,c){return c&&!h.isSpecialPage(a,c)||!c&&b.items.length>0};return a.mainMenu.extendMenuItemsTreeWithPageData(a.pages.getPagesData(),b)},getItemsProps:function(){var a=[];b.forEach(this.flatSitePages,b.bind(function(b){a.push({page:b,currentPageId:this.currentPageId,currentPageBgData:this.currentPageBgData,itemBgData:m(this.getEditorAPI(),b.pageData.id),isCurrentPage:this.currentPageId===(b.type.isPage&&b.pageData.id)})},this));return a},getPagesProps:function(a){var c=b.find(this.itemsProps,{page:{id:a.id}});if(!c){c={page:a}}return c},getSubPagesProps:function(a,c,d){var e=b.find(this.itemsProps,{page:{id:a.id}});e.isSubMenu=true;e.isSubMenuLast=c===d;return e},render:g})});define("rEditor/rootComps/panels/siteSettings/siteSettingsPanel.rt",["react","lodash","baseUI","panels"],function(a,b,c,d){"use strict";return function(){return a.createElement(d.frames.focusPanelFrame,{panelName:this.props.panelName,width:"1210",height:"90%",shouldHideHeader:true,className:"site-settings-panel"},a.createElement("iframe",{ref:"siteSettingsFrame",width:"100%",height:"100%",src:this.getSettingsIframeUrl(),frameBorder:"0"}),a.createElement(c.preloader,{className:b({hidden:!this.state.showLoader}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")}))}});define("rEditor/rootComps/panels/siteSettings/siteSettingsPanel",["reactDOM","react","util","core","lodash","panels","rEditor/rootComps/panels/siteSettings/siteSettingsPanel.rt"],function(a,b,c,d,e,f,g){"use strict";var h={CLOSE:"CLOSE",OPEN_HELP:"OPEN_HELP",SET_METATAGS:"SET_METATAGS",GET_METATAGS:"GET_METATAGS",NOTIFY_SITENAME_CHANGED:"NOTIFY_SITENAME_CHANGED"};var i=["https://www.wix.com","http://www.wix.com"];function j(a){return e.isObject(a)&&!e.isEmpty(a.action)&&e.isString(a.action)}function k(b){var c=a.findDOMNode(this.refs.siteSettingsFrame);c.contentWindow.postMessage(JSON.stringify(b),"*")}function l(a,b){var c=a.action;switch(c){case h.GET_METATAGS:k.call(this,{payload:b.seo.headTags.get(),callId:a.callId});break;case h.SET_METATAGS:b.seo.headTags.set(a.value,e.noop,e.noop);break;case h.NOTIFY_SITENAME_CHANGED:b.siteName.set(a.value);break;case h.CLOSE:this.close();break;case h.OPEN_HELP:this.openHelpCenter();break}}return b.createClass({displayName:"siteSettingsPanel",render:g,mixins:[d.mixins.editorAPIMixin,f.mixins.panelFrameMixin],propTypes:{tab:b.PropTypes.string,referrer:b.PropTypes.string},getInitialState:function(){return{showLoader:true}},getDefaultProps:function(){return{tab:"overview"}},componentWillMount:function(){window.addEventListener("message",this.handlePostMessage,false)},componentWillUnmount:function(){window.removeEventListener("message",this.handlePostMessage,false)},componentDidMount:function(){a.findDOMNode(this.refs.siteSettingsFrame).addEventListener("load",this.hideLoader)},handlePostMessage:function(a){var b=this.getEditorAPI();if(e.includes(i,a.origin)&&!e.isEmpty(a.data)&&e.isString(a.data)){try{this.hideLoader();var c=JSON.parse(a.data);if(j(c)){l.call(this,c,b)}}catch(c){b.bi.error(d.bi.errors.SITE_SETTINGS_JSON_PARSE_ERROR,{dsc:'message: "'+c.message+'" data: "'+a.data+'"',errscp:this.constructor.displayName})}}},getSettingsIframeUrl:function(){var a=this.getEditorAPI();var b=c.serviceTopology.baseDomain;var d=a.generalInfo.getMetaSiteId();var e=this.props.referrer?"&referrer="+this.props.referrer:"";return"https://"+b+"/my-account/sites/"+d+"/site-settings/"+this.props.tab+"/?mode=editor-dialog"+e},hideLoader:function(){if(this.state.showLoader){this.setState({showLoader:false})}}})});define("rEditor/rootComps/topBar/menuBar/menuBarItem.rt",["react","lodash","baseUI","experiment"],function(a,b,c,d){"use strict";function e(a){this.props.onHover(this.props.menuItem,this.props.index)}function f(){var c=this.getCounter();return a.createElement("li",{className:b(this.getClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("a",{onClick:this.onClick,onMouseEnter:e.bind(this,c)},a.createElement("label",{className:"menu-bar-item-label","data-hint-id":d.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},!!this.props.isCheckbox?a.createElement("input",{key:"checkItemInput",ref:"checkboxInput",disabled:this.props.isDisabled&&this.props.isDisabled(),type:"checkbox",className:"menu-bar-item-checkbox",checked:this.props.viewTools[this.props.menuPropsKey],onChange:this.handleCheckChange}):null,"\n                ",this.props.label,"\n                ",a.createElement("span",{className:"shortcut"},this.props.shortcutLabel),c?a.createElement("div",{key:"counter",className:"item-counter"},c):null)))}return function(){return a.createElement(c.tooltip,{value:this.getTooltipText(),alignment:c.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,disabled:!this.getTooltipText()},f.apply(this,[]))}});define("rEditor/rootComps/topBar/menuBar/menuBarItem",["reactDOM","react","lodash","core","rEditor/rootComps/topBar/menuBar/menuBarItem.rt"],function(a,b,c,d,e){"use strict";return b.createClass({displayName:"menuBarItem",propTypes:{action:b.PropTypes.func,bi:b.PropTypes.oneOfType([b.PropTypes.array,b.PropTypes.object]),disabled:b.PropTypes.bool,index:b.PropTypes.number,editorAPI:b.PropTypes.object,isCheckbox:b.PropTypes.bool,shortcutLabel:b.PropTypes.string,label:b.PropTypes.string,menuPropsKey:b.PropTypes.string,closeDropDownHandle:b.PropTypes.func,viewTools:b.PropTypes.object,className:b.PropTypes.string,isSelected:b.PropTypes.bool,getCounter:b.PropTypes.func},componentDidUpdate:function(a){if(!a.isSelected&&this.props.isSelected){this.props.onHover(this.props.menuItem,this.props.index)}},getClasses:function(){var a={"menu-bar-item":true,"menu-bar-item-action":true,"menu-bar-item-action-selected":this.props.isSelected,"enabled-item":!this.props.disabled,"menu-bar-item-separator":this.props.separator};if(this.props.className){a[this.props.className]=true}return a},handleCheckChange:function(a){var b=a.target.checked;this.executeAction(b)},onClick:function(){if(!this.props.isCheckbox){this.executeAction()}},sendBI:function(){if(this.props.editorAPI&&this.props.bi){var a=[].concat(this.props.bi);var b=this.props.editorAPI;c.forEach(a,function(a){b.bi.event(a.type,a.fields)})}},executeAction:function(b){var c=this.props.action;if(c&&!this.props.disabled){this.sendBI();if(this.props.isCheckbox){var d=b!==undefined?b:!a.findDOMNode(this.refs.checkboxInput).checked;c(d,false,this.props.closeDropDownHandle)}else{c();this.props.closeDropDownHandle()}}},getCounter:function(){return c.isFunction(this.props.getCounter)&&this.props.getCounter()},getTooltipText:function(){return this.props.editorAPI.tooltipTextService.getSelectedComponentTooltipText(this.props.menuItem.key)},render:e})});define("rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel.rt",["react","lodash","rEditor/rootComps/topBar/menuBar/menuBarItem"],function(a,b,c){"use strict";function d(d,e){return a.createElement(c,b.assign({},{ref:d.key,key:d.key,isSelected:e===this.state.selectedMenuItemIndex,menuItem:d,index:e},this.getItemProps(d)))}return function(){return a.createElement("div",{className:"menubar-actions-panel"},a.createElement.apply(this,["ul",{},b.map(this.getSelectedMenuChildren(this.props.selectedMenu),d.bind(this))]))}});define("rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel",["react","lodash","util","panels","rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel.rt"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"menuActionsPanel",PropTypes:{selectedMenu:a.PropTypes.object.isRequired,onMenuItemHover:a.PropTypes.func,closeDropDownHandle:a.PropTypes.func},mixins:[d.mixins.statefulKeyboardContextMixin],keyboardShortcutsContextNamePrefix:"TOP_BAR_DROP_PANEL_",getInitialState:function(){return{selectedMenuItemIndex:null}},componentWillReceiveProps:function(a){if(this.props.selectedMenu.key!==a.selectedMenu.key){this.setState({selectedMenuItemIndex:null})}},getItemProps:function(a){var c=f[a.key];if(c){var d=this.isMenuItemDisabled(c,a.key);var e=this.getLabel(c);var g=this.props.viewTools;var h={disabled:d,onHover:function(a,b){if(this.props.onMenuItemHover){this.props.onMenuItemHover(a)}this.setState({selectedMenuItemIndex:b})}.bind(this),label:e,closeDropDownHandle:this.props.closeDropDownHandle,viewTools:g,editorAPI:this.props.editorAPI};var i=b.clone(c);b.assign(i,h);return i}return null},getSelectedMenuChildren:function(a){var c=a&&a.children||[];if(c){c=b.filter(c,b.bind(this.isMenuBarItemShowing,this))}return c},getItemVisibility:function(a){return e.shouldBeVisible(a.key)},isMenuBarItemShowing:function(a){return this.getItemVisibility(a)},getLabel:function(a){return a.labelFunc&&a.labelFunc()||a.label},isMenuItemDisabled:function(a,c){var d=this.props.editorAPI;if(c==="PASTE"){return!d.clipboardContainsComp()||!d.isDesktopEditor()}var e=false;if(a.compActionRestrictionNames){var f=d.getCompRestrictions(d.selection.getSelectedComponents());var g=a.compActionRestrictionNames||[];e=e||!b.every(g,b.propertyOf(f))}if(!e&&a.disabledChecker){e=a.disabledChecker()}return e},getNumberOfMenuItems:function(){return this.getSelectedMenuChildren(this.props.selectedMenu).length},getKeyboardShortcuts:function(){var a=this;var b=c.keyboardShortcuts.CONTEXTS.MENU_BAR;var d=c.keyboardShortcuts.extendContext(b,{up:function(b){var c=a.state.selectedMenuItemIndex;var d;if(c===null||c===0){d=a.getNumberOfMenuItems()-1}else{d=c-1}a.setState({selectedMenuItemIndex:d});b.preventDefault()},down:function(b){var c=a.state.selectedMenuItemIndex;var d;if(c===null){d=0}else{d=(c+1)%a.getNumberOfMenuItems()}a.setState({selectedMenuItemIndex:d});b.preventDefault()},enter:function(b){var c=a.state.selectedMenuItemIndex;if(c!==null){var d=a.getSelectedMenuChildren(a.props.selectedMenu)[c].key;var e=a.refs[d];if(e.executeAction){e.executeAction()}}b.preventDefault()}});return d},render:g})});define("rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";function d(){var b=this.props.menuKey.toLowerCase();var d=this.props.classes;return a.createElement("div",{className:"menu-bar-promotion-box",style:this.props.style,onClick:this.onClick},a.createElement("div",{className:"graphics-container "+(d.graphics||"graphics-"+b),key:b},this.props.image?a.createElement("img",{key:"promotionImage",src:this.props.image}):null,this.props.symbol?a.createElement(c.symbol,{key:"promotionSymbol",name:this.props.symbol}):null),this.props.title?a.createElement("div",{key:"title",className:d.title||"title"},this.translateIfNeeded(this.props.title)):null,this.props.message?a.createElement("div",{key:"msg",className:d.message||"message",dangerouslySetInnerHTML:{__html:this.translateIfNeeded(this.props.message)}}):null)}return function(){return d.apply(this,[])}});define("rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel",["react","lodash","util","rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel.rt"],function(a,b,c,d){"use strict";function e(a,c){if(a&&c){var d=b.cloneDeep(c);b.forEach(d,function(b){if(b.fields&&b.fields.category){b.fields.category+="(Image)"}a.bi.event(b.type,b.fields)})}}return a.createClass({displayName:"promotionPanel",mixins:[c.translationMixin],propTypes:{menuKey:a.PropTypes.string.isRequired,image:a.PropTypes.string,symbol:a.PropTypes.string,title:a.PropTypes.string,message:a.PropTypes.string,action:a.PropTypes.func,bi:a.PropTypes.oneOfType([a.PropTypes.array,a.PropTypes.object]),classes:a.PropTypes.object,editorAPI:a.PropTypes.object},getDefaultProps:function(){return{classes:{}}},onClick:function(){if(this.props.action){this.props.action(null,true);e(this.props.editorAPI,b.compact([].concat(this.props.bi)))}},render:d})});define("rEditor/rootComps/topBar/dropPanels/dropPanels",["rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel","rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel"],function(a,b,c){"use strict";return{menuActionsPanel:a,checkListPanel:b,promotionPanel:c}});define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt",["react","lodash","baseUI","panels","util"],function(a,b,c,d,e){"use strict";return function(){return a.createElement(d.frames.focusPanelFrame,{ref:"frame",panelName:this.props.panelName,title:"Editor Version Info",frameClassName:"editorVersionInfoPanel"},a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},a.createElement("label",{},"Editor Version:"),a.createElement("span",{},this.getEditorVersion())),a.createElement("div",{className:"row"},a.createElement("label",{},"Viewer Version:"),a.createElement("span",{},this.getViewerVersion()))),a.createElement("div",{className:"panel-footer"},a.createElement(c.button,{type:"button",shouldTranslate:false,label:"OK",className:"done-button",onClick:this.close})))}});define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel",["lodash","react","util","jquery","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt"],function(a,b,c,d,e){"use strict";function f(a){return a.split("/").pop()||"unknown"}return b.createClass({displayName:"editorVersionInfoPanel",panelName:"editorVersionInfoPanel",getEditorVersion:function(){return f(a.get(c,"editorModel.editorBase",""))},getViewerVersion:function(){return f(a.get(d("#preview")[0],"contentWindow.siteModel.santaBase"))},close:function(){if(this.refs.frame){this.refs.frame.close()}},render:e})});define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt",["react","lodash","panels","baseUI","baseUILib","util","symbols","addPanelInfra"],function(a,b,c,d,e,f,g,h){"use strict";return function(){return a.createElement(c.frames.confirmationPanelFrame,{panelName:this.props.panelName,className:"apply-style-panel",onConfirm:this.onConfirm,onCancel:this.onCancel,shouldHideHeader:true,confirmLabel:"COPY_DESIGN_APPLY",ref:"frame",cancelLabel:"COPY_DESIGN_APPLY_CANCEL"},a.createElement("header",{className:"save-publish-panel-header"},a.createElement("button",{className:"close",onClick:this.close},a.createElement(g.symbol,{name:"headerCloseButton"})),a.createElement("button",{className:"help",onClick:this.openHelpCenter,key:"help"},"?"),a.createElement("span",{className:"title"},f.translate("COPY_DESIGN_TITLE")),a.createElement("span",{
className:"subtitle"},f.translate("COPY_DESIGN_DESCRIPTION_LINE1"))),a.createElement("div",{className:"panel-content"},a.createElement("div",{className:"current-style-container container-wrapper"},a.createElement("div",{className:"current-style-header header"},a.createElement("span",{className:"text"},f.translate("COPY_DESIGN_LABEL_LEFT"))),a.createElement("div",{className:"current-style comp-container"},a.createElement(h.designPanelLiveComponentSection,this.getSelectedCompProps()))),a.createElement("div",{className:"applied-styles-container container-wrapper"},this.getThemeAndPersonalizeStylesToRender().length>0?a.createElement("div",{key:"applyStyleHeader",className:"applied-styles-header header"},a.createElement("span",{className:"text"}," ",f.translate("COPY_DESIGN_LABEL_RIGHT"))):null,a.createElement(e.CustomScroll,{},a.createElement("div",{className:"comp-themed-styles comp-container"},this.getThemeAndPersonalizeStylesToRender().length>0?a.createElement(h.designPanelLiveComponentSection,b.assign({},{key:"appliesStylesLiveSections"},this.getThemeAndPersonalizeStylesProps())):null,this.getThemeAndPersonalizeStylesToRender().length===0?a.createElement("div",{className:"empty-styles",key:"emptyStylesKey"},a.createElement(g.symbol,{name:"nothingToEditASP"}),a.createElement("div",{className:"empty-style-text text"},f.translate("COPY_DESIGN_EMPTY_LABEL"))):null)))))}});define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel",["react","lodash","core","rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt","experiment"],function(a,b,c,d,e){"use strict";var f=30;var g=20;var h=1;var i=["wysiwyg.viewer.skins.page.TransparentPageSkin","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen","wysiwyg.viewer.skins.area.TransparentArea"];var j=["wysiwyg.viewer.skins.photo.NoSkinPhoto","wysiwyg.viewer.skins.VideoSkin"];var k=["wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.PaginatedGridGallery"];var l={"wysiwyg.viewer.components.HeaderContainer":{scale:.5},"wysiwyg.viewer.components.FooterContainer":{scale:.5},"wysiwyg.viewer.components.ScreenWidthContainer":{scale:.5},"mobile.core.components.Page":{compOverrideType:"pageContainer"},"wysiwyg.viewer.components.Video":{scale:.5},"wysiwyg.viewer.components.VerticalLine":{maxFontSize:10},"wysiwyg.viewer.components.FiveGridLine":{maxFontSize:10},fiveGridLineFullWidth:{maxFontSize:10},"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.AudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.menus.DropDownMenu":{maxFontSize:15},"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":{maxFontSize:15},"wysiwyg.viewer.components.SiteButton":{maxFontSize:22},"mobile.core.components.Container":{scale:.5},"core.components.Container":{scale:.5},"core.components.ContainerOBC":{scale:.5},"wysiwyg.viewer.components.BgImageStrip":{scale:.5},"wysiwyg.viewer.components.ContactForm":{scale:.5},"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":{scale:.5},"wysiwyg.viewer.components.GoogleMap":{scale:.5},"wysiwyg.viewer.components.WPhoto":{scale:.5},"wysiwyg.viewer.components.MatrixGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SlideShowGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SliderGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.PaginatedGridGallery":{scale:.25,maxFontSize:12}};var m={"mobile.core.components.Container":["core.components.Container","core.components.ContainerOBC"],"core.components.Container":["mobile.core.components.Container","core.components.ContainerOBC"],"core.components.ContainerOBC":["mobile.core.components.Container","core.components.Container"]};function n(a,d){var e=a.style||a.styleId;if(b.isString(e)){e=c.styleManager.getStyleById(d.theme,d.components,e)}return e}function o(a,d){var e=b.union([d],m[d]);var f=b.map(e,function(d){return b.map(c.styleManager.getThemedStyleForComp(a.theme,a.components,d),"id")});return b(f).union().flatten().value()}function p(a,d){var e=b.map(c.styleManager.getUniqueCustomStyleList(a.theme,a.components,d),"id");if(m[d]){b.forEach(m[d],function(d){var f=b.map(c.styleManager.getUniqueCustomStyleList(a.theme,a.components,d),"id");e=e.concat(f)})}return e}function q(a,d){var e=b.map(c.styleManager.getUniqueStyleList(a.theme,a.components,d),"id");if(m[d]){b.forEach(m[d],function(d){var f=b.map(c.styleManager.getUniqueStyleList(a.theme,a.components,d),"id");e=e.concat(f)})}return e}function r(a){return l[a]&&l[a].compOverrideType?l[a].compOverrideType:a}function s(a,c,d,e,k,m){var o={additionalBehaviours:{iconEnabledForComps:[],infoIcon:"none",labelMode:"none"},help:{hide:true},categoryId:d.substring(d.lastIndexOf(".")+1),hide:false,id:c,onClick:m,onItemDrag:function(){},parentType:"ADD_PANEL",props:{compTypes:r(d),horizontalMargin:g,verticalMargin:f,scaleProportion:{x:l[d]&&l[d].scale?l[d].scale:h,y:l[d]&&l[d].scale?l[d].scale:h}},showSectionHeader:false,stylesForSection:e,additionalScaling:1,selectedItemKey:k,getAdditionalElementProps:function(c){var d=n(c,a);var e={};if(b.includes(i,d.skin)){e.text="DESIGN_LABEL_NO_COLOR";e.className="design-panel-transparent-skin-item"}else if(b.includes(j,d.skin)){e.text="Design_Label_No_Frame";e.className="design-panel-no-frame-skin-item"}return e}};if(l[d]&&l[d].maxFontSize){o.props.maxFontSize=l[d].maxFontSize}return o}function t(a,d){return b.filter(a,function(a){var e=c.styleManager.getStyleById(d.theme,d.components,a);return!b.includes(j,e.skin)})}return a.createClass({displayName:"applyStylePanel",getInitialState:function(){return{selectedItems:[]}},close:function(){this.refs.frame.close();var a=this.props.editorAPI;var b=this.props.selectedComp;a.bi.event(c.bi.events.applyStyle.COPY_STYLE_CANCEL,{component_id:b.id,component_type:a.components.getType(b)})},onCancel:function(){var a=this.props.editorAPI;var b=this.props.selectedComp;a.bi.event(c.bi.events.applyStyle.COPY_STYLE_CANCEL,{component_id:b.id,component_type:a.components.getType(b)})},onConfirm:function(){var a=this.props.editorAPI;var d=a.components.style.getId(this.props.selectedComp);var f=a.components.getType(this.props.selectedComp);var g=c.styleManager.getStyleById(a.theme,a.components,d);var h=this.props.selectedComp;a.bi.event(c.bi.events.applyStyle.COPY_STYLE_APPLY,{num_of_styles_chosen:this.state.selectedItems.length,component_id:h.id,component_type:a.components.getType(h)});b.forEach(this.state.selectedItems,function(d){var h=d.split(".");var i=h[h.length-1];var j=i.substring(i.indexOf("_")+1);var k=c.styleManager.getStyleById(a.theme,a.components,j);var l=[k];var n=c.styleManager.getDuplicateToStyleList(a.theme,a.components,k,f);b.forEach(m[f],function(b){var d=c.styleManager.getDuplicateToStyleList(a.theme,a.components,k,b,m[f]);n=n.concat(d)});if(e.isOpen("se_studioCopyDesign")){n=b.filter(n,{styleType:"custom"})}l=l.concat(n);b.forEach(l,function(b){var c={skin:g.skin,style:g.style,type:b.type};a.theme.styles.update(b.id,c)})})},getSelectedCompProps:function(){var a=this.props.editorAPI;var c=this.props.selectedComp;var d=a.components.getType(c);var e="selectedComp"+c.id;var f=a.components.style.getId(c);var g=[{styleId:f,compType:r(d)}];return s(a,e,d,g,this.state.selectedItems,b.noop)},getThemeAndPersonalizeStylesProps:function(){var a=this.props.editorAPI;var b=this.props.selectedComp;var c="themeAndMyForComp"+b.id;var d=a.components.getType(b);var e=this.themeAndPersonalizedStylesToRender?this.themeAndPersonalizedStylesToRender:this.getThemeAndPersonalizeStylesToRender();return s(a,c,d,e,this.state.selectedItems,this.updateListOfStyleToUpdate)},getThemeAndPersonalizeStylesToRender:function(){if(this.themeAndPersonalizedStylesToRender){return this.themeAndPersonalizedStylesToRender}var a=this.props.editorAPI;var d=this.props.selectedComp;var f=a.components.getType(d);var g=a.components.style.getId(d);var h=c.styleManager.getStyleById(a.theme,a.components,g);var i=[];if(e.isOpen("se_studioCopyDesign")){i=o(a,f)}else if(b.includes(k,f)){i=p(a,f)}else{i=q(a,f)}i=t(i,a);var j=[];b.forEach(i,function(b){var d=c.styleManager.getStyleById(a.theme,a.components,b);var i=b!==g&&!c.styleManager.isEqualWithoutTypeConsideration(d,h);if(e.isOpen("se_studioCopyDesign")||i){j.push({compType:r(f),styleId:b})}});this.themeAndPersonalizedStylesToRender=j;return j},updateListOfStyleToUpdate:function(a,d,e,f){var g=b.clone(this.state.selectedItems);var h=f.split(".");var i=h[h.length-1];var j=i.substring(i.indexOf("_")+1);var k=b.includes(g,f);if(k){b.remove(g,function(a){return a===f})}else{g.push(f)}var l=this.props.selectedComp;var m=this.props.editorAPI;m.bi.event(c.bi.events.applyStyle.COPY_STYLE_CHOOSE_STYLES_TO_REPLACE_CLICK,{style_id:j,status:!k,component_id:l.id,component_type:m.components.getType(l)});this.setState({selectedItems:g})},openHelpCenter:function(){var a="b853c294-8ff1-418f-b4d2-29d7b59a85c3";var b={panel_name:this.props.panelName,component:this.props.editorAPI.selection.getSelectedComponentType(),origin:c.constants.BI.HELP.ORIGIN.PANEL,learn_more:false};this.props.editorAPI.panelManager.openHelpCenter(a,null,b)},render:d})});define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt",["react","lodash","util","baseUI","baseUILib","compPanels","helpIds"],function(a,b,c,d,e,f,g){"use strict";return function(){return a.createElement(f.compPanelFrame,b.assign({},{contentClass:"box-slide-show-manage-slides-panel",title:"Regular_Slideshow_Slides_Title",helpId:g.EXTERNAL.BOX_SLIDE_SHOW_MANAGE_SLIDES},this.getFrameProps()),a.createElement(e.SortByDragList,{selectable:true,value:this.getSlides(),selectItem:this.selectSlide,menuActionsOverrides:this.getMenuActionsOverrides(),enableEditValue:false,enableSetAsDefault:false,labelValidator:c.validate.notEmptyString,labelInvalidMessage:"Box_slide_show_slides_invalid_slide_name",itemMoved:this.moveSlide,duplicateItem:this.duplicateSlide,deleteItem:this.deleteSlide,itemChanged:this.changeSlideName}),a.createElement("div",{className:"button-wrapper"},a.createElement(d.button,{className:"mainButton",label:"Regular_Slideshow_Slides_Add_Duplicate_Slide",onClick:this.duplicateCurrentSlide}),a.createElement(d.button,{className:"secondaryButton btn-text",label:"Regular_Slideshow_Slides_Add_New_Slide",onClick:this.addNewSlide})))}});define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel",["react","lodash","util","core","compPanels","boxSlideshow","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt"],function(a,b,c,d,e,f,g){"use strict";var h=f.utils.boxSlideShowUtils;var i="Regular_Slideshow_Slides_Copy_Slide_Label";var j="Regular_Slideshow_Slides_New_Slide_Label";var k="title";function l(a,b){return a.components.data.get(b)[k]}function m(){return this.getEditorAPI().components.getDefaultBiParams(this.props.selectedComponent)}function n(a,b,c){var d={id:b.id,label:l(a,b),pointer:b};if(d.id===c.id){d.selected=true}return d}function o(a,c,d){var e=h.getAllSlides(a,c);return b.map(e,function(b){return n(a,b,d)})}return a.createClass({displayName:"boxSlideShowManageSlidesPanel",mixins:[e.compPanelMixin,c.translationMixin],getInitialState:function(){var a=h.findCurrentSlide(this.getEditorAPI(),this.props.selectedComponent);this.isCurrentlyInOperation=false;return{selectedSlide:a}},componentWillMount:function(){this.slides=this.getSlides()},componentWillUpdate:function(a,b){this.slides=o(this.getEditorAPI(),this.props.selectedComponent,b.selectedSlide)},componentWillReceiveProps:function(a){this.slides=o(this.getEditorAPI(),a.selectedComponent,this.state.selectedSlide);var c=h.findCurrentSlide(this.getEditorAPI(),a.selectedComponent);if(!b.isEqual(c,this.state.selectedSlide)){this.setState({selectedSlide:c})}},getSlides:function(){return o(this.getEditorAPI(),this.props.selectedComponent,this.state.selectedSlide)},getSelectedSlideItem:function(){return b.find(this.slides,{id:this.state.selectedSlide.id})},startOperation:function(){this.getEditorAPI().preventMouseDown();this.isCurrentlyInOperation=true},endOperation:function(){this.getEditorAPI().allowMouseDown();this.isCurrentlyInOperation=false},isInOperation:function(){return this.isCurrentlyInOperation},selectSlide:function(a,c){if(this.isInOperation()){return}var e=this.getEditorAPI();this.startOperation();this.setState({selectedSlide:a.pointer},function(){e.components.behaviors.execute(this.props.selectedComponent,"moveToSlide",{slide:c},this.endOperation)}.bind(this));h.hideQuickTip(e);h.identifyComponentsOutOfSlideshow(e,this.props.selectedComponent);e.bi.event(d.bi.events.boxSlideShow.SLIDES_NAVIGATION,b.assign({origin:"slideManager"},m.call(this)))},moveSlide:function(a,c){if(a===c||this.isInOperation()){return}var e=this.getEditorAPI();var f=b.findIndex(this.getSlides(),{selected:true});var g=this.slides[a].pointer;e.components.arrangement.moveToIndex(g,c,false);e.bi.event(d.bi.events.boxSlideShow.MANAGE_SLIDES_SLIDE_REORDERED,m.call(this));e.waitForChangesApplied(function(){var a=b.findIndex(this.getSlides(),{selected:true});if(f===a){return}this.startOperation();e.components.behaviors.execute(this.props.selectedComponent,"moveToSlide",{slide:a},this.endOperation)}.bind(this))},addSlide:function(a,c){var d=this.getEditorAPI();var e=d.components.add(b.head(this.props.selectedComponent),a);d.components.arrangement.moveToIndex(e,c,true);this.getEditorAPI().history.add("added a slide to slide show");d.waitForChangesApplied(function(){var a=n(d,e,this.state.selectedSlide);this.selectSlide(a,c)}.bind(this))},duplicateSlide:function(a,b){var c=this.getEditorAPI().components.serialize(a.pointer);var d={curr_slide_title:c.data[k]};c.data[k]=this.translateTemplate(i,d,this.getEditorAPI());this.addSlide(c,b+1)},duplicateCurrentSlide:function(){var a=this.getSelectedSlideItem();var b=this.slides.length;this.duplicateSlide(a,b-1);this.getEditorAPI().bi.event(d.bi.events.boxSlideShow.MANAGE_SLIDES_DUPLICATE_CURRENT_SLIDE,m.call(this))},deleteSlide:function(a,b,c){if(c.length<=1){return}var d=this.getEditorAPI();d.components.remove(a.pointer);d.history.add("removed a slide from slide show");d.waitForChangesApplied(function(){var a=h.findCurrentSlide(d,this.props.selectedComponent);this.setState({selectedSlide:a})}.bind(this))},changeSlideName:function(a){var b=a.label;var c=this.getEditorAPI();var d={};d[k]=b;c.components.data.update(a.pointer,d)},addNewSlide:function(){var a=this.getEditorAPI();var b=this.getSelectedSlideItem();var c=a.components.serialize(b.pointer);c.components=[];var e=this.slides.length;var f={curr_slide:e+1};c.data[k]=this.translateTemplate(j,f,a);this.addSlide(c,e);a.bi.event(d.bi.events.boxSlideShow.MANAGE_SLIDES_ADD_NEW_SLIDE,m.call(this))},getMenuActionsOverrides:function(){return{toggleDefault:{enable:false},toggleEditValue:{enable:false},toggleEditLabel:{priority:3,label:c.translate("Regular_Slideshow_Slides_Rename")},duplicate:{priority:2,label:c.translate("Regular_Slideshow_Slides_Duplicate")},delete:{priority:1,label:c.translate("Regular_Slideshow_Slides_Delete"),enable:this.slides.length>1}}},render:g})});define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt",["react","lodash","baseUI","baseUILib","symbols","core"],function(a,b,c,d,e,f){"use strict";function g(){var e=this.props.slide;var f=this.getCurrentSlideData();var g=this.initialBgData;return a.createElement("div",{className:b(this.getItemClassNames(e)).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("label",{className:"item-label"},g?a.createElement(d.Checkbox,{key:"normal-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentSlide(),labelAfterSymbol:true}):null,g?a.createElement("span",{className:"slide-preview",key:"slide-preview",style:this.getBgImageUrl(this.state.checked?f:g)},this.getMediaType(this.state.checked?f:g)===this.mediaTypes.VIDEO?a.createElement("div",{key:"slide-preview-video-controls",className:"slide-preview-video-controls"},a.createElement(c.symbol,{name:"bgVideoIndicator"})):null):null,a.createElement("span",{className:"slide-name"},this.props.slideTitle)))}return function(){return g.apply(this,[])}});define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem",["react","core","lodash","util","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt"],function(a,b,c,d,e){"use strict";var f=d.imageTransform;var g=d.backgroundPanelUtils;var h=g.getMediaTypes();var i=50;var j=35;return a.createClass({mixins:[b.mixins.editorAPIMixin,a.addons.LinkedStateMixin],displayName:"slideShowBgApplyPanelItem",propTypes:{slide:a.PropTypes.object.isRequired,slideTitle:a.PropTypes.string.isRequired,itemBgData:a.PropTypes.object,isCurrentSlide:a.PropTypes.bool,currentSlideBgData:a.PropTypes.object,valueLink:a.PropTypes.object},mediaTypes:h,getInitialState:function(){this.origin=this.props.origin;this.initialBgData=this.props.itemBgData;return{checked:this.isCurrentSlide()}},isCurrentSlide:function(){return this.props.isCurrentSlide},componentWillReceiveProps:function(a){if(this.isValueChanged(a)){this.setState({checked:a.valueLink.value})}},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.slide,this.initialBgData)},handleToggleChanged:function(a){this.setState({checked:a},this.componentStateChanged)},shouldComponentUpdate:function(a,b){return!this.isCurrentSlide()&&(this.isCheckedStateChanged(b)||this.isValueChanged(a))},isValueChanged:function(a){return a.valueLink.value!==null&&this.props.valueLink.value!==a.valueLink.value},isCheckedStateChanged:function(a){return a.checked!==this.state.checked},getItemClassNames:function(){return{"slideShow-apply-panel-item":true,"current-slide":this.isCurrentSlide()}},getMediaType:function(a){return g.getMediaType(a)},getCurrentSlideData:function(){return this.props.currentSlideBgData},getBgStyleByBackgroundType:function(a){var b;var e;e=g.getColorValue(this.getEditorAPI(),a.color);b={backgroundColor:e};var k=this.getMediaType(a);if(k!==h.COLOR){var l=k===h.IMAGE?a.mediaRef:a.mediaRef.posterImageRef;var m=g.isSmallerFromContainer(l.width,l.height,i,j);var n=g.getImageDisplayData(m?f.fittingTypes.TILE:f.fittingTypes.SCALE_TO_FILL,a.alignType,l.uri,l.width,l.height,i,j);b.backgroundImage="url("+d.url.joinURL(g.MEDIA_URL_PREFIX,n.uri)+")";c.assign(b,n.css.container)}return b},getBgImageUrl:function(a){var b;switch(this.origin){case"strip":b=this.getBgStyleByBackgroundType(a);break;case"box":b=this.getBgStyleByBackgroundType(a);break}return b},render:e})});define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem","helpIds"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function j(c,d){return a.createElement("li",{key:"slide"+d},a.createElement(g,b.assign({},{valueLink:this.slidesStateChange(),ref:"slide"+d},this.getSlideProps(c))))}return function(){return a.createElement(f.frames.bgSubPanelFrame,i({helpId:h.EXTERNAL.BOX_SLIDE_SHOW_BG_APPLY,className:"slide-show-apply-panel",label:"Regular_Slideshow_Apply_Panel_Header_Title"},b.omit(this.props,"children")),a.createElement("div",{className:"slide-show-apply-panel-wrapper"},a.createElement("div",{className:"slide-show-apply-panel-description"},"\n            ",c.translate("Regular_Slideshow_Apply_Panel_Header_Description"),"\n        "),a.createElement("div",{className:"slide-show-apply-panel-all"},a.createElement(e.Checkbox,{label:"Regular_Slideshow_Apply_To_All",value:this.state.markAllSlidesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate,labelAfterSymbol:true})),a.createElement(e.CustomScroll,{},a.createElement("div",{className:"slide-show-apply-panel-scrollbox slide-show-settings-panel-scrollbox"},a.createElement.apply(this,["ul",{className:"slide-show-apply-panel-scrollbox-list"},b.map(this.allSlides,j.bind(this))])))))}});define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel",["react","core","lodash","boxSlideshow","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt"],function(a,b,c,d,e){"use strict";var f=d.utils.boxSlideShowUtils;function g(a,b,d,e){var f;c.forEach(b,function(b){if(b.checked){f=j(c.cloneDeep(a),b)}else{f=j(c.cloneDeep(b.originalSlideBgData),b)}switch(e){case"strip":h(f,b.slide,d);break;case"box":i(f,b.slide,d);break}})}function h(a,b,c){c.components.design.update(b,{background:a})}function i(a,b,c){c.components.design.update(b,{background:a})}function j(a,b){var c=b.originalSlideBgData;if(a.mediaRef&&c.mediaRef&&a.mediaRef.type===c.mediaRef.type){a.mediaRef.id=c.mediaRef.id;if(a.mediaRef.type==="WixVideo"){a.mediaRef.posterImageRef.id=c.mediaRef.posterImageRef.id;if(a.imageOverlay){a.imageOverlay.id=c.imageOverlay&&c.imageOverlay.id}}}else if(a.mediaRef){delete a.mediaRef.id;if(a.mediaRef.type==="WixVideo"){delete a.mediaRef.posterImageRef.id;if(a.imageOverlay){delete a.imageOverlay.id}}}else{a.mediaRef=null;a.colorOverlay="";a.imageOverlay=null}a.id=c.id;return a}return a.createClass({displayName:"slideShowBgApplyPanel",mixins:[b.mixins.editorAPIMixin],getAllSlides:function(){var a=this.getEditorAPI();return f.getAllSlides(a,a.selection.getSelectedComponents())},getInitialState:function(){var a=this.getEditorAPI();this.selectedItems=[];this.appliedSlides=[];this.origin=this.props.origin;this.currentSlide=f.findCurrentSlide(a,a.selection.getSelectedComponents());this.currentSlideBgData=this.getSlideBgData(this.currentSlide);this.allSlides=this.getAllSlides();this.itemsProps=this.getItemsProps();return{markAllSlidesDisplay:false,indeterminate:false}},getSlideBgData:function(a){var b=this.getEditorAPI();switch(this.origin){case"strip":return b.components.design.get(a).background;case"box":return b.components.design.get(a).background}},shouldComponentUpdate:function(a,b){return this.state.markAllSlidesDisplay!==b.markAllSlidesDisplay||this.state.indeterminate!==b.indeterminate||this.appliedSlides.length>0},handleSelectAllChange:function(a){c.forEach(this.itemsProps,c.bind(function(b){var d=b.slide;var e=d.id;if(e===this.currentSlide.id){return}if(a){if(!c.includes(this.selectedItems,e)){this.selectedItems.push(e);this.appliedSlides.push({checked:a,originalSlideBgData:b.itemBgData,slide:d})}}else if(c.includes(this.selectedItems,e)){c.pull(this.selectedItems,e);this.appliedSlides.push({checked:a,originalSlideBgData:b.itemBgData,slide:d})}},this));this.setState({markAllSlidesDisplay:a,indeterminate:false},this.updateSlides)},getItemsProps:function(){var a=[];var b=this.getEditorAPI();c.forEach(this.allSlides,c.bind(function(c){a.push({slide:c,slideTitle:b.components.data.get(c).title,currentSlideBgData:this.currentSlideBgData,itemBgData:this.getSlideBgData(c),isCurrentSlide:this.currentSlide.id===c.id})},this));return a},getSlideProps:function(a){var b=c.find(this.itemsProps,{slide:{id:a.id}});b.origin=this.origin;return b},updateSlides:function(){var a=this.getEditorAPI();g(this.currentSlideBgData,this.appliedSlides,a,this.origin);var d=c.assign({total_slides:this.getAllSlides().length,num_selected_slides:this.appliedSlides.length,all_slides_selected:this.state.markAllSlidesDisplay},a.components.getDefaultBiParams(a.selection.getSelectedComponents()));a.bi.event(b.bi.events.boxSlideShow.APPLY_ON_OTHER_SLIDES_SELECTED_SLIDES,d);this.appliedSlides=[]},slidesStateChange:function(){var a=null;if(this.allSlides.length===this.selectedItems.length+1){a=true}if(this.selectedItems.length===0){a=false}return{value:a,requestChange:function(a,b,d){var e=b.id;if(a&&!(e===this.currentSlide.id)){if(!c.includes(this.selectedItems,e)){this.selectedItems.push(e)}}else{c.pull(this.selectedItems,e)}this.appliedSlides.push({checked:a,originalSlideBgData:d,slide:b});var f=this.allSlides.length===this.selectedItems.length+1;var g=!f&&this.selectedItems.length>0;if(f!==this.state.markAllSlidesDisplay||g!==this.state.indeterminate){var h={markAllSlidesDisplay:f,indeterminate:g};this.setState(h,this.updateSlides)}else{this.updateSlides()}}.bind(this)}},render:e})});define("rEditor/rootComps/panels/panels",["rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel","rEditor/rootComps/panels/pagesAndPopupsPanel","rEditor/rootComps/panels/myMediaPanel","rEditor/rootComps/panels/backgroundPanel/backgroundPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel","rEditor/rootComps/panels/siteSettings/siteSettingsPanel","rEditor/rootComps/topBar/dropPanels/dropPanels","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel","rEditor/rootComps/panels/applyStylePanel/applyStylePanel","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";return{pagesAndPopupsPanel:b,myMediaPanel:c,backgroundPanel:d,bgImageSettingsPanel:e,bgVideoSettingsPanel:f,backgroundApplyPanel:g,siteSettingsPanel:h,topBar:{menuActionsPanel:i.menuActionsPanel,checkListPanel:i.checkListPanel,promotionPanel:i.promotionPanel},popup:{overlaySettingsPanel:a},editorVersionInfoPanel:j,applyStylePanel:k,boxSlideShowManageSlidesPanel:l,slideShowBgApplyPanel:m,slideShowBgApplyPanelItem:n}});define("rEditor/rootComps/mixins/rootCompsMixins",["rEditor/rootComps/mixins/hiddenableMixin","rEditor/rootComps/mixins/keepInViewportMixin"],function(a,b){"use strict";return{hiddenableMixin:a,keepInViewportMixin:b}});define("rEditor",["rEditor/rootComps/editorMain","rEditor/rootComps/editor","rEditor/rootComps/panels/panels","rEditor/app/EditorAPI","rEditor/rootComps/mixins/rootCompsMixins","rEditor/rootComps/gfpp/gfppModel"],function(a,b,c,d,e,f){"use strict";return{editorMain:a,editorComp:b,panels:c,EditorAPI:d,mixins:e,gfppModel:f}});