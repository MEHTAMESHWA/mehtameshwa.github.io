define("wixBookings/common/dataProvider",["core"],function(a){"use strict";var b="wixBookings";var c="13d21c63-b5ec-5912-8397-c3a5ddb27a97";var d=a.constants.SUPER_APPS.BOOKINGS_PANEL_NAME;var e="SiteApp_WixBookings_Button_Hover_Caption";var f="wix-bookings-panel";var g="leftBarWixBookingsPanel";function h(){return c}return{getAppDefID:h,superAppPanelName:d,superAppButtonLabel:e,superAppPanelClassName:f,superAppSymbolName:g,superAppId:b}});define("wixBookings/common/sitePrefsService",["lodash","jquery","bluebird"],function(a,b,c){"use strict";var d=["business","photography","design","events","beauty-wellness","other","all",null];function e(a){return a.payload.fields[0].value}function f(a){return c.resolve(b.get("http://editor.wix.com/_api/wix-bi-profile-server/siteprofile/"+a+"?fields=category&accept=json"))}function g(a){return f(a).then(h)}function h(a){return i(e(a))?c.resolve():c.reject()}function i(b){return a.includes(d,b)}return{ifPostRegRelevant:g}});define("wixBookings/common/bi/wixBookingsEvents",[],function(){"use strict";var a={TABS_CLICK:{evid:204,src:38,endpoint:"editor",fields:{app_id:"string",panel:"string"}},MANAGE_PANEL_BUTTON_CLICK:{evid:205,src:38,endpoint:"editor",fields:{app_id:"string",button_name:"string"}},LEARN_MORE_CLICK:{evid:209,src:38,endpoint:"editor",fields:{app_id:"string",category:"string"}}};var b=function(b){b.bi.register("components","event",a)};return{wixBookingsEvents:a,registerEvents:b}});define("wixBookings/common/bi/wixBookingsBi",["wixBookings/common/bi/wixBookingsEvents"],function(a){"use strict";return{events:a.wixBookingsEvents,registerEvents:a.registerEvents}});define("wixBookings/common/editorActionsService",["tpa","superAppMenuInfra","core","helpIds","wixBookings/common/dataProvider","wixBookings/common/sitePrefsService","wixBookings/common/bi/wixBookingsBi"],function(a,b,c,d,e,f,g){"use strict";var h="100%";var i="100%";var j=e.superAppId;var k=e.superAppPanelName;var l=e.superAppButtonLabel;var m=e.superAppButtonLabel;var n=e.superAppSymbolName;var o=e.superAppPanelClassName;var p;function q(a){p=a}function r(){return p.tpa.app.isInstalled(e.getAppDefID())}function s(){var a=!p.generalInfo.isFirstSave();var b=p.tpa.app.getDataByAppDefId(e.getAppDefID()).demoMode;return a&&p.tpa.app.isAppProvisionedOnServer(e.getAppDefID())&&!b}function t(){a.superApps.refreshAppCompsForAppDefId(e.getAppDefID())}function u(){var b=a.superApps;b.addApp(e.getAppDefID())}var v=function(a,b,c,d){x(e.getAppDefID(),a.data.widgetId,undefined,d)};var w=function(a,b){a.width=b.structure.layout.width;a.height=b.structure.layout.height;x(e.getAppDefID(),b.structure.data.widgetId,a,b.itemId)};function x(b,d,e,f){a.superApps.addWidget(b,d,e,{presetId:f});p.panelManager.closePanelByName(c.constants.SUPER_APPS.BOOKINGS_PANEL_NAME)}function y(){b.button.onAppInstalled(p,j,k,l,o,n)}function z(){b.button.registerButton(p,j,r(),k,l,m,o,n)}function A(){if(r()){z()}else{D().then(z)}}function B(){C();p.bi.event(g.events.MANAGE_PANEL_BUTTON_CLICK,{app_id:e.getAppDefID(),button_name:"manage"})}function C(b){b=b||{to:"dd"};b.onClose=t;var c={type:a.constants.BI.type.APP_MANAGE_BUTTON};return a.superApps.openDashboardUrl(e.getAppDefID(),h,i,b,c)}function D(){return f.ifPostRegRelevant(G())}function E(){var a=e.getAppDefID();var b=p.tpa.app.getFirstAppCompPageId(a);if(b){p.pages.navigateTo(b.pageId)}}function F(){var a={origin:c.constants.BI.HELP.ORIGIN.LEFTBAR,panel_name:k,learn_more:true};p.panelManager.openHelpCenter(d.WIX_BOOKINGS,null,a)}function G(){return p.generalInfo.getMetaSiteId()}function H(){b.button.unRegisterButton(p,k)}function I(){H()}return{init:q,isAppInstalled:r,isAppProvisioned:s,addAppToSite:u,onWidgetDrop:w,onWidgetClick:v,onAppInstalled:y,openBackOfficeInEditor:C,manageBookings:B,goToContainingPage:E,registerButtonIfRequired:A,openHelp:F,onAppDeleted:I}});define("wixBookings/appMenu/panels/firstTimeTour/promotionalFlow/promotionalStep1.rt",["react","lodash","superAppMenuInfra","wixBookings/common/dataProvider"],function(a,b,c,d){"use strict";return function(){return a.createElement(c.firstTimeTourPanels.installAppSlide,b.assign({},{installApp:this.installApp,origin:"promotionalPanel",appWasManuallyInstalled:this.props.appWasManuallyInstalled,superAppPanelName:d.superAppPanelName,superAppButtonLabel:d.superAppButtonLabel,superAppPanelClassName:d.superAppPanelClassName,superAppSymbolName:d.superAppSymbolName,title:"SiteApp_WixBookings_PromotionalFTUE_Step1_Title",subTitle:"SiteApp_WixBookings_PromotionalFTUE_Step1_SubTitle",pros:["SiteApp_WixBookings_PromotionalFTUE_Step1_Bullet1","SiteApp_WixBookings_PromotionalFTUE_Step1_Bullet2","SiteApp_WixBookings_PromotionalFTUE_Step1_Bullet3"],nextButtonLabel:"SiteApp_WixBookings_PromotionalFTUE_Step1_NextButton_Caption",openAppMarketLabel:"SiteApp_Blog_PromotionalFTUE_Step1_SeeInAppMarket_LinkCaption",openAppMarket:this.openHelp,loadingLabel:"SiteApp_WixBookings_PromotionalFTUE_Step2_Loader_Caption",sliderImages:this.getSliderImages(),installImage:"bookingsInstallBtnPromotional"},this.filteredProps()))}});define("wixBookings/appMenu/panels/firstTimeTour/promotionalFlow/promotionalStep1",["react","core","util","wixBookings/common/editorActionsService","wixBookings/appMenu/panels/firstTimeTour/promotionalFlow/promotionalStep1.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"promotionalStep1Bookings",mixins:[b.mixins.editorAPIMixin,c.propTypesFilterMixin],installApp:function(a){d.addAppToSite();a()},openHelp:function(){d.openHelp()},getSliderImages:function(){return[c.media.getMediaUrl("wixBookings/appMenuPanel/gallery/bookingsGallery01.png"),c.media.getMediaUrl("wixBookings/appMenuPanel/gallery/bookingsGallery02.png"),c.media.getMediaUrl("wixBookings/appMenuPanel/gallery/bookingsGallery03.png")]},render:e})});define("wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep1.rt",["react","lodash","superAppMenuInfra"],function(a,b,c){"use strict";return function(){return a.createElement(c.firstTimeTourPanels.getStartedSlide,b.assign({},{nextSlide:this.openBackOffice,superApp:this.props.superApp,appWasManuallyInstalled:this.props.appWasManuallyInstalled,title:"SiteApp_WixBookings_TemplateFTUE_Step1_Title",subTitle:"SiteApp_WixBookings_TemplateFTUE_Step1_SubTitle",pros:[],nextButtonLabel:"SiteApp_WixBookings_TemplateFTUE_Step1_NextButton_Caption",mainImage:"bookingsManager"},this.filteredProps()))}});define("wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep1",["react","lodash","util","wixBookings/common/editorActionsService","experiment","wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep1.rt"],function(a,b,c,d,e,f){"use strict";return a.createClass({propTypes:{nextSlide:a.PropTypes.func},displayName:"templateStep1Bookings",mixins:[c.propTypesFilterMixin],componentDidMount:function(){if(!d.isAppProvisioned()){d.goToContainingPage()}else{this.props.nextSlide()}},openBackOffice:function(){d.openBackOfficeInEditor();if(e.isOpen("se_wixBooking_v2")){this.props.nextSlide()}},render:f})});define("wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep2.rt",["react","lodash","superAppMenuInfra"],function(a,b,c){"use strict";return function(){return a.createElement(c.firstTimeTourPanels.welcomeSlide,b.assign({},{nextSlide:this.openBackOffice,superApp:this.props.superApp,appWasManuallyInstalled:this.props.appWasManuallyInstalled,title:"SiteApp_WixBookings_TemplateFTUE_Step2_Logo",details:"SiteApp_WixBookings_TemplateFTUE_Step2_Title",pros:[],nextButtonLabel:"SiteApp_WixBookings_TemplateFTUE_Step2_NextButton_Caption",installedImage:"bookingsManager",type:"template"},this.filteredProps()))}});define("wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep2",["react","lodash","util","wixBookings/common/editorActionsService","wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep2.rt"],function(a,b,c,d,e){"use strict";return a.createClass({propTypes:{nextSlide:a.PropTypes.func},displayName:"templateStep2Bookings",mixins:[c.propTypesFilterMixin],openBackOffice:function(){d.openBackOfficeInEditor()},render:e})});define("wixBookings/appMenu/panels/manageBookings/manageBookingsPanel.rt",["react","lodash","superAppMenuInfra","util","baseUI","baseUILib"],function(a,b,c,d,e,f){"use strict";function g(){this.openBookingsManager()}return function(){return a.createElement("div",{className:"wix-bookings-manage-panel"},a.createElement(f.CustomScroll,{heightRelativeToParent:"100%"},a.createElement("div",{className:"manage-bookings"}),a.createElement("p",{className:"manage-panel-description"},d.translate("SiteApp_WixBookings_Manage_Instructor")),a.createElement("div",{className:"buttons-container"},a.createElement("div",{},a.createElement(e.button,{className:"btn-confirm-primary manage-btn",label:"SiteApp_WixBookings_Manage_OpenBackOffice",onClick:g.bind(this)})))))}});define("wixBookings/appMenu/panels/manageBookings/manageBookingsPanel",["react","lodash","util","wixBookings/common/editorActionsService","wixBookings/appMenu/panels/manageBookings/manageBookingsPanel.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"manageBookingsPanel",mixins:[c.propTypesFilterMixin],render:e,openBookingsManager:function(){d.manageBookings()}})});define("wixBookings/addPanel/serviceWidget",["wixBookings/common/editorActionsService","addPanelData"],function(a,b){"use strict";var c=b.addPanelDataConsts;return{type:c.SECTIONS_TYPES.PRESET,hide:false,title:"SiteApp_WixBookings_AddElement_Service",showSectionHeader:true,additionalBehaviours:{labelMode:c.LABEL_BEHAVIOUR.ALWAYS,infoIcon:c.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:c.HOVER_IMAGE_ACTIONS.NONE,scaleProportion:c.DEFAULT_SCALE_FOR_PRESET,iconEnabledForComps:[]},props:{image:"wixBookings/addPanel/service_widget.png",imageHover:null,onDrop:a.onWidgetDrop,onClick:a.onWidgetClick,items:[{id:"Wix_Bookings_Service_Widget1",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:850,height:360,scale:1,rotationInDegrees:0,fixedPosition:false},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:false,schemaVersion:"1.0",isHidden:false},applicationId:"2269",tpaData:{type:"TPAData",metaData:{isPreset:false,schemaVersion:"1.0",isHidden:false},content:'"{"buttonStyle":"border"}"'},widgetId:"14756c3d-f10a-45fc-4df1-808f22aabe80"},style:{type:"TopLevelStyle",metaData:{isPreset:false,schemaVersion:"1.0",isHidden:false},style:{properties:{},propertiesSource:{},groups:{}},componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{layout:{width:280,height:583,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:false},isCustomPreset:true}},preset:{rect:{width:324,height:164,x:0,y:0},label:"",tags:null}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:false,text:"SiteApp_WixBookings_AddElement_Info"}}});define("wixBookings/addPanel/wixBookingsAddPanelSections",["wixBookings/addPanel/serviceWidget"],function(a){"use strict";return function(){return[a]}});define("wixBookings/appMenu/superApp",["util","wixBookings/common/dataProvider","wixBookings/common/editorActionsService","wixBookings/appMenu/panels/firstTimeTour/promotionalFlow/promotionalStep1","wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep1","wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep2","wixBookings/appMenu/panels/manageBookings/manageBookingsPanel","wixBookings/addPanel/wixBookingsAddPanelSections","addPanelData","experiment"],function(a,b,c,d,e,f,g,h,i,j){"use strict";return{id:b.superAppId,appDefId:b.getAppDefID(),appName:"WixBookings",firstTimeTour:{templateFlow:j.isOpen("se_wixBooking_v2")?[e]:[e,f],manuallyInstalledFlow:j.isOpen("se_wixBooking_v2")?[e]:[e,f],promotionalFlow:[d]},panel:{name:"wixBookings.panels.bookingsPanel",manage:{title:"SiteApp_WixBookings_Menu_ManageBookings",helpId:"bf44fdcd-7f35-41a2-a04a-93a0a821e55d",template:g},pages:{isHidden:true},addElements:{title:"SiteApp_WixBookings_AddElement_Title",helpId:"fb8a363d-c55d-4a8e-bd0b-cb7d5bcb85d5",sections:h,categoryId:i.categoriesConstIds.BOOKINGS},learnMore:{title:"SiteApp_WixBookings_Learn_Title",section2HeaderViewA:"SiteApp_WixBookings_Learn_Forum",section3HeaderViewA:"SiteApp_WixBookings_Learn_Blog",data:{viewA:{helpCenterPopUp:{isHidden:true},supportForumsPopUp:{link:"https://www.wix.com/support/html5/wix-bookings/setting-up-wix-bookings",image:a.media.getMediaUrl("superAppMenuInfra/ViewTheBlogHelpCenter.png")},wixTipsBlog:{link:"http://www.wix.com/blog/",image:a.media.getMediaUrl("superAppMenuInfra/OpenTheBlogSupportForum.png")}}}}},isAppInstalled:c.isAppInstalled}});define("wixBookings/appMenu/bookingsPanel.rt",["react","lodash","superAppMenuInfra","wixBookings/common/dataProvider","wixBookings/appMenu/superApp"],function(a,b,c,d,e){"use strict";return function(){return a.createElement(c.superAppPanel,b.assign({},{superApp:e,selectedTabName:this.props.selectedTabName,panelClass:d.superAppPanelClassName},this.filteredProps()))}});define("wixBookings/appMenu/bookingsPanel",["react","lodash","util","wixBookings/appMenu/bookingsPanel.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"BookingsPanel",mixins:[c.propTypesFilterMixin],render:d})});define("wixBookings",["tpa","wixBookings/appMenu/bookingsPanel","wixBookings/common/dataProvider","wixBookings/common/editorActionsService","experiment","wixBookings/common/bi/wixBookingsEvents"],function(a,b,c,d,e,f){"use strict";function g(b){if(e.isOpen("wixBookingsButton")){d.init(b);d.registerButtonIfRequired();f.registerEvents(b);a.superApps.registerOnAppInstalled(c.getAppDefID(),d.onAppInstalled);a.superApps.registerOnAppDeleted(c.getAppDefID(),d.onAppDeleted)}}return{onPreviewReady:g,panels:{bookingsPanel:b}}});