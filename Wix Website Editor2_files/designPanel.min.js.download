define("designPanel/core/designPanelMixin",["react","lodash","core","designPanelUtils","experiment"],function(a,b,c,d,e){"use strict";function f(a){return a.switchPanelFunc||a.setStyleFunc}return{mixins:[d.mixins.styleIdMixin,d.mixins.panelPositionMixin],propTypes:{compType:a.PropTypes.string.isRequired},getInitialState:function(){return this.getResetState(this.props)},getResetState:function(a){var c={advancedStyling:false,currentAdvancedStyleId:"",isStyleChanged:false};if(this.getStateFromProps){b.assign(c,this.getStateFromProps(a))}return c},componentWillMount:function(){if(e.isOpen("animateChangeStyleButton")){this.customizeDesignClicked=false}if(this.props.onlyAdvancedStyling){this.openCustomizeDesign()}},componentWillReceiveProps:function(a){if(!b.isEqual(a.selectedComponent,this.props.selectedComponent)){if(e.isOpen("animateChangeStyleButton")){this.customizeDesignClicked=false}this.setState(this.getResetState(a))}this.syncStyleIds()},syncStyleIds:function(){var a=this.getComponentStyleId();if(this.state.currentAdvancedStyleId&&a!==this.state.currentAdvancedStyleId){this.setState({currentAdvancedStyleId:a})}},getPropsForDesignPanel:function(){var a=b.assign({},this.props,{changePermanentState:this.changePermanentState,changeTempState:this.changeTempState,maintainOriginalState:this.maintainOriginalState,isSelectedItem:this.isSelectedItem,hideComponentSections:this.state.advancedStyling,shouldHideContentOverflow:this.state.advancedStyling});if(this.state.advancedStyling&&!this.props.onlyAdvancedStyling){a.onBackClick=this.customizeDesignCallBack}return a},openCustomizeDesign:function(){var a;var g={};if(this.state.currentAdvancedStyleId){a=this.state.currentAdvancedStyleId}else{a=this.createCurrentAdvancedStyleId();b.assign(g,{currentAdvancedStyleId:a})}g.currentStyleId=a;var h=this.getEditorAPI();var i=h.viewMode.get()===h.viewMode.VIEW_MODES.MOBILE;if((e.isOpen("fastStyling")||i)&&d.customizeDesignComponents.isFastStylingEnabled(this.props.compType)&&!f(this.props)){var j={backButtonLabel:"design_panel_back_button_label",onBackClick:b.noop,styleId:a};h.replaceComponentPanel(c.constants.componentPanels.customizeDesign,j)}else{g.advancedStyling=true;if(e.isOpen("animateChangeStyleButton")){this.customizeDesignClicked=true}}this.setState(g);this.setComponentStyleId(a);this.reportCustomizeDesignClickedToBI()},reportCustomizeDesignClickedToBI:function(){var a=this.getEditorAPI();a.bi.event(c.bi.events.designPanel.DESIGN_PANEL_CUSTOMIZE_BUTTON_CLICK,{was_preset_clicked_current_session:this.state.isStyleChanged,component_type:this.getCompTypeForBI(this.props.compType),component_id:b.head(this.props.selectedComponent).id,chosen_style_id:this.state.currentStyleId})},customizeDesignCallBack:function(){this.setState({advancedStyling:false});var a=this.getEditorAPI();a.bi.event(c.bi.events.ADVANCED_STYLE_PANEL.BACK_BUTTON_CLICK,{component_type:this.getCompTypeForBI(this.props.compType)})},getAdvancedStylingProps:function(){var a={selectedSkin:this.props.selectedSkin,selectedComponent:this.props.selectedComponent,styleId:this.state.currentAdvancedStyleId,compType:this.props.compType};if(b.has(this.props,"shouldStartClosed")){a.shouldStartClosed=this.props.shouldStartClosed}return a}}});define("designPanel/core/designPanel.rt",["react","lodash","compPanels","addPanelInfra"],function(a,b,c,d){"use strict";function e(c,e,f){return a.createElement(d.baseGenerator,b.assign({},{ref:this.getSectionRef(e,f),key:this.getSectionRef(e,f)},this.getSectionProps(e,f,c)))}function f(){var c=this.getSections();return a.createElement.apply(this,["div",{onMouseLeave:this.onPanelMouseLeave,className:b(this.getSectionsClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"designPanelSections"},b.map(c,e.bind(this,c))])}return function(){return a.createElement(c.compPanelFrame,b.assign({},{id:"designPanel",title:this.getTitle(),shouldHideContentOverflow:this.props.shouldHideContentOverflow,helpId:this.getHelpId()},this.getFrameProps()),!this.props.hideComponentSections?f.apply(this,[]):null,a.createElement("div",{},this.props.children))}});define("designPanel/core/designPanel",["react","lodash","addPanelData","addPanelInfra","core","compPanels","designPanelUtils","designPanel/core/designPanel.rt","helpIds"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){if(!b.isUndefined(a.title)){if(!b.isUndefined(a.getTitle)){return new Error("Cannot provide both title and getTitle")}if(!b.isString(a.title)){return new Error("Warning: Invalid prop 'title', expected a string.")}}}function k(a){return b(a).map("type").uniq().isEqual([c.addPanelDataConsts.SECTIONS_TYPES.PRESET])}return a.createClass({displayName:"designPanel",mixins:[e.mixins.editorAPIMixin,f.compPanelFrameMixin,d.addPanelHoverMixin],render:h,propTypes:{selectedComponent:a.PropTypes.array.isRequired,compType:a.PropTypes.string.isRequired,changePermanentState:a.PropTypes.func.isRequired,changeTempState:a.PropTypes.func.isRequired,maintainOriginalState:a.PropTypes.func.isRequired,hideComponentSections:a.PropTypes.bool,getTitle:a.PropTypes.func,title:j,getSections:a.PropTypes.func,getAdditionalElementProps:a.PropTypes.func},getInitialState:function(){return{selectedItemKey:null}},componentWillReceiveProps:function(a){var b=this.getEditorAPI().components.style.getId(this.props.selectedComponent);if(this.styleId!==b){this.styleId=b}if(a.hideComponentSections!==this.props.hideComponentSections){this.setState({selectedItemKey:null})}},getTitle:function(){if(this.props.getTitle){return this.props.getTitle()}if(this.props.title){return this.props.title}return c.getDesignPanelTitleByComp(this.props.compType,this.props.selectedComponent,this.getEditorAPI())},getHelpId:function(){if(this.props.helpId){return this.props.helpId}return i.UTILS.getDesignHelpId(this.props.compType)},getSections:function(){if(this.props.getSections){return this.props.getSections()}return c.getSectionsByComponentType(this.props.compType,this.props.selectedComponent,this.getEditorAPI())},onClick:function(a,b,c,d){this.props.changePermanentState(a,d);this.setState({selectedItemKey:d});this.getEditorAPI().history.add("clicked on new item in design panel");this.reportToBI(a,b,c,d)},reportToBI:function(a,c,d,f){var h=this.getEditorAPI();var i=g.changeStyleHelper.getCompDefStyleId(a,h);var j=i?h.theme.styles.get(i):"";h.bi.event(e.bi.events.designPanel.DESIGN_PANEL_SELECT_PRESET_CLICK,{style_id:i,preset_id:f,component_type:this.props.compType,component_id:b.head(this.props.selectedComponent).id,preset_data_skin:j&&j.skin,preset_data_tags:d,section:c})},onMouseEnter:function(a,b){this.enter(null,a,b,this.props.changeTempState)},onItemMouseLeave:function(a){this.leave(null,a)},onPanelMouseLeave:function(){if(!this.props.hideComponentSections){this.props.maintainOriginalState()}},getSectionRef:function(a,b){return a.type+b},getSectionsClasses:function(){return{sections:true,"panel-has-children":!!this.props.children&&!b.isEmpty(b.compact(this.props.children))}},getSectionProps:function(a,d,e){var f=b.isFunction(this.props.isSelectedItem)&&k(e);return b.assign(a,{id:this.getSectionRef(a,d),additionalScaling:c.addPanelDataConsts.DESIGN_PANEL_SCALE,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onItemMouseLeave,isSelectedItem:this.props.isSelectedItem,selectedItemKey:this.state.selectedItemKey?[this.state.selectedItemKey]:null,parentType:c.addPanelDataConsts.PANEL_TYPES.DESIGN_PANEL,nextSibling:e[d+1],sectionIndex:d,getAdditionalElementProps:this.props.getAdditionalElementProps,getAdditionalItemProps:function(a){var c=this.props.getAdditionalElementProps&&this.props.getAdditionalElementProps(a.structure)||{};var d=this.state.selectedItemKey&&this.state.selectedItemKey===a.id;var e=f&&this.props.isSelectedItem(a.structure);if(d||e){var g=c.className?c.className+" ":"";c=b.assign(c,{className:g+"design-panel-selected-item",symbolName:"selectedItemDesignPanel"})}return c}.bind(this)})}})});define("designPanel/panelTypes/changeStyleDesignPanel.rt",["react","lodash","designPanel/core/designPanel","baseUI","util"],function(a,b,c,d,e){"use strict";function f(){var b=this.getAdvancedStylePanelClass();return a.createElement("div",{key:"advancedStylePanel"},a.createElement(b,this.getAdvancedStylingProps()))}return function(){return a.createElement(c,b.assign({},{ref:"designPanel"},this.getPanelProps()),this.shouldLinkToAdvancedStyling()?a.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},a.createElement(d.button,{ref:"customizeDesign",className:"button",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"customize_design_drop_light"})):null,this.state.advancedStyling?f.apply(this,[]):null)}});define("designPanel/panelTypes/changeStyleDesignPanel",["reactDOM","react","lodash","jquery","core","advancedStylePanel","designPanel/core/designPanelMixin","designPanelUtils","designPanel/panelTypes/changeStyleDesignPanel.rt","experiment"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=["wysiwyg.viewer.skins.page.TransparentPageSkin","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen","wysiwyg.viewer.skins.area.TransparentArea"];var l=["wysiwyg.viewer.skins.photo.NoSkinPhoto","wysiwyg.viewer.skins.VideoSkin"];var m={"wysiwyg.viewer.components.svgshape.SvgShape":f.svgShape,"wysiwyg.viewer.components.BoxSlideShowSlide":f.boxSlideShowSlide};function n(a,b){return c.pick(a.components.layout.get(b),["x","y","width","height"])}function o(a,b){return b.currentStyleId||a.components.style.getId(b.selectedComponent)}return b.createClass({displayName:"changeStyleDesignPanel",mixins:[g,e.mixins.editorAPIMixin],render:i,propTypes:{selectedComponent:b.PropTypes.oneOfType([b.PropTypes.object.isRequired,b.PropTypes.array.isRequired]),compType:b.PropTypes.string.isRequired,setStyleFunc:b.PropTypes.func,currentStyleId:b.PropTypes.string,shouldMaintainOriginalLayout:b.PropTypes.bool},getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},getStateFromProps:function(a){var b=this.getEditorAPI();var c=o(b,a);var d=e.styleManager.getStyleById(b.theme,b.components,c);return{currentStyleId:c,layoutToMaintain:a.shouldMaintainOriginalLayout&&n(b,a.selectedComponent),tempStyleId:e.styleManager.getTempStyleId(b.theme,d)}},componentWillReceiveProps:function(a){var b=this.getEditorAPI();var d=c.isEqual(a.selectedComponent,this.props.selectedComponent);if(d&&this.state.layoutToMaintain){var e=n(b,a.selectedComponent);var f=!c.isEqual(this.state.layoutToMaintain,e);var g=!c.isEqual(o(b,a),this.state.currentStyleId);if(f&&!g){this.setState({layoutToMaintain:e})}}},changePermanentState:function(b){var c=this.getEditorAPI();var e=h.changeStyleHelper.getCompDefStyleId(b,c);if(e){this.setComponentStyleId(e);var f={currentStyleId:e,currentAdvancedStyleId:"",isStyleChanged:true,propertiesToMaintain:b.props};if(j.isOpen("animateChangeStyleButton")){var g=d(a.findDOMNode(this.refs.customizeDesign));g.removeClass("animate-button");this.setState(f,function(){g.addClass("animate-button")})}else{this.setState(f)}}},changeTempState:function(a){var b=this.getEditorAPI();var c=h.changeStyleHelper.getCompDefStyle(a,b);e.styleManager.prepareTempStyleValue(c);if(c&&this.state.tempStyleId){if(this.props.setStyleFunc){b.theme.styles.update(this.state.tempStyleId,c,true);this.props.setStyleFunc(this.state.tempStyleId,true)}else{b.components.layout.update(this.props.selectedComponent,this.state.layoutToMaintain,true);this.setComponentStyleId(this.state.tempStyleId);b.components.style.update(this.props.selectedComponent,c)}}},maintainOriginalState:function(){if(this.state.currentStyleId){var a=this.getEditorAPI();this.setComponentStyleId(this.state.currentStyleId);if(!this.props.setStyleFunc){a.components.layout.update(this.props.selectedComponent,this.state.layoutToMaintain,true)}}},isSelectedItem:function(a){return h.changeStyleHelper.isCompDefStyleEqualToStyle(a,this.state.currentStyleId,this.props.compType,this.getEditorAPI())},getPanelProps:function(){var a=this.getEditorAPI();return c.assign(this.getPropsForDesignPanel(),{getAdditionalElementProps:function(b){var d=h.changeStyleHelper.getCompDefStyle(b,a);var e={};if(c.includes(k,d.skin)){e.text="DESIGN_LABEL_NO_COLOR";e.className="design-panel-transparent-skin-item"}else if(c.includes(l,d.skin)){e.text="Design_Label_No_Frame";e.className="design-panel-no-frame-skin-item"}return e}})},getAdvancedStylePanelClass:function(){if(m[this.props.compType]){return m[this.props.compType]}return f.panel},shouldLinkToAdvancedStyling:function(){return!this.state.advancedStyling}})});define("designPanel/panelTypes/changeDataDesignPanel.rt",["react","lodash","designPanel/core/designPanel"],function(a,b,c){"use strict";return function(){return a.createElement(c,b.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()))}});define("designPanel/panelTypes/changeDataDesignPanel",["react","lodash","core","designPanel/core/designPanelMixin","designPanel/panelTypes/changeDataDesignPanel.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"changeDataDesignPanel",mixins:[d,c.mixins.editorAPIMixin],render:e,getStateFromProps:function(a){return{currentDataItem:this.getEditorAPI().components.data.get(a.selectedComponent)}},changePermanentState:function(a){if(a.data){this.getEditorAPI().components.data.update(this.props.selectedComponent,a.data);this.setState({currentDataItem:a.data})}},changeTempState:function(a){if(a.data){this.getEditorAPI().components.data.update(this.props.selectedComponent,a.data)}},maintainOriginalState:function(){if(this.state.currentDataItem){this.getEditorAPI().components.data.update(this.props.selectedComponent,this.state.currentDataItem)}},isSelectedItem:function(a){return a.data===this.state.currentDataItem}})});define("designPanel/panelTypes/changeGalleryDesignPanel.rt",["react","lodash","designPanel/core/designPanel","baseUI","util","advancedStylePanel","compPanels"],function(a,b,c,d,e,f,g){"use strict";function h(){var e=this.getAdvancedStyleClass();return a.createElement(c,b.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()),!this.state.advancedStyling&&!!e?a.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},a.createElement(d.button,{className:"button",ref:"customizeDesign",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"customize_design_drop_light"})):null,this.state.advancedStyling&&!!e?a.createElement("div",{key:"advancedStylePanel"},a.createElement(e,this.getAdvancedStylingProps())):null)}return function(){return h.apply(this,[])}});define("designPanel/panelTypes/changeGalleryDesignPanel",["reactDOM","react","lodash","jquery","core","designPanelUtils","advancedStylePanel","designPanel/core/designPanelMixin","designPanel/panelTypes/changeGalleryDesignPanel.rt","experiment","util"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=["wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.PaginatedGridGallery"];function m(a,b,d,e,g,h,i){var j={componentType:d.componentType,type:"Component",style:h,layout:i,data:e,props:g,connections:c.get(a.components.serialize(b),"connections")};if(j.connections&&!c.includes(l,j.componentType)){j.connections.items=c.filter(j.connections.items,{type:"WixCodeConnectionItem"})}return c.assign(j,{layout:f.changeGalleryHelper.convertGalleryLayouts(a,b,j)})}function n(a,b,c,d,e,g,h){var i=a[0];var j=f.changeGalleryHelper.convertGalleryProperties(c,b.props,h);var k=m(h,i,b,d,j,e,g);var l=h.components.getContainer(i);h.components.remove(i,{isReplacingComp:true});h.components.add(l,k,i.id)}return b.createClass({displayName:"changeGalleryDesignPanel",mixins:[h,e.mixins.editorAPIMixin],render:i,getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},getStateFromProps:function(a){var b=this.getEditorAPI();var d=c.omit(b.components.layout.get(a.selectedComponent),"anchors");return{propertyItemToMaintain:b.components.properties.get(a.selectedComponent),dataItemToMaintain:b.components.data.get(a.selectedComponent),layoutToMaintain:d,currentStyleId:b.components.style.getId(a.selectedComponent)}},componentWillReceiveProps:function(a){var b=this.getEditorAPI();var c=b.components.style.getId(a.selectedComponent);var d=this.state.currentStyleId;var e=c!==d;this.setState({currentStyleId:c,currentAdvancedStyleId:e?"":this.state.currentAdvancedStyleId,isStyleChanged:e})},changePermanentState:function(b){if(this.pendingGalleryChange){return}this.pendingGalleryChange=true;var c=this.getEditorAPI();var e=f.changeStyleHelper.getCompDefStyleId(b,c);n(this.props.selectedComponent,b,this.state.propertyItemToMaintain,this.state.dataItemToMaintain,e,this.state.layoutToMaintain,c);c.waitForChangesApplied(function(){this.pendingGalleryChange=false;if(j.isOpen("animateChangeStyleButton")){var b=d(a.findDOMNode(this.refs.customizeDesign));b.removeClass("animate-button");k.animationFrameUtils.request(b.addClass.bind(b,"animate-button"))}}.bind(this))},changeTempState:function(){},maintainOriginalState:function(){},isSelectedItem:function(a){var b=this.getEditorAPI();var c=a.compType||a.componentType;if(c===this.props.compType){return f.changeStyleHelper.isCompDefStyleEqualToStyle(a,this.state.currentStyleId,this.props.compType,b)}return false},getAdvancedStyleClass:function(){if(!f.customizeDesignComponents.isGalleryCustomizable(this.props.compType)){return null}if(f.customizeDesignComponents.isTPAGalleryAdvancedStyle(this.props.compType)){return g.tpaGallery}return g.panel}})});define("designPanel/wixapps/appPartInnerCompExcluders/paginationInnerCompExcluder",["lodash"],function(a){"use strict";return{shouldExclude:function(b,c,d){return a.includes(["pager","pagination"],d.id)&&!b.wixapps.classics.blogFeedOrCustomFeedHasPagination(c)}}});define("designPanel/wixapps/appPartInnerCompExcluder",["designPanel/wixapps/appPartInnerCompExcluders/paginationInnerCompExcluder","lodash"],function(a,b){"use strict";return{shouldExclude:function(c,d,e){return b.some([a],b.method("shouldExclude",c,d,e))}}});define("designPanel/wixapps/wixappsDesignSubComponentsPanel.rt",["react","lodash","baseUILib","baseUI","core","compPanels","util"],function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){this.updateCompValue(a.customization,String(c))}function i(b,e){return a.createElement("div",{},b.customization||b.styleCustomizationRules.length?a.createElement("div",{key:b.label},a.createElement(d.checkboxWithButton,{label:b.label,shouldTranslate:true,className:"design-customization-checkbox",buttonLabel:"blog_design_panel_customize_design",value:b.customization?this.isChecked(b.customization):true,onChange:h.bind(this,b,e),onButtonClick:this.openCustomizeDesign.bind(this,b),isCheckboxDisabled:!b.customization,isButtonDisabled:!b.styleCustomizationRules.length}),e!==this.getComps().length-1?a.createElement(c.Divider,{key:"divider-long",long:true}):null):null)}return function(){return a.createElement.apply(this,[f.compPanelFrame,b.assign({},{title:this.getSelectedAppPartDisplayName()+"_design",helpId:this.getComponentHelpIdByType("design")},this.getFrameProps()),b.map(this.getComps(),i.bind(this))])}});define("designPanel/wixapps/wixappsFontCustomizationPanel.rt",["react","lodash","baseUILib","baseUI","textControls","compPanels","helpIds","experiment"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function j(a,b,c){this.setFontFamily(c)}function k(b){var c=this.getEditorAPI();return a.createElement(e.fontFamily,{fonts:e.fontUtils.getCurrentSelectableFontsWithParams(c),infoText:"text_editor_font_tooltip",label:"text_editor_font_label",onChange:j.bind(this,b,c),value:this.getFontFamily()})}function l(a,b){this.setFontSize(b)}function m(a,b,c){this.setBold(!c)}function n(b,c){var d=this.isBold();return a.createElement(e.iconButton,{isSelected:d,name:"textBold",tooltipValue:"text_editor_buttons_tooltip_bold",tooltipStyleType:c,onClick:m.bind(this,b,c,d)})}function o(a,b,c){this.setItalic(!c)}function p(b,c){var d=this.isItalic();return a.createElement(e.iconButton,{isSelected:d,name:"textItalic",tooltipValue:"text_editor_buttons_tooltip_italic",tooltipStyleType:c,onClick:o.bind(this,b,c,d)})}function q(a,b,c){this.setUnderlined(!c)}function r(b,c){var d=this.isUnderlined();return a.createElement(e.iconButton,{isSelected:d,name:"textUnderline",tooltipValue:"text_editor_buttons_tooltip_underline",tooltipStyleType:c,onClick:q.bind(this,b,c,d)})}function s(a,b,c){this.openTextColorPicker(this.setColor,c)}function t(b,c){var d=this.resolveColor(this.getColor());return a.createElement(e.textColor,{onClick:s.bind(this,b,c,d),tooltipValue:"text_editor_buttons_tooltip_text_color",tooltipStyleType:c,value:d})}function u(a,b,c){this.openTextColorPicker(this.setBackgroundColor,"noColor")}function v(b,c){var d=this.resolveColor(this.getBackgroundColor());return a.createElement(e.textBackgroundColor,{onClick:u.bind(this,b,c,d),tooltipValue:"text_editor_buttons_tooltip_text_highlight",tooltipStyleType:c,handleNoColor:this.handleNoColor,color:d!=="transparent"?d:null})}function w(b){var c=d.uiConstants.TOOLTIP.STYLE_TYPE.SMALL;return a.createElement("div",{className:"button-row"},n.apply(this,[b,c]),p.apply(this,[b,c]),r.apply(this,[b,c]),t.apply(this,[b,c]),v.apply(this,[b,c]))}function x(a,b){this.setLineHeight(b)}function y(){var b=h.isOpen("blogLineSpacing");return a.createElement(f.compPanelFrame,i({className:"settings-panel",panelName:"wixappsFontCustomizationPanel",title:this.props.title,helpId:g.SETTINGS.WRICHTEXT},this.filteredProps()),this.props.customizeTheme?a.createElement(e.textStyle,{key:"textStyleCustomization",label:"text_editor_theme_label",infoText:"text_editor_tooltip_theme",value:this.getTheme(),onChange:this.setTheme,themeColors:this.getEditorAPI().theme.colors.getAll(),themeFonts:this.getEditorAPI().theme.fonts.getAll(),isDeveloperMode:this.getEditorAPI().developerMode.isEnabled()}):null,this.props.customizeTheme?a.createElement(c.Divider,{long:true,key:"textStyleCustomizationSeparator"}):null,k.apply(this,[b]),a.createElement(c.Divider,{long:true}),this.props.customizeTheme?a.createElement(d.slider,{key:"fontSizeCustomization",label:"text_editor_font_size_label",infoText:"text_editor_font_size_tooltip",value:this.getFontSize(),onChange:l.bind(this,b),min:e.constants.FONT_SIZE.MIN,max:e.constants.FONT_SIZE.MAX}):null,this.props.customizeTheme?a.createElement(c.Divider,{long:true,key:"fontSizeCustomizationSeparator"}):null,w.apply(this,[b]),b?a.createElement(c.Divider,{long:true,key:"blogLineSpacingExpDivider"}):null,b?a.createElement(d.accordion,{key:"blogLineSpacingExpComp",label:"text_editor_spacing_label"},a.createElement(e.lineHeight,{infoText:"text_editor_line_spacing_tooltip",value:this.getLineHeightValue(),onChange:x.bind(this,b),onSlideEnd:this.focus})):null)}return function(){return y.apply(this,[])}});define("designPanel/wixapps/wixappsFontCustomizationPanel",["lodash","react","core","compPanels","util","panelUtils","textControls","designPanel/wixapps/wixappsFontCustomizationPanel.rt"],function(a,b,c,d,e,f,g,h){"use strict";return b.createClass({displayName:"wixappsFontCustomizationPanel",mixins:[c.editorAPIMixin,d.compPanelMixin,e.propTypesFilterMixin,d.wixappsPanelMixin,f.linkColorPickerMixin],propTypes:{fieldIds:b.PropTypes.arrayOf(b.PropTypes.string).isRequired,forType:b.PropTypes.string.isRequired,format:b.PropTypes.string.isRequired,view:b.PropTypes.string.isRequired,customizeTheme:b.PropTypes.bool},_getAppPartCustomizationRulesForCompParam:function(a){return this.props.fieldIds.map(function(b){return{fieldId:b,forType:this.props.forType,format:this.props.format,key:"comp."+a,type:"AppPartCustomization",view:this.props.view}},this)},_getValueFromCustomizationsOrDefaultValues:function(a){var b=this._getAppPartCustomizationRulesForCompParam(a);while(b.length){var c=b.shift();var d=this.linkedCustomization(c);if(d.value){return d.value}}},_getValueFromCurrentStyle:function(a){var b=this.getEditorAPI();var c=this.getTheme();var d=g.fontUtils.parseStyleFont(c,b.theme.fonts.getAll(),b.theme.colors.getAll());return d[{fontFamily:"family",fontSize:"size",bold:"bold",italic:"italic",color:"cssColor",backgroundColor:"color"}[a]]},_getValue:function(a){var b=this._getValueFromCustomizationsOrDefaultValues(a);if(b===undefined){b=this._getValueFromCurrentStyle(a)}return b},_setValue:function(a,b){var c=this._getAppPartCustomizationRulesForCompParam(a);c.forEach(function(a){this.linkedCustomization(a).requestChange(b)},this)},getFontFamily:function(){return this._getValue("fontFamily")},setFontFamily:function(a){this._setValue("fontFamily",a)},getFontSize:function(){return this._getValue("fontSize")},setFontSize:function(a){this._setValue("fontSize",a)},_getBooleanCustomizationValue:function(a){return e.stringUtils.isTrue(this._getValue(a))},_setBooleanCustomizationValue:function(a,b){this._setValue(a,b?"true":"false")},isBold:function(){return this._getBooleanCustomizationValue("bold")},setBold:function(a){this._setBooleanCustomizationValue("bold",a)},isItalic:function(){return this._getBooleanCustomizationValue("italic")},setItalic:function(a){this._setBooleanCustomizationValue("italic",a)},isUnderlined:function(){return this._getBooleanCustomizationValue("underline")},setUnderlined:function(a){this._setBooleanCustomizationValue("underline",a)},openTextColorPicker:function(a,b){var c=true;var d={top:this.props.style.top,left:this.props.style.left};this.openColorPicker(a,b,c,d)},getColorValue:function(a){return this._getValue(a)||"noColor"},setAppPartCustomizationValueForColorCompParam:function(a,b){this._setValue(a,b&&b!=="noColor"?b:null)},getColor:function(){return this.getColorValue("color")},setColor:function(a){this.setAppPartCustomizationValueForColorCompParam("color",a)},getBackgroundColor:function(){return this.getColorValue("backgroundColor")},setBackgroundColor:function(a){var b=/^color_/.test(a)?"back"+a:a;this.setAppPartCustomizationValueForColorCompParam("backgroundColor",b)},handleNoColor:function(){this.setAppPartCustomizationValueForColorCompParam("backgroundColor","transparent")},getStyle:function(){return this._getValueFromCustomizationsOrDefaultValues("style")},setStyle:function(a){this.setFontFamily(null);this.setFontSize(null);this._setValue("style",a)},getTheme:function(){var a=this.getStyle();return this.getEditorAPI().wixapps.classics.styleMapping.styleToFontClass(a)||"font_8"},setTheme:function(a){var b=this.getEditorAPI().wixapps.classics.styleMapping.fontClassToStyle(a);this.setStyle(b)},getLineHeightValue:function(){return this._getValue("line-height")||"auto"},setLineHeight:function(a){this._setValue("line-height",a)},render:h})});define("designPanel/wixapps/wixappsDesignCustomizationPanel.rt",["react","lodash","designPanel/panelTypes/changeStyleDesignPanel","designPanel/wixapps/wixappsFontCustomizationPanel"],function(a,b,c,d){"use strict";return function(){return a.createElement("div",{},this.props.compType!=="wysiwyg.viewer.components.WRichText"?a.createElement(c,b.assign({},{key:"changeStyleDesign",getTitle:this.getPanelTitle,compType:this.props.compType,currentStyleId:this.getStyleId(),selectedComponent:this.getCompRefs(),setStyleFunc:this.setStyleId},this.getPanelProps())):null,this.props.compType==="wysiwyg.viewer.components.WRichText"?a.createElement(d,b.assign({},{fieldIds:this.getFieldIds(),forType:this.getForType(),format:this.getFormat(),key:"wixappsFontCustomization",selectedComponent:this.props.selectedComponent,title:this.getPanelTitle(),view:this.getView(),customizeTheme:this.props.customizeTheme},this.getPanelProps())):null)}});define("designPanel/wixapps/wixappsDesignCustomizationPanel",["react","lodash","util","compPanels","designPanel/wixapps/wixappsDesignCustomizationPanel.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"wixappsDesignCustomizationPanel",mixins:[d.compPanelMixin,c.propTypesFilterMixin,d.wixappsPanelMixin],propTypes:{styleCustomizationRules:a.PropTypes.array.isRequired,compType:a.PropTypes.string.isRequired,panelTitle:a.PropTypes.string.isRequired,panelStyle:a.PropTypes.object.isRequired,customizeTheme:a.PropTypes.bool},getPanelTitle:function(){return this.props.panelTitle},getStyleId:function(){var a=this._getStyleCustomizationRule();return this.linkedCustomization(a).value},getCompRefs:function(){return this.getEditorAPI().selection.getSelectedComponents()},setStyleId:function(a){this.props.styleCustomizationRules.forEach(function(b){this.setCustomizationValue(b,a,true)},this)},customizeDesignCallBack:function(){},getFieldIds:function(){return this.props.styleCustomizationRules.map(function(a){return a.fieldId})},getFormat:function(){var a=this._getStyleCustomizationRule();return a.format},getView:function(){var a=this._getStyleCustomizationRule();return a.view},_getStyleCustomizationRule:function(){return b.head(this.props.styleCustomizationRules)},getForType:function(){var a=this._getStyleCustomizationRule();return a.forType},getPanelProps:function(){return b.assign(this.filteredProps(),{style:this.props.panelStyle})},render:e})});define("designPanel/wixapps/wixappsDesignSubComponentsPanel",["lodash","react","core","compPanels","designPanel/wixapps/appPartInnerCompExcluder","designPanel/wixapps/wixappsDesignSubComponentsPanel.rt","designPanel/wixapps/wixappsDesignCustomizationPanel","experiment"],function(a,b,c,d,e,f,g,h){"use strict";return b.createClass({displayName:"wixappsDesignSubComponentsPanel",mixins:[d.compPanelMixin,d.wixappsPanelMixin],getStyleCustomizationRules:function(b){var c=this.getAvailableCustomizations("design");var d=this._getFormat();return a.filter(c,function(c){var e=a.isUndefined(c.format)||c.format===d||c.format==="*";var f=!b.rules?c.fieldId===(b.compId||b.id):a.some(b.rules,{fieldId:c.fieldId});var g=c.key==="comp.style";return e&&f&&g})},getCompVisibilityCustomization:function(b){var c=a.find(this.getAvailableCustomizations("design"),function(c){return c.relatedComp===b.id&&a.includes(["comp.hidden","showItemsCount","showPostCount"],c.key)});if(c){c.value=this.linkedCustomization(c).value}return c},getComps:function(){var a=this.getEditorAPI();var b=this.getCompRef();var c=this;return this.getInnerComps().filter(function(a){var b=c.evaluateHiddenWhenCondition(a.hiddenWhen);return!b}).filter(function(c){return!(h.isOpen("se_conditionallyHideBlogPaginationSettings")&&e.shouldExclude(a,b,c))}).map(function(a){return{label:a.label,id:a.id,type:a.type,customization:this.getCompVisibilityCustomization(a),styleCustomizationRules:this.getStyleCustomizationRules(a)}},this)},isChecked:function(a){return a.value===a.input.trueVal},openCustomizeDesign:function(a){this.props.switchPanelFunc(g,{styleCustomizationRules:a.styleCustomizationRules,compType:this.getEditorAPI().wixapps.classics.getComponentTypeByProxyName(a.type),panelTitle:a.label,panelStyle:this.props.style,customizeTheme:a.type!=="LabelWithoutTheme"})},updateCompValue:function(a,b){a.value=String(b===a.input.trueVal);var c=this.linkedCustomization(a);c.requestChange(a.value)},render:f})});define("designPanel/wixapps/wixappsDesignPanel",["react","lodash","core","compPanels","designPanel/wixapps/wixappsDesignSubComponentsPanel"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"WixappsDesignPanel",mixins:[c.mixins.editorAPIMixin,d.panelSwitcherMixin],getDefaultProps:function(){return{backButtonLabel:"list_design_panel_back_button_label"}},getInitialPanelClass:function(){return e}})});define("designPanel/list/listDesignPresetPanel.rt",["react","lodash","baseUI","designPanel/core/designPanel"],function(a,b,c,d){"use strict";return function(){return a.createElement(d,b.assign({},{
title:"list_design_panel_header_label",panelName:"listDesignPresetPanel",compType:"wixapps.integration.components.AppPart2",helpId:this.props.helpId},this.getDesignPanelProps()),a.createElement("div",{className:"button-wrapper"},a.createElement(c.button,{className:"button",label:"list_design_panel_customize_design_button_label",onClick:this.openCustomizeFieldsPanel})))}});define("designPanel/list/listDesignPanelMixin",["lodash","react","core","util"],function(a,b,c,d){"use strict";return{mixins:[c.mixins.editorAPIMixin],propTypes:{listId:b.PropTypes.string,selectedComponent:b.PropTypes.array.isRequired,switchPanelFunc:b.PropTypes.func.isRequired},switchPanel:function(a,b){this.props.switchPanelFunc(a,b)},getFormat:function(){return this.getEditorAPI().isMobileEditor()?"Mobile":undefined},getListId:function(){return this.props.listId||this.getEditorAPI().components.data.get(this.props.selectedComponent).appPartName},getCompId:function(){return a.head(this.props.selectedComponent).id},getFieldPropValue:function(a,b){var c=this.getEditorAPI().wixapps.appbuilder.layout.getField(this.getListId(),a,this.getFormat());return b?c[b]:c},updateFieldPropValue:function(a,b,c){var d={name:a};d[b]=c;this.getEditorAPI().wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),d,this.getFormat())},updateFieldPropValueInAllDevices:function(a,b,c){var d={name:a};d[b]=c;this.getEditorAPI().wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),d);this.getEditorAPI().wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),d,"Mobile")},addHistorySnapshot:function(a,b,c){this.getEditorAPI().history.add("List design update: listId ["+this.props.listId+"] fieldName ["+a+"] prop ["+b+"] newValue ["+c+"]")},getTitleForFieldPanel:function(b){return a.compact([d.translate("list_design_header_prefix"),b,d.translate("list_design_header_suffix")]).join(" ")}}});define("designPanel/list/listCustomizeFieldsPanel.rt",["react","lodash","baseUILib","baseUI","compPanels","util","core"],function(a,b,c,d,e,f,g){"use strict";function h(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function i(a,b,c){this.toggleFieldVisibility(a,c)}function j(a,b,c){this.toggleFieldVisibility(a,c)}function k(b,e){return a.createElement("div",{key:b.name},this.canCustomizeField(b)?a.createElement(d.checkboxWithButton,{key:b.name,className:"field-checkbox-component",shouldTranslate:false,value:!b.hidden,onChange:i.bind(this,b,e),label:b.displayName,buttonLabel:f.translate("list_design_panel_customize_field_call_to_action_label"),onButtonClick:this.openStylePanel.bind(this,b)}):null,!this.canCustomizeField(b)?a.createElement(c.Checkbox,{key:b.name,labelAfterSymbol:true,className:"field-checkbox-component",shouldTranslate:false,value:!b.hidden,onChange:j.bind(this,b,e),label:b.displayName}):null,a.createElement(c.Divider,{long:true}))}function l(a,b){this.setListLayout("hideSeparator",!b)}function m(a){this.openSeparatorDesignPanel(a)}function n(){var b=this.getListLayout();return a.createElement(d.checkboxWithButton,{className:"field-checkbox-component",value:!b.hideSeparator,onChange:l.bind(this,b),label:"list_design_panel_separator_label",buttonLabel:"list_design_panel_customize_field_call_to_action_label",onButtonClick:m.bind(this,b)})}return function(){return a.createElement.apply(this,[e.compPanelFrame,h({className:"list-customize-fields",title:"list_design_panel_header_label",panelName:this.panelName},this.filteredProps()),this.shouldShowFirstTime()?a.createElement(d.firstTimeInfoBox,{key:"firstTimeInfoBox",biLearnMore:this.getEditorAPI().bi.event.bind(null,g.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,g.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE),context:"settings",id:"List_Customization_Teaser",text:"list_customization_panel_teaser_txt",linkText:true,learnMore:this.openLearnMore,userPrefs:this.getEditorAPI().getUserPreferences()}):null,a.createElement(c.Divider,{long:true}),b.map(this.getFields(),k.bind(this)),n.apply(this,[])])}});define("designPanel/list/fieldStyleDesignPanel.rt",["react","lodash","baseUI","designPanel/panelTypes/changeStyleDesignPanel"],function(a,b,c,d){"use strict";return function(){return a.createElement(d,b.assign({},{title:this.getTitleForFieldPanel(this.state.fieldData.displayName),selectedComponent:[{id:this.props.fieldName}],compType:this.state.fieldData.componentType,currentStyleId:this.state.fieldData.style,shouldTranslate:false,setStyleFunc:this.setFieldStyle.bind(this,this.state.fieldData),shouldMaintainOriginalLayout:false},b.omit(this.filteredProps(),["shouldMaintainOriginalLayout","currentStyleId","getTitle","compRef","compType","setStyleFunc"])))}});define("designPanel/list/fieldStyleDesignPanel",["react","lodash","util","designPanel/list/fieldStyleDesignPanel.rt","designPanel/list/listDesignPanelMixin","core"],function(a,b,c,d,e,f){"use strict";function g(a,b){this.getEditorAPI().bi.event(f.bi.events.lists.LIST_DESIGN_FIELD_STYLE_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:a.name,field_display_name:a.displayName,field_type:a.type,new_style_id:b})}return a.createClass({displayName:"fieldStyleDesignPanel",mixins:[e,c.propTypesFilterMixin],propTypes:{fieldName:a.PropTypes.string.isRequired},getInitialState:function(){var a=this.getFieldPropValue(this.props.fieldName);return{fieldData:a,lastPermanentStyle:a.style}},componentWillReceiveProps:function(){this.setState({fieldData:this.getFieldPropValue(this.props.fieldName)})},setFieldStyle:function(a,b,c){if(b!==this.state.fieldData.style){this.updateFieldPropValueInAllDevices(a.name,"style",b);if(!c&&b!==this.state.lastPermanentStyle){this.setState({lastPermanentStyle:b});g.call(this,a,b)}}},render:d})});define("designPanel/list/listTextFieldDesignPanel.rt",["react","lodash","baseUILib","baseUI","textControls","compPanels"],function(a,b,c,d,e,f){"use strict";function g(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function h(a){this.updateFieldProp("fontClass",a)}function i(a){this.updateFieldProp("fontFamily",a)}function j(a){this.updateFieldProp("fontSize",a)}function k(a){this.updateFieldProp("bold",!this.state.fieldData.bold)}function l(a){this.updateFieldProp("italic",!this.state.fieldData.italic)}function m(a){this.updateFieldProp("underline",!this.state.fieldData.underline)}function n(a){this.onClickColor(this.state.fieldData.color)}function o(a,b){this.onClickBackgroundColor(a)}function p(){var b=this.getBackgroundColorForPicker();return a.createElement(e.textBackgroundColor,{color:this.getColorValue(b),onClick:o.bind(this,b),handleNoColor:this.handleNoBackgroundColor,tooltipValue:"text_editor_buttons_tooltip_text_highlight",tooltipStyleType:d.uiConstants.TOOLTIP.STYLE_TYPE.SMALL})}function q(a){this.updateLayoutProp("text-align",a)}return function(){return a.createElement(f.compPanelFrame,g({panelName:"listTextFieldDesignPanel",title:this.getTitleForFieldPanel(this.state.fieldData.displayName),shouldTranslate:false,className:"settings-panel"},this.filteredProps()),this.props.children?a.createElement("div",{key:"panel-children"},a.createElement(c.Divider,{long:true}),"\n        ",this.props.children,"\n    "):null,a.createElement(c.Divider,{long:true}),a.createElement(e.textStyle,{label:"text_editor_theme_label",value:this.state.fieldData.fontClass,infoText:"text_editor_tooltip_theme",nullLabel:this.translateIfNeeded("list_design_panel_Customize_TextField_CustomTheme_DropdownItem_Label"),onChange:h.bind(this),themeColors:this.getEditorAPI().theme.colors.getAll(),themeFonts:this.getEditorAPI().theme.fonts.getAll(),isDeveloperMode:this.getEditorAPI().developerMode.isEnabled()}),a.createElement(c.Divider,{long:true}),a.createElement(e.fontFamily,{label:"text_editor_font_label",value:this.getFontFamilyValue(this.state.fieldData.fontFamily),infoText:"text_editor_font_tooltip",onChange:i.bind(this),fonts:e.fontUtils.getCurrentSelectableFontsWithParams(this.getEditorAPI())}),a.createElement(c.Divider,{long:true}),a.createElement(d.slider,{label:"text_editor_font_size_label",value:parseInt(this.state.fieldData.fontSize,10),units:"px",infoText:"text_editor_font_size_tooltip",onChange:j.bind(this),min:e.constants.FONT_SIZE.MIN,max:e.constants.FONT_SIZE.MAX}),a.createElement(c.Divider,{long:true}),a.createElement("div",{className:"button-row"},a.createElement(e.iconButton,{name:"textBold",isSelected:this.state.fieldData.bold,onClick:k.bind(this),tooltipValue:"text_editor_buttons_tooltip_bold",tooltipStyleType:d.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),a.createElement(e.iconButton,{name:"textItalic",isSelected:this.state.fieldData.italic,onClick:l.bind(this),tooltipValue:"text_editor_buttons_tooltip_italic",tooltipStyleType:d.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),a.createElement(e.iconButton,{name:"textUnderline",isSelected:this.state.fieldData.underline,onClick:m.bind(this),tooltipValue:"text_editor_buttons_tooltip_underline",tooltipStyleType:d.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),a.createElement(e.textColor,{value:this.getColorValue(this.state.fieldData.color),onClick:n.bind(this),tooltipValue:"text_editor_buttons_tooltip_text_color",tooltipStyleType:d.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),p.apply(this,[]),a.createElement(e.iconsDropDown,{value:this.state.fieldData.layout["text-align"],onChange:q.bind(this),items:this.textAlignOptions(),tooltipValue:"text_editor_buttons_tooltip_alignment",tooltipStyleType:d.uiConstants.TOOLTIP.STYLE_TYPE.SMALL})))}});define("designPanel/list/listTextFieldDesignPanel",["react","lodash","core","util","designPanel/list/listTextFieldDesignPanel.rt","designPanel/list/listDesignPanelMixin","textControls"],function(a,b,c,d,e,f,g){"use strict";function h(a){return a&&a.replace(/^backcolor/,"color")}function i(a){return a&&a.replace(/^color/,"backcolor")}function j(a,b){this.getEditorAPI().panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{siteCustomColors:this.getEditorAPI().theme.colors.getCustomUsedInSkins(),sessionStorage:this.getEditorAPI().userPreferences.session,displayNoColor:true,previewOnHover:false,top:parseInt(this.props.style.top,10)+72+"px",left:parseInt(this.props.style.left,10)-12+"px",value:a,onChange:b},true)}function k(a){this.updateFieldProp("color",a)}function l(a){a=i(a);this.updateFieldProp("backgroundColor",a)}return a.createClass({displayName:"listTextFieldDesignPanel",mixins:[f,d.propTypesFilterMixin,d.translationMixin],propTypes:{fieldName:a.PropTypes.string.isRequired},getInitialState:function(){return{fieldData:this.getFieldPropValue(this.props.fieldName)}},componentWillReceiveProps:function(){this.setState({fieldData:this.getFieldPropValue(this.props.fieldName)})},getFontFamilyValue:function(a){if(g.fontUtils.isUploadedFont(a)){return a}return a&&g.fontUtils.getFont(a).fontFamily},updateFieldProp:function(a,b){this.updateFieldPropValueInAllDevices(this.props.fieldName,a,b);this.addHistorySnapshot(this.props.fieldName,a,b)},textAlignOptions:function(){return{textAlignCenter:"center",textAlignLeft:"left",textAlignRight:"right",textAlignBlock:"justify"}},getBackgroundColorForPicker:function(){return h(this.state.fieldData.backgroundColor)},updateLayoutProp:function(a,c){var d=b.clone(this.state.fieldData.layout);d[a]=c;this.updateFieldProp("layout",d)},onClickColor:function(a){j.call(this,a,k.bind(this))},onClickBackgroundColor:function(a){j.call(this,a,l.bind(this))},handleNoBackgroundColor:function(){return this.updateFieldProp("backgroundColor",null)},getColorValue:function(a){if(a&&a.indexOf("backColor")===0){a=h(a)}if(a&&a.indexOf("color")===0){a=this.getEditorAPI().theme.colors.getAll()[a]||a}return a},render:e})});define("designPanel/list/listDateFieldDesignPanel.rt",["react","lodash","designPanel/list/listTextFieldDesignPanel","baseUI"],function(a,b,c,d){"use strict";function e(b,c){return a.createElement(d.dropDown.option,{value:b.value},"\n            ",this.translateIfNeeded(b.label),"\n        ")}return function(){return a.createElement(c,this.props,a.createElement.apply(this,[d.dropDown.select,{label:"list_design_panel_date_format",value:this.getFormatValue(),onChange:this.updateFormatValue},b.map(this.getAllDateFormats(),e.bind(this))]))}});define("designPanel/list/listDateFieldDesignPanel",["react","util","designPanel/list/listDateFieldDesignPanel.rt","designPanel/list/listDesignPanelMixin"],function(a,b,c,d){"use strict";return a.createClass({displayName:"listDateFieldDesignPanel",mixins:[d,b.translationMixin],propTypes:{fieldName:a.PropTypes.string.isRequired},getFormatValue:function(){return this.getFieldPropValue(this.props.fieldName,"format")},updateFormatValue:function(a){this.updateFieldPropValueInAllDevices(this.props.fieldName,"format",a);this.addHistorySnapshot(this.props.fieldName,"format",a)},getAllDateFormats:function(){return[{label:"LIST_date_format_D/MM/YYYY",value:"m/d/yyyy"},{label:"list_date_format_DD/MM/YYYY",value:"mm/dd/yyyy"},{label:"list__date_format_DD.MM.YYYY",value:"mm.dd.yyyy"},{label:"list__date_format_D.MM.YYYY",value:"m.d.yyyy"},{label:"list__date_format_DD_MMM_YYYY",value:"dd mmm yyyy"},{label:"list__date_format_DD-MM-YYYY",value:"dd-mm-yyyy"},{label:"list__date_format_MMMM_DD_YYYY",value:"mmmm dd, yyyy"},{label:"list__date_format_DD/MM/YYYY",value:"dd/mm/yyyy"},{label:"list__date_format_DD/M/YYYY",value:"d/m/yyyy"},{label:"list__date_format_DD.M.YYYY",value:"d.m.yyyy"}]},render:c})});define("designPanel/list/listCustomizeFieldsPanel",["react","lodash","util","designPanel/list/listCustomizeFieldsPanel.rt","designPanel/panelTypes/changeStyleDesignPanel","designPanel/list/listDesignPanelMixin","designPanel/list/fieldStyleDesignPanel","designPanel/list/listTextFieldDesignPanel","designPanel/list/listDateFieldDesignPanel","core"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k={"string|wysiwyg.viewer.components.wrichtext":h,"wix:date|wysiwyg.viewer.components.wrichtext":i};function l(a){var b=[a.type,a.componentType].join("|").toLowerCase();return k[b]||g}function m(a){this.getEditorAPI().bi.event(j.bi.events.lists.LIST_DESIGN_FIELD_CUSTOMIZE_CLICKED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:a.name,field_display_name:a.displayName,field_type:a.type})}function n(a,b){this.getEditorAPI().bi.event(j.bi.events.lists.LIST_DESIGN_FIELD_VISIBILITY_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:a.name,field_display_name:a.displayName,field_type:a.type,check_box_status:b?"on":"off"})}return a.createClass({displayName:"listCustomizeFieldsPanel",mixins:[f,c.propTypesFilterMixin],panelName:"listCustomizeFieldsPanel",getFields:function(){return this.getEditorAPI().wixapps.appbuilder.layout.getAllFields(this.getListId(),this.getFormat())},shouldShowFirstTime:function(){return this.getEditorAPI().wixapps.appbuilder.data.lists.getListVersion(this.getListId())==="1.0"},canCustomizeField:function(a){return!this.getEditorAPI().isMobileEditor()&&a.type!=="wix:RichText"},openStylePanel:function(a){m.call(this,a);this.switchPanel(l(a),{listId:this.getListId(),fieldName:a.name})},toggleFieldVisibility:function(a,b){this.updateFieldPropValue(a.name,"hidden",!b);this.addHistorySnapshot(a.name,"hidden",!b);n.call(this,a,b)},getListLayout:function(){return this.getEditorAPI().wixapps.appbuilder.layout.getListLayout(this.getListId(),this.getFormat())},setListLayout:function(a,b){var c={};c[a]=b;return this.getEditorAPI().wixapps.appbuilder.layout.setListLayout(this.getListId(),c,this.getFormat())},openLearnMore:function(){var a="54a00e80-0fe5-4b3d-af7e-ec5f38d727f2";var b={panel_name:this.panelName,origin:j.constants.BI.HELP.ORIGIN.PANEL,component:this.getEditorAPI().selection.getSelectedComponentType(),learn_more:true};this.getEditorAPI().panelManager.openHelpCenter(a,null,b)},openSeparatorDesignPanel:function(a){this.switchPanel(e,b.assign(this.filteredProps(),{title:this.getTitleForFieldPanel(c.translate("list_design_panel_separator_label")),selectedComponent:[{id:"listSeparator"}],compType:a.separatorComponentType,currentStyleId:a.separatorStyle,setStyleFunc:this.setListLayout.bind(this,"separatorStyle"),shouldTranslate:false,shouldMaintainOriginalLayout:false}))},render:d})});define("designPanel/list/listDesignPresetPanel",["react","lodash","designPanel/list/listDesignPresetPanel.rt","designPanel/list/listDesignPanelMixin","designPanel/list/listCustomizeFieldsPanel","core"],function(a,b,c,d,e,f){"use strict";function g(a){var b=a.custom.template;this.getEditorAPI().wixapps.appbuilder.layout.setItemTemplate(this.getListId(),b);this.getEditorAPI().components.layout.update(this.props.selectedComponent,{width:a.layout.width},true)}function h(a){this.getEditorAPI().bi.event(f.bi.events.lists.LIST_DESIGN_PRESET_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),preset_id:a})}return a.createClass({displayName:"listDesignPresetPanel",mixins:[d],propTypes:{selectedComponent:a.PropTypes.array.isRequired},changePermanentState:function(a,b){g.call(this,a);h.call(this,b)},openCustomizeFieldsPanel:function(){this.switchPanel(e,{listId:this.getListId()})},getDesignPanelProps:function(){return b.assign({},this.props,{changePermanentState:this.changePermanentState,changeTempState:b.noop,maintainOriginalState:b.noop})},render:c})});define("designPanel/list/listDesignPanel",["react","lodash","core","compPanels","designPanel/list/listDesignPresetPanel","designPanel/list/listCustomizeFieldsPanel"],function(a,b,c,d,e,f){"use strict";function g(a){return b.head(a).id}function h(a){this.getEditorAPI().bi.event(c.bi.events.lists.LIST_DESIGN_BACK_CLICKED,{list_part_id:j.call(this),component_id:g(this.props.selectedComponent),back_to_panel_name:a.displayName})}function i(){this.getEditorAPI().bi.event(c.bi.events.lists.LIST_DESIGN_PANEL_OPENED,{list_part_id:j.call(this),component_id:g(this.props.selectedComponent)})}function j(){return this.getEditorAPI().components.data.get(this.props.selectedComponent).appPartName}function k(){return this.getEditorAPI().wixapps.appbuilder.data.lists.getListVersion(j.call(this))}return a.createClass({displayName:"listDesignPanel",mixins:[c.mixins.editorAPIMixin,d.panelSwitcherMixin],propTypes:{selectedComponent:a.PropTypes.array.isRequired},getDefaultProps:function(){return{backButtonLabel:"list_design_panel_back_button_label",helpId:"1d4fc63f-a23a-4ed3-b811-905f18045fe9"}},getInitialPanelClass:function(){return this.getEditorAPI().isMobileEditor()||k.call(this)==="1.0"?f:e},onPreviousPanel:function(a){h.call(this,a)},componentWillMount:function(){i.call(this)}})});define("designPanel/panelTypes/cssDesignDataPanel.rt",["react","lodash","designPanel/core/designPanel","customizeDesignDataPanel","baseUI"],function(a,b,c,d,e){"use strict";function f(){var b=d.panel;return a.createElement("div",{key:"advancedStylePanel"},a.createElement(b,{selectedComponent:this.props.selectedComponent}))}return function(){return a.createElement(c,b.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()),this.shouldLinkToAdvancedStyling()?a.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},a.createElement(e.button,{className:"button",ref:"customizeDesign",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"customize_design_drop_light"})):null,this.state.advancedStyling?f.apply(this,[]):null)}});define("designPanel/panelTypes/cssDesignDataPanel",["react","lodash","core","designPanelUtils","addPanelData","designPanel/panelTypes/cssDesignDataPanel.rt"],function(a,b,c,d,e,f){"use strict";var g=null;var h=null;return a.createClass({displayName:"change-css-design-data-panel",mixins:[d,c.mixins.editorAPIMixin],getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},componentWillMount:function(){g=this.getEditorAPI().components.design.get(this.props.selectedComponent)},componentWillUnmount:function(){h=null},changePermanentState:function(a){if(a.design){h=a.design;this.getEditorAPI().components.design.update(this.props.selectedComponent,a.design,true)}},changeTempState:function(a){if(a.design){this.getEditorAPI().components.design.update(this.props.selectedComponent,a.design,true)}},maintainOriginalState:function(){var a=h||g;if(!b.isNull(a)){this.getEditorAPI().components.design.update(this.props.selectedComponent,a,true)}},isSelectedItem:function(a,c){if(!b.isNull(h)){return a.design.charas===h.charas}else if(a.design.charas===g.charas){var d=e.addPanelDataConsts.SECTIONS_TYPES;return c===d.PERSONALIZED_DESIGN||c===d.DESIGN_DATA_THEME_PRESET}},shouldLinkToAdvancedStyling:function(){return!this.state.advancedStyling},render:f})});define("designPanel/panelTypes/changeGoogleMapDesignPanel.rt",["react","lodash","designPanel/core/designPanel"],function(a,b,c){"use strict";return function(){return a.createElement(c,b.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()))}});define("designPanel/panelTypes/changeGoogleMapDesignPanel",["react","core","lodash","designPanelUtils","designPanel/core/designPanelMixin","designPanel/panelTypes/changeGoogleMapDesignPanel.rt"],function(a,b,c,d,e,f){"use strict";var g="gm1";var h="wysiwyg.viewer.skins.GoogleMapSkin";var i={groups:{},properties:{},propertiesSource:{}};return a.createClass({displayName:"changeGoogleMapDesignPanel",mixins:[e,b.mixins.editorAPIMixin],getStateFromProps:function(a){var b=this.getEditorAPI();var d=a.selectedComponent;var e=b.components.data.get(d);var f=b.components.properties.get(d);this.newStyleId=this.createStyleId(g);return{mapStyle:c.get(e,"mapStyle",[]),mapType:f.mapType,originalStyleId:b.components.style.getId(d),isPermanentStateChanged:false}},updateComponent:function(a){var b=this.getEditorAPI();var e=this.props.selectedComponent;var f=a.data;var g=a.props;var j=false;if(f&&g){j=true;var k=d.changeStyleHelper.getCompDefStyle({styleId:this.newStyleId},b);k.style=c.get(a,"style.style",i);b.components.data.update(e,c.pick(f,"mapStyle"),true);b.components.properties.update(e,c.pick(g,"mapType"),true);this.setComponentStyleId(this.newStyleId);b.components.style.update(this.props.selectedComponent,k);this.changeSkin(this.newStyleId,h)}return j},changeSkin:function(a,b){var c=this.getEditorAPI().theme.styles.get(a);if(b===c.skin){return}c.skin=b;this.getEditorAPI().theme.styles.update(a,c)},changePermanentState:function(a){var b=this.updateComponent(a);if(b){this.setState({mapStyle:a.data.mapStyle,mapType:a.props.mapType,isPermanentStateChanged:true})}},changeTempState:function(a){this.updateComponent(a)},maintainOriginalState:function(){var a=this.getEditorAPI();var b=this.props.selectedComponent;var c=this.state.mapStyle;var d=this.state.mapType;if(c&&d){a.components.data.update(b,{mapStyle:c},true);a.components.properties.update(b,{mapType:d},true);if(!this.state.isPermanentStateChanged){this.setComponentStyleId(this.state.originalStyleId)}}},render:f})});define("designPanel/core/designPanelFactory",["react","lodash","core","designPanelUtils","designPanel/panelTypes/changeStyleDesignPanel","designPanel/panelTypes/changeDataDesignPanel","designPanel/panelTypes/changeGalleryDesignPanel","designPanel/wixapps/wixappsDesignPanel","designPanel/list/listDesignPanel","designPanel/panelTypes/cssDesignDataPanel","designPanel/panelTypes/changeGoogleMapDesignPanel"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l={"wysiwyg.common.components.imagebutton.viewer.ImageButton":{desktop:f},"wysiwyg.viewer.components.documentmedia.DocumentMedia":{desktop:f},"wysiwyg.viewer.components.MatrixGallery":{desktop:g},"wysiwyg.viewer.components.PaginatedGridGallery":{desktop:g},"wysiwyg.viewer.components.SliderGallery":{desktop:g},"wysiwyg.viewer.components.SlideShowGallery":{desktop:g},"tpa.viewer.components.Masonry":{desktop:g},"tpa.viewer.components.Accordion":{desktop:g},"tpa.viewer.components.Impress":{desktop:g},"tpa.viewer.components.Freestyle":{desktop:g},"tpa.viewer.components.Collage":{desktop:g},"tpa.viewer.components.Honeycomb":{desktop:g},"tpa.viewer.components.StripShowcase":{desktop:g},"tpa.viewer.components.StripSlideshow":{desktop:g},"tpa.viewer.components.Thumbnails":{desktop:g},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{desktop:g},"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{desktop:g},"wixapps.integration.components.AppPart":{desktop:h},"wixapps.integration.components.AppPart2":{desktop:i},"wysiwyg.viewer.components.HoverBox":{desktop:j},"wysiwyg.viewer.components.GoogleMap":{desktop:k}};function m(a){var b=l[a];if(!b){return e}return this.getEditorAPI().isMobileEditor()&&b.mobile||b.desktop}return a.createClass({displayName:"designPanelFactory",mixins:[c.mixins.editorAPIMixin],propTypes:{compType:a.PropTypes.string,shouldMaintainOriginalLayout:a.PropTypes.bool},render:function(){var c=this.props.selectedComponent;var e=this.props.compType;if(!this.props.selectedComponent||!this.props.compType){c=this.getEditorAPI().selection.getSelectedComponents();e=this.getEditorAPI().components.getType(c)}var f=m.call(this,e);var g={compType:e,selectedComponent:c,shouldMaintainOriginalLayout:true};if(!d.customizeDesignComponents.shouldDisplayDesignPanel(e)){g.onlyAdvancedStyling=true}return a.createElement(f,b.assign(g,this.props))}})});define("designPanel",["designPanel/core/designPanelFactory","designPanel/list/listDesignPresetPanel","designPanel/list/listCustomizeFieldsPanel","designPanel/list/fieldStyleDesignPanel","designPanel/list/listTextFieldDesignPanel","designPanel/panelTypes/changeStyleDesignPanel"],function(a,b,c,d,e,f){"use strict";return{designPanel:a,changeStyleDesignPanel:f,list:{listDesignPresetPanel:b,listCustomizeFieldsPanel:c,fieldStyleDesignPanel:d,listTextFieldDesignPanel:e}}});